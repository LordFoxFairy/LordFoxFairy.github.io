<!doctype html><html lang=zh-cn dir=ltr><head><meta charset=UTF-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="ç¬¬ä¸‰ç¯‡ LangGraph æ·±å…¥ï¼šä» Chain åˆ° Graph çš„æ€ç»´è·ƒè¿# ğŸ“Œ æœ¬ç¯‡æ¦‚è¦# æœ¬ç¯‡å°†æ·±å…¥ LangGraph çš„æ ¸å¿ƒæ¶æ„ï¼Œä»ç”Ÿäº§çº§ State è®¾è®¡æ¨¡å¼åˆ°åŸå­åŒ–çš„æ§åˆ¶æµã€‚
ç« èŠ‚ æ ¸å¿ƒå†…å®¹ å­¦ä¹ ç›®æ ‡ ç¬¬1ç«  æ¶æ„å“²å­¦ BSP æ¨¡å‹ã€Pregel è¿è¡Œæ—¶æœºåˆ¶ ç¬¬2ç«  çŠ¶æ€å·¥ç¨‹ MessagesState æ ‡å‡†èŒƒå¼ã€Input/Output Schema åˆ†ç¦» ç¬¬3ç«  è·¯ç”±æ§åˆ¶ Command API åŸå­åŒ–è·¯ç”± ç¬¬4ç«  æŒä¹…åŒ–ä¸è®°å¿† Checkpoint å¿«ç…§æœºåˆ¶ã€Time Travel çŠ¶æ€å›æ»š ç¬¬5ç«  ç”Ÿäº§çº§æ¨¡å¼ Streaming æµå¼è¾“å‡ºã€è¿è¡Œæ—¶é…ç½® Config ğŸ’¡ å‰ç½®çŸ¥è¯†: éœ€æŒæ¡ç¬¬äºŒç¯‡çš„ Agent åŸºç¡€ã€‚æœ¬ç¯‡ä»£ç åŸºäº LangChain 1.0+ å’Œ LangGraph æœ€æ–°æ ‡å‡†ã€‚
ç¬¬1ç« ï¼šLangGraph æ¶æ„å“²å­¦ (Architecture)# 1.1 ä»æ— çŠ¶æ€ DAG åˆ°æœ‰çŠ¶æ€ Actor# åœ¨ LangChain æ—¶ä»£ï¼Œæˆ‘ä»¬æ„å»ºçš„æ˜¯ DAG (æœ‰å‘æ— ç¯å›¾)ï¼Œæ•°æ®åƒæµæ°´ä¸€æ ·ç»è¿‡ Prompt -> Model -> Parserã€‚
"><meta name=theme-color media="(prefers-color-scheme: light)" content="#ffffff"><meta name=theme-color media="(prefers-color-scheme: dark)" content="#343a40"><meta name=color-scheme content="light dark"><meta property="og:url" content="https://LordFoxFairy.github.io/notebooks/langchain%E7%AC%94%E8%AE%B0/%E7%AC%AC%E4%B8%89%E7%AF%87-langgraph-%E6%B7%B1%E5%85%A5/"><meta property="og:site_name" content="LordFoxFairyçš„ç¬”è®°æœ¬"><meta property="og:title" content="ç¬¬ä¸‰ç¯‡ LangGraph æ·±å…¥"><meta property="og:description" content="ç¬¬ä¸‰ç¯‡ LangGraph æ·±å…¥ï¼šä» Chain åˆ° Graph çš„æ€ç»´è·ƒè¿# ğŸ“Œ æœ¬ç¯‡æ¦‚è¦# æœ¬ç¯‡å°†æ·±å…¥ LangGraph çš„æ ¸å¿ƒæ¶æ„ï¼Œä»ç”Ÿäº§çº§ State è®¾è®¡æ¨¡å¼åˆ°åŸå­åŒ–çš„æ§åˆ¶æµã€‚
ç« èŠ‚ æ ¸å¿ƒå†…å®¹ å­¦ä¹ ç›®æ ‡ ç¬¬1ç«  æ¶æ„å“²å­¦ BSP æ¨¡å‹ã€Pregel è¿è¡Œæ—¶æœºåˆ¶ ç¬¬2ç«  çŠ¶æ€å·¥ç¨‹ MessagesState æ ‡å‡†èŒƒå¼ã€Input/Output Schema åˆ†ç¦» ç¬¬3ç«  è·¯ç”±æ§åˆ¶ Command API åŸå­åŒ–è·¯ç”± ç¬¬4ç«  æŒä¹…åŒ–ä¸è®°å¿† Checkpoint å¿«ç…§æœºåˆ¶ã€Time Travel çŠ¶æ€å›æ»š ç¬¬5ç«  ç”Ÿäº§çº§æ¨¡å¼ Streaming æµå¼è¾“å‡ºã€è¿è¡Œæ—¶é…ç½® Config ğŸ’¡ å‰ç½®çŸ¥è¯†: éœ€æŒæ¡ç¬¬äºŒç¯‡çš„ Agent åŸºç¡€ã€‚æœ¬ç¯‡ä»£ç åŸºäº LangChain 1.0+ å’Œ LangGraph æœ€æ–°æ ‡å‡†ã€‚
ç¬¬1ç« ï¼šLangGraph æ¶æ„å“²å­¦ (Architecture)# 1.1 ä»æ— çŠ¶æ€ DAG åˆ°æœ‰çŠ¶æ€ Actor# åœ¨ LangChain æ—¶ä»£ï¼Œæˆ‘ä»¬æ„å»ºçš„æ˜¯ DAG (æœ‰å‘æ— ç¯å›¾)ï¼Œæ•°æ®åƒæµæ°´ä¸€æ ·ç»è¿‡ Prompt -> Model -> Parserã€‚"><meta property="og:locale" content="zh_cn"><meta property="og:type" content="article"><meta property="article:section" content="notebooks"><meta itemprop=name content="ç¬¬ä¸‰ç¯‡ LangGraph æ·±å…¥"><meta itemprop=description content="ç¬¬ä¸‰ç¯‡ LangGraph æ·±å…¥ï¼šä» Chain åˆ° Graph çš„æ€ç»´è·ƒè¿# ğŸ“Œ æœ¬ç¯‡æ¦‚è¦# æœ¬ç¯‡å°†æ·±å…¥ LangGraph çš„æ ¸å¿ƒæ¶æ„ï¼Œä»ç”Ÿäº§çº§ State è®¾è®¡æ¨¡å¼åˆ°åŸå­åŒ–çš„æ§åˆ¶æµã€‚
ç« èŠ‚ æ ¸å¿ƒå†…å®¹ å­¦ä¹ ç›®æ ‡ ç¬¬1ç«  æ¶æ„å“²å­¦ BSP æ¨¡å‹ã€Pregel è¿è¡Œæ—¶æœºåˆ¶ ç¬¬2ç«  çŠ¶æ€å·¥ç¨‹ MessagesState æ ‡å‡†èŒƒå¼ã€Input/Output Schema åˆ†ç¦» ç¬¬3ç«  è·¯ç”±æ§åˆ¶ Command API åŸå­åŒ–è·¯ç”± ç¬¬4ç«  æŒä¹…åŒ–ä¸è®°å¿† Checkpoint å¿«ç…§æœºåˆ¶ã€Time Travel çŠ¶æ€å›æ»š ç¬¬5ç«  ç”Ÿäº§çº§æ¨¡å¼ Streaming æµå¼è¾“å‡ºã€è¿è¡Œæ—¶é…ç½® Config ğŸ’¡ å‰ç½®çŸ¥è¯†: éœ€æŒæ¡ç¬¬äºŒç¯‡çš„ Agent åŸºç¡€ã€‚æœ¬ç¯‡ä»£ç åŸºäº LangChain 1.0+ å’Œ LangGraph æœ€æ–°æ ‡å‡†ã€‚
ç¬¬1ç« ï¼šLangGraph æ¶æ„å“²å­¦ (Architecture)# 1.1 ä»æ— çŠ¶æ€ DAG åˆ°æœ‰çŠ¶æ€ Actor# åœ¨ LangChain æ—¶ä»£ï¼Œæˆ‘ä»¬æ„å»ºçš„æ˜¯ DAG (æœ‰å‘æ— ç¯å›¾)ï¼Œæ•°æ®åƒæµæ°´ä¸€æ ·ç»è¿‡ Prompt -> Model -> Parserã€‚"><meta itemprop=wordCount content="780"><title>ç¬¬ä¸‰ç¯‡ LangGraph æ·±å…¥ | LordFoxFairyçš„ç¬”è®°æœ¬</title><link rel=icon href=/favicon.png><link rel=manifest href=/manifest.json><link rel=canonical href=https://LordFoxFairy.github.io/notebooks/langchain%E7%AC%94%E8%AE%B0/%E7%AC%AC%E4%B8%89%E7%AF%87-langgraph-%E6%B7%B1%E5%85%A5/><link rel=stylesheet href=/book.min.6970156cec683193d93c9c4edaf0d56574e4361df2e0c1be4f697ae81c3ba55f.css integrity="sha256-aXAVbOxoMZPZPJxO2vDVZXTkNh3y4MG+T2l66Bw7pV8=" crossorigin=anonymous><script defer src=/fuse.min.js></script><script defer src=/en.search.min.a7a11a812549b6c20d4eeaf4a5a8317847527505f7a0ad3e6824fb320b3128a8.js integrity="sha256-p6EagSVJtsINTur0pagxeEdSdQX3oK0+aCT7MgsxKKg=" crossorigin=anonymous></script></head><body dir=ltr class="book-kind-page book-type-notebooks"><input type=checkbox class="hidden toggle" id=menu-control>
<input type=checkbox class="hidden toggle" id=toc-control><main class="container flex"><aside class=book-menu><div class=book-menu-content><nav><h2 class=book-brand><a class="flex align-center" href=/><span>LordFoxFairyçš„ç¬”è®°æœ¬</span></a></h2><div class="book-search hidden"><input id=book-search-input type=text placeholder=Search aria-label=Search maxlength=64 data-hotkeys=s/><div class="book-search-spinner hidden"></div><ul id=book-search-results></ul></div><script>document.querySelector(".book-search").classList.remove("hidden")</script><ul><li><input type=checkbox id=section-8410cdd8ef137d6cb143c08e6db6ba10 class=toggle checked>
<label for=section-8410cdd8ef137d6cb143c08e6db6ba10 class=flex><a role=button>LangChainç¬”è®°</a>
<img src=/icons/chevron-right.svg class=book-icon alt=Expand></label><ul><li><a href=/notebooks/langchain%E7%AC%94%E8%AE%B0/%E7%AC%AC%E4%B8%80%E7%AF%87-%E5%9F%BA%E7%A1%80%E8%AE%A4%E7%9F%A5/>ç¬¬ä¸€ç¯‡ åŸºç¡€è®¤çŸ¥</a></li><li><a href=/notebooks/langchain%E7%AC%94%E8%AE%B0/%E7%AC%AC%E4%BA%8C%E7%AF%87-%E5%BF%AB%E9%80%9F%E4%B8%8A%E6%89%8B%E5%AE%9E%E6%88%98/>ç¬¬äºŒç¯‡ å¿«é€Ÿä¸Šæ‰‹å®æˆ˜</a></li><li><a href=/notebooks/langchain%E7%AC%94%E8%AE%B0/%E7%AC%AC%E4%B8%89%E7%AF%87-langgraph-%E6%B7%B1%E5%85%A5/ class=active>ç¬¬ä¸‰ç¯‡ LangGraph æ·±å…¥</a></li><li><a href=/notebooks/langchain%E7%AC%94%E8%AE%B0/%E7%AC%AC%E5%9B%9B%E7%AF%87-rag%E5%9F%BA%E7%A1%80%E7%AF%87langchain%E7%AF%87/>ç¬¬å››ç¯‡ RAGåŸºç¡€ç¯‡(LangChainç¯‡)</a></li><li><a href=/notebooks/langchain%E7%AC%94%E8%AE%B0/%E7%AC%AC%E5%9B%9B%E7%AF%87-rag%E5%9F%BA%E7%A1%80%E7%AF%87llamaindex%E7%AF%87/>ç¬¬å››ç¯‡ RAGåŸºç¡€ç¯‡(LlamaIndexç¯‡)</a></li><li><a href=/notebooks/langchain%E7%AC%94%E8%AE%B0/%E7%AC%AC%E4%BA%94%E7%AF%87-rag%E9%AB%98%E7%BA%A7%E7%AF%87langchain%E7%AF%87/>ç¬¬äº”ç¯‡ RAGé«˜çº§ç¯‡(LangChainç¯‡)</a></li><li><a href=/notebooks/langchain%E7%AC%94%E8%AE%B0/%E7%AC%AC%E4%BA%94%E7%AF%87-rag%E9%AB%98%E7%BA%A7%E7%AF%87llamaindex%E7%AF%87/>ç¬¬äº”ç¯‡ RAGé«˜çº§ç¯‡(LlamaIndexç¯‡)</a></li><li><a href=/notebooks/langchain%E7%AC%94%E8%AE%B0/%E7%AC%AC%E5%85%AD%E7%AF%87-%E6%96%87%E6%A1%A3%E5%A4%84%E7%90%86%E4%B8%8E%E6%95%B0%E6%8D%AE%E6%B8%85%E6%B4%97/>ç¬¬å…­ç¯‡ æ–‡æ¡£å¤„ç†ä¸æ•°æ®æ¸…æ´—</a></li><li><a href=/notebooks/langchain%E7%AC%94%E8%AE%B0/%E7%AC%AC%E4%B8%83%E7%AF%87-deep-agents/>ç¬¬ä¸ƒç¯‡ Deep Agents</a></li><li><a href=/notebooks/langchain%E7%AC%94%E8%AE%B0/%E7%AC%AC%E5%85%AB%E7%AF%87-middleware-%E5%B7%A5%E7%A8%8B%E5%8C%96/>ç¬¬å…«ç¯‡ Middleware å·¥ç¨‹åŒ–</a></li><li><a href=/notebooks/langchain%E7%AC%94%E8%AE%B0/%E7%AC%AC%E4%B9%9D%E7%AF%87-agent-%E6%9E%B6%E6%9E%84%E8%AE%BE%E8%AE%A1/>ç¬¬ä¹ç¯‡ Agent æ¶æ„è®¾è®¡</a></li><li><a href=/notebooks/langchain%E7%AC%94%E8%AE%B0/%E7%AC%AC%E5%8D%81%E7%AF%87-%E7%94%9F%E4%BA%A7%E5%AE%9E%E8%B7%B5%E4%B8%8E%E7%9B%91%E6%8E%A7%E8%AF%84%E4%BC%B0/>ç¬¬åç¯‡ ç”Ÿäº§å®è·µä¸ç›‘æ§è¯„ä¼°</a></li><li><input type=checkbox id=section-a3e9b1811e5a21dbfddb0753f565cedb class=toggle>
<label for=section-a3e9b1811e5a21dbfddb0753f565cedb class=flex><a role=button>assets</a>
<img src=/icons/chevron-right.svg class=book-icon alt=Expand></label><ul></ul></li><li><input type=checkbox id=section-9a64553a000534ad3c81a611c6c29ec2 class=toggle>
<label for=section-9a64553a000534ad3c81a611c6c29ec2 class=flex><a role=button>code</a>
<img src=/icons/chevron-right.svg class=book-icon alt=Expand></label><ul><li><input type=checkbox id=section-6fad2589acfdd5d6a1fb55beb392fb77 class=toggle>
<label for=section-6fad2589acfdd5d6a1fb55beb392fb77 class=flex><a href=/notebooks/langchain%E7%AC%94%E8%AE%B0/code/fasta2a/>fasta2a</a>
<img src=/icons/chevron-right.svg class=book-icon alt=Expand></label><ul></ul></li></ul></li></ul></li><li><input type=checkbox id=section-ce33306d44f9ed4d296b9a79329bed1c class=toggle>
<label for=section-ce33306d44f9ed4d296b9a79329bed1c class=flex><a role=button>å›¾åƒç®—æ³•ç¬”è®°</a>
<img src=/icons/chevron-right.svg class=book-icon alt=Expand></label><ul><li><a href=/notebooks/%E5%9B%BE%E5%83%8F%E7%AE%97%E6%B3%95%E7%AC%94%E8%AE%B0/%E7%AC%AC%E4%B8%80%E7%AF%87_%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0%E5%9F%BA%E7%A1%80/>ç¬¬ä¸€ç¯‡ æœºå™¨å­¦ä¹ åŸºç¡€</a></li><li><a href=/notebooks/%E5%9B%BE%E5%83%8F%E7%AE%97%E6%B3%95%E7%AC%94%E8%AE%B0/%E7%AC%AC%E4%BA%8C%E7%AF%87_%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0%E5%9F%BA%E7%A1%80/>ç¬¬äºŒç¯‡ æ·±åº¦å­¦ä¹ åŸºç¡€</a></li><li><a href=/notebooks/%E5%9B%BE%E5%83%8F%E7%AE%97%E6%B3%95%E7%AC%94%E8%AE%B0/%E7%AC%AC%E4%B8%89%E7%AF%87_%E8%AE%A1%E7%AE%97%E6%9C%BA%E8%A7%86%E8%A7%89%E6%A0%B8%E5%BF%83%E6%8A%80%E6%9C%AF/>ç¬¬ä¸‰ç¯‡ è®¡ç®—æœºè§†è§‰æ ¸å¿ƒæŠ€æœ¯</a></li><li><a href=/notebooks/%E5%9B%BE%E5%83%8F%E7%AE%97%E6%B3%95%E7%AC%94%E8%AE%B0/%E7%AC%AC%E5%9B%9B%E7%AF%87_%E7%9B%AE%E6%A0%87%E6%A3%80%E6%B5%8B%E4%B8%8Eyolo%E7%B3%BB%E5%88%97/>ç¬¬å››ç¯‡ ç›®æ ‡æ£€æµ‹ä¸YOLOç³»åˆ—</a></li><li><a href=/notebooks/%E5%9B%BE%E5%83%8F%E7%AE%97%E6%B3%95%E7%AC%94%E8%AE%B0/%E7%AC%AC%E4%BA%94%E7%AF%87_%E5%9B%BE%E5%83%8F%E5%88%86%E5%89%B2/>ç¬¬äº”ç¯‡ å›¾åƒåˆ†å‰²</a></li><li><a href=/notebooks/%E5%9B%BE%E5%83%8F%E7%AE%97%E6%B3%95%E7%AC%94%E8%AE%B0/%E7%AC%AC%E5%85%AD%E7%AF%87_%E7%94%9F%E6%88%90%E6%A8%A1%E5%9E%8B/>ç¬¬å…­ç¯‡ ç”Ÿæˆæ¨¡å‹</a></li><li><a href=/notebooks/%E5%9B%BE%E5%83%8F%E7%AE%97%E6%B3%95%E7%AC%94%E8%AE%B0/%E7%AC%AC%E4%B8%83%E7%AF%87_%E8%A7%86%E8%A7%89%E5%A4%A7%E6%A8%A1%E5%9E%8B/>ç¬¬ä¸ƒç¯‡ è§†è§‰å¤§æ¨¡å‹</a></li><li><a href=/notebooks/%E5%9B%BE%E5%83%8F%E7%AE%97%E6%B3%95%E7%AC%94%E8%AE%B0/%E7%AC%AC%E5%85%AB%E7%AF%87_%E7%94%9F%E4%BA%A7%E5%AE%9E%E8%B7%B5/>ç¬¬å…«ç¯‡ ç”Ÿäº§å®è·µ</a></li></ul></li><li><input type=checkbox id=section-77f5db9e44a9af6dab4403b49a65334f class=toggle>
<label for=section-77f5db9e44a9af6dab4403b49a65334f class=flex><a href=/notebooks/%E5%A4%A7%E6%A8%A1%E5%9E%8B%E7%AC%94%E8%AE%B0/>å¤§æ¨¡å‹ç¬”è®°</a>
<img src=/icons/chevron-right.svg class=book-icon alt=Expand></label><ul><li><input type=checkbox id=section-db59738de306cbbe384ad7fbd5cf11b5 class=toggle>
<label for=section-db59738de306cbbe384ad7fbd5cf11b5 class=flex><a role=button>ç¬¬ä¸€éƒ¨åˆ†ï¼šå¤§è¯­è¨€æ¨¡å‹åŸºç¡€</a>
<img src=/icons/chevron-right.svg class=book-icon alt=Expand></label><ul><li><a href=/notebooks/%E5%A4%A7%E6%A8%A1%E5%9E%8B%E7%AC%94%E8%AE%B0/%E7%AC%AC%E4%B8%80%E9%83%A8%E5%88%86%E5%A4%A7%E8%AF%AD%E8%A8%80%E6%A8%A1%E5%9E%8B%E5%9F%BA%E7%A1%80/%E7%AC%AC1%E7%AB%A0_%E5%88%9D%E8%AF%86%E5%A4%A7%E8%AF%AD%E8%A8%80%E6%A8%A1%E5%9E%8B/>ç¬¬1ç«  åˆè¯†å¤§è¯­è¨€æ¨¡å‹</a></li><li><a href=/notebooks/%E5%A4%A7%E6%A8%A1%E5%9E%8B%E7%AC%94%E8%AE%B0/%E7%AC%AC%E4%B8%80%E9%83%A8%E5%88%86%E5%A4%A7%E8%AF%AD%E8%A8%80%E6%A8%A1%E5%9E%8B%E5%9F%BA%E7%A1%80/%E7%AC%AC2%E7%AB%A0_%E4%B8%8E%E6%A8%A1%E5%9E%8B%E5%AF%B9%E8%AF%9D%E6%8F%90%E7%A4%BA%E5%B7%A5%E7%A8%8B%E5%9F%BA%E7%A1%80/>ç¬¬2ç«  ä¸æ¨¡å‹å¯¹è¯ï¼šæç¤ºå·¥ç¨‹åŸºç¡€</a></li><li><a href=/notebooks/%E5%A4%A7%E6%A8%A1%E5%9E%8B%E7%AC%94%E8%AE%B0/%E7%AC%AC%E4%B8%80%E9%83%A8%E5%88%86%E5%A4%A7%E8%AF%AD%E8%A8%80%E6%A8%A1%E5%9E%8B%E5%9F%BA%E7%A1%80/%E7%AC%AC3%E7%AB%A0_%E8%AF%AD%E8%A8%80%E7%9A%84%E5%9F%BA%E7%9F%B3%E5%88%86%E8%AF%8D%E4%B8%8E%E5%B5%8C%E5%85%A5/>ç¬¬3ç«  è¯­è¨€çš„åŸºçŸ³ï¼šåˆ†è¯ä¸åµŒå…¥</a></li></ul></li><li><input type=checkbox id=section-30b17899e420f6a53aa6e578440dd132 class=toggle>
<label for=section-30b17899e420f6a53aa6e578440dd132 class=flex><a role=button>ç¬¬äºŒéƒ¨åˆ†ï¼šTransformeræ¶æ„æ­ç§˜</a>
<img src=/icons/chevron-right.svg class=book-icon alt=Expand></label><ul><li><a href=/notebooks/%E5%A4%A7%E6%A8%A1%E5%9E%8B%E7%AC%94%E8%AE%B0/%E7%AC%AC%E4%BA%8C%E9%83%A8%E5%88%86transformer%E6%9E%B6%E6%9E%84%E6%8F%AD%E7%A7%98/%E7%AC%AC1%E7%AB%A0_transformer%E6%A0%B8%E5%BF%83%E6%8F%AD%E7%A7%98/>ç¬¬1ç«  Transformeræ ¸å¿ƒæ­ç§˜</a></li><li><a href=/notebooks/%E5%A4%A7%E6%A8%A1%E5%9E%8B%E7%AC%94%E8%AE%B0/%E7%AC%AC%E4%BA%8C%E9%83%A8%E5%88%86transformer%E6%9E%B6%E6%9E%84%E6%8F%AD%E7%A7%98/%E7%AC%AC2%E7%AB%A0_%E6%A8%A1%E5%9E%8B%E5%AE%B6%E6%97%8F%E8%B0%B1%E7%B3%BB%E4%BB%8E%E7%BC%96%E7%A0%81%E5%99%A8%E5%88%B0%E8%A7%A3%E7%A0%81%E5%99%A8/>ç¬¬2ç«  æ¨¡å‹å®¶æ—è°±ç³»ï¼šä»ç¼–ç å™¨åˆ°è§£ç å™¨</a></li><li><a href=/notebooks/%E5%A4%A7%E6%A8%A1%E5%9E%8B%E7%AC%94%E8%AE%B0/%E7%AC%AC%E4%BA%8C%E9%83%A8%E5%88%86transformer%E6%9E%B6%E6%9E%84%E6%8F%AD%E7%A7%98/%E7%AC%AC3%E7%AB%A0_%E9%A2%84%E8%AE%AD%E7%BB%83%E7%9A%84%E5%A5%A5%E7%A7%98%E4%BB%8E%E6%95%B0%E6%8D%AE%E5%88%B0%E6%99%BA%E8%83%BD/>ç¬¬3ç«  é¢„è®­ç»ƒçš„å¥¥ç§˜ï¼šä»æ•°æ®åˆ°æ™ºèƒ½</a></li></ul></li><li><input type=checkbox id=section-da88ac5e3d01ea6f4b2996cb87ecf19f class=toggle>
<label for=section-da88ac5e3d01ea6f4b2996cb87ecf19f class=flex><a role=button>ç¬¬ä¸‰éƒ¨åˆ†ï¼šæ•°æ®å·¥ç¨‹ä¸å®šåˆ¶åŒ–</a>
<img src=/icons/chevron-right.svg class=book-icon alt=Expand></label><ul><li><a href=/notebooks/%E5%A4%A7%E6%A8%A1%E5%9E%8B%E7%AC%94%E8%AE%B0/%E7%AC%AC%E4%B8%89%E9%83%A8%E5%88%86%E6%95%B0%E6%8D%AE%E5%B7%A5%E7%A8%8B%E4%B8%8E%E5%AE%9A%E5%88%B6%E5%8C%96/%E7%AC%AC1%E7%AB%A0_%E6%95%B0%E6%8D%AE%E5%B7%A5%E7%A8%8B%E5%9F%BA%E7%A1%80/>ç¬¬1ç«  æ•°æ®å·¥ç¨‹åŸºç¡€</a></li><li><a href=/notebooks/%E5%A4%A7%E6%A8%A1%E5%9E%8B%E7%AC%94%E8%AE%B0/%E7%AC%AC%E4%B8%89%E9%83%A8%E5%88%86%E6%95%B0%E6%8D%AE%E5%B7%A5%E7%A8%8B%E4%B8%8E%E5%AE%9A%E5%88%B6%E5%8C%96/%E7%AC%AC2%E7%AB%A0_%E5%BE%AE%E8%B0%83%E4%BD%A0%E7%9A%84%E4%B8%93%E5%B1%9E%E6%A8%A1%E5%9E%8B/>ç¬¬2ç«  å¾®è°ƒä½ çš„ä¸“å±æ¨¡å‹</a></li><li><a href=/notebooks/%E5%A4%A7%E6%A8%A1%E5%9E%8B%E7%AC%94%E8%AE%B0/%E7%AC%AC%E4%B8%89%E9%83%A8%E5%88%86%E6%95%B0%E6%8D%AE%E5%B7%A5%E7%A8%8B%E4%B8%8E%E5%AE%9A%E5%88%B6%E5%8C%96/%E7%AC%AC3%E7%AB%A0_%E4%B8%8E%E4%BA%BA%E7%B1%BB%E5%AF%B9%E9%BD%90%E5%81%8F%E5%A5%BD%E4%BC%98%E5%8C%96/>ç¬¬3ç«  ä¸äººç±»å¯¹é½ï¼šåå¥½ä¼˜åŒ–</a></li><li><a href=/notebooks/%E5%A4%A7%E6%A8%A1%E5%9E%8B%E7%AC%94%E8%AE%B0/%E7%AC%AC%E4%B8%89%E9%83%A8%E5%88%86%E6%95%B0%E6%8D%AE%E5%B7%A5%E7%A8%8B%E4%B8%8E%E5%AE%9A%E5%88%B6%E5%8C%96/%E7%AC%AC4%E7%AB%A0_%E5%88%9B%E5%BB%BA%E6%9B%B4%E4%BC%98%E7%9A%84%E5%B5%8C%E5%85%A5%E6%A8%A1%E5%9E%8B/>ç¬¬4ç«  åˆ›å»ºæ›´ä¼˜çš„åµŒå…¥æ¨¡å‹</a></li></ul></li><li><input type=checkbox id=section-81f0a7a10bc544ea0e1fd883e2a436eb class=toggle>
<label for=section-81f0a7a10bc544ea0e1fd883e2a436eb class=flex><a role=button>ç¬¬å››éƒ¨åˆ†ï¼šå¤§æ¨¡å‹åº”ç”¨å¼€å‘</a>
<img src=/icons/chevron-right.svg class=book-icon alt=Expand></label><ul><li><a href=/notebooks/%E5%A4%A7%E6%A8%A1%E5%9E%8B%E7%AC%94%E8%AE%B0/%E7%AC%AC%E5%9B%9B%E9%83%A8%E5%88%86%E5%A4%A7%E6%A8%A1%E5%9E%8B%E5%BA%94%E7%94%A8%E5%BC%80%E5%8F%91/%E7%AC%AC1%E7%AB%A0_%E6%8F%90%E7%A4%BA%E5%B7%A5%E7%A8%8B%E4%B8%8E%E4%B8%8A%E4%B8%8B%E6%96%87%E5%AD%A6%E4%B9%A0/>ç¬¬1ç«  æç¤ºå·¥ç¨‹ä¸ä¸Šä¸‹æ–‡å­¦ä¹ </a></li><li><a href=/notebooks/%E5%A4%A7%E6%A8%A1%E5%9E%8B%E7%AC%94%E8%AE%B0/%E7%AC%AC%E5%9B%9B%E9%83%A8%E5%88%86%E5%A4%A7%E6%A8%A1%E5%9E%8B%E5%BA%94%E7%94%A8%E5%BC%80%E5%8F%91/%E7%AC%AC2%E7%AB%A0_%E6%A3%80%E7%B4%A2%E5%A2%9E%E5%BC%BA%E7%94%9F%E6%88%90rag%E5%8E%9F%E7%90%86/>ç¬¬2ç«  æ£€ç´¢å¢å¼ºç”Ÿæˆï¼ˆRAGï¼‰åŸç†</a></li><li><a href=/notebooks/%E5%A4%A7%E6%A8%A1%E5%9E%8B%E7%AC%94%E8%AE%B0/%E7%AC%AC%E5%9B%9B%E9%83%A8%E5%88%86%E5%A4%A7%E6%A8%A1%E5%9E%8B%E5%BA%94%E7%94%A8%E5%BC%80%E5%8F%91/%E7%AC%AC3%E7%AB%A0_%E6%99%BA%E8%83%BD%E4%BD%93agent%E6%A0%B8%E5%BF%83%E6%9C%BA%E5%88%B6/>ç¬¬3ç«  æ™ºèƒ½ä½“ï¼ˆAgentï¼‰æ ¸å¿ƒæœºåˆ¶</a></li><li><a href=/notebooks/%E5%A4%A7%E6%A8%A1%E5%9E%8B%E7%AC%94%E8%AE%B0/%E7%AC%AC%E5%9B%9B%E9%83%A8%E5%88%86%E5%A4%A7%E6%A8%A1%E5%9E%8B%E5%BA%94%E7%94%A8%E5%BC%80%E5%8F%91/%E7%AC%AC4%E7%AB%A0_%E5%A4%9A%E6%A8%A1%E6%80%81%E5%A4%A7%E6%A8%A1%E5%9E%8B%E5%8E%9F%E7%90%86/>ç¬¬4ç«  å¤šæ¨¡æ€å¤§æ¨¡å‹åŸç†</a></li></ul></li><li><input type=checkbox id=section-0509decfe880d3d2074947902aea8022 class=toggle>
<label for=section-0509decfe880d3d2074947902aea8022 class=flex><a role=button>ç¬¬äº”éƒ¨åˆ†ï¼šå·¥ç¨‹å®æˆ˜å·¥å…·æ ˆ</a>
<img src=/icons/chevron-right.svg class=book-icon alt=Expand></label><ul><li><a href=/notebooks/%E5%A4%A7%E6%A8%A1%E5%9E%8B%E7%AC%94%E8%AE%B0/%E7%AC%AC%E4%BA%94%E9%83%A8%E5%88%86%E5%B7%A5%E7%A8%8B%E5%AE%9E%E6%88%98%E5%B7%A5%E5%85%B7%E6%A0%88/%E7%AC%AC1%E7%AB%A0_hugging_face%E7%94%9F%E6%80%81%E5%85%A8%E6%99%AF/>ç¬¬1ç«  Hugging Faceç”Ÿæ€å…¨æ™¯</a></li><li><a href=/notebooks/%E5%A4%A7%E6%A8%A1%E5%9E%8B%E7%AC%94%E8%AE%B0/%E7%AC%AC%E4%BA%94%E9%83%A8%E5%88%86%E5%B7%A5%E7%A8%8B%E5%AE%9E%E6%88%98%E5%B7%A5%E5%85%B7%E6%A0%88/%E7%AC%AC2%E7%AB%A0_llama-factory%E5%BE%AE%E8%B0%83%E5%B7%A5%E5%8E%82/>ç¬¬2ç«  LLaMA-Factoryå¾®è°ƒå·¥å‚</a></li><li><a href=/notebooks/%E5%A4%A7%E6%A8%A1%E5%9E%8B%E7%AC%94%E8%AE%B0/%E7%AC%AC%E4%BA%94%E9%83%A8%E5%88%86%E5%B7%A5%E7%A8%8B%E5%AE%9E%E6%88%98%E5%B7%A5%E5%85%B7%E6%A0%88/%E7%AC%AC3%E7%AB%A0_trl%E4%B8%8E%E5%BC%BA%E5%8C%96%E5%AD%A6%E4%B9%A0%E5%AE%9E%E6%88%98/>ç¬¬3ç«  TRLä¸å¼ºåŒ–å­¦ä¹ å®æˆ˜</a></li><li><a href=/notebooks/%E5%A4%A7%E6%A8%A1%E5%9E%8B%E7%AC%94%E8%AE%B0/%E7%AC%AC%E4%BA%94%E9%83%A8%E5%88%86%E5%B7%A5%E7%A8%8B%E5%AE%9E%E6%88%98%E5%B7%A5%E5%85%B7%E6%A0%88/%E7%AC%AC4%E7%AB%A0_deepspeed%E5%88%86%E5%B8%83%E5%BC%8F%E8%AE%AD%E7%BB%83/>ç¬¬4ç«  DeepSpeedåˆ†å¸ƒå¼è®­ç»ƒ</a></li><li><a href=/notebooks/%E5%A4%A7%E6%A8%A1%E5%9E%8B%E7%AC%94%E8%AE%B0/%E7%AC%AC%E4%BA%94%E9%83%A8%E5%88%86%E5%B7%A5%E7%A8%8B%E5%AE%9E%E6%88%98%E5%B7%A5%E5%85%B7%E6%A0%88/%E7%AC%AC5%E7%AB%A0_%E7%AB%AF%E5%88%B0%E7%AB%AFllm%E9%A1%B9%E7%9B%AE%E5%AE%9E%E6%88%98/>ç¬¬5ç«  ç«¯åˆ°ç«¯LLMé¡¹ç›®å®æˆ˜</a></li></ul></li><li><input type=checkbox id=section-dc465ed94a0f7fb78440cab8a8a2a28b class=toggle>
<label for=section-dc465ed94a0f7fb78440cab8a8a2a28b class=flex><a role=button>ç¬¬å…­éƒ¨åˆ†ï¼šç”Ÿäº§éƒ¨ç½²ä¸è¯„ä¼°</a>
<img src=/icons/chevron-right.svg class=book-icon alt=Expand></label><ul><li><a href=/notebooks/%E5%A4%A7%E6%A8%A1%E5%9E%8B%E7%AC%94%E8%AE%B0/%E7%AC%AC%E5%85%AD%E9%83%A8%E5%88%86%E7%94%9F%E4%BA%A7%E9%83%A8%E7%BD%B2%E4%B8%8E%E8%AF%84%E4%BC%B0/%E7%AC%AC1%E7%AB%A0_%E6%A8%A1%E5%9E%8B%E5%8E%8B%E7%BC%A9%E4%B8%8E%E6%8E%A8%E7%90%86%E5%8A%A0%E9%80%9F/>ç¬¬1ç«  æ¨¡å‹å‹ç¼©ä¸æ¨ç†åŠ é€Ÿ</a></li><li><a href=/notebooks/%E5%A4%A7%E6%A8%A1%E5%9E%8B%E7%AC%94%E8%AE%B0/%E7%AC%AC%E5%85%AD%E9%83%A8%E5%88%86%E7%94%9F%E4%BA%A7%E9%83%A8%E7%BD%B2%E4%B8%8E%E8%AF%84%E4%BC%B0/%E7%AC%AC2%E7%AB%A0_vllm%E9%AB%98%E6%80%A7%E8%83%BD%E6%8E%A8%E7%90%86/>ç¬¬2ç«  vLLMé«˜æ€§èƒ½æ¨ç†</a></li><li><a href=/notebooks/%E5%A4%A7%E6%A8%A1%E5%9E%8B%E7%AC%94%E8%AE%B0/%E7%AC%AC%E5%85%AD%E9%83%A8%E5%88%86%E7%94%9F%E4%BA%A7%E9%83%A8%E7%BD%B2%E4%B8%8E%E8%AF%84%E4%BC%B0/%E7%AC%AC3%E7%AB%A0_%E6%A8%A1%E5%9E%8B%E8%AF%84%E4%BC%B0%E4%BD%93%E7%B3%BB/>ç¬¬3ç«  æ¨¡å‹è¯„ä¼°ä½“ç³»</a></li></ul></li><li><input type=checkbox id=section-54ec04ac2cdda7238de2ed38f0bcb7b1 class=toggle>
<label for=section-54ec04ac2cdda7238de2ed38f0bcb7b1 class=flex><a role=button>ç¬¬ä¸ƒéƒ¨åˆ†ï¼šé«˜çº§æŠ€æœ¯ä¸“é¢˜</a>
<img src=/icons/chevron-right.svg class=book-icon alt=Expand></label><ul><li><a href=/notebooks/%E5%A4%A7%E6%A8%A1%E5%9E%8B%E7%AC%94%E8%AE%B0/%E7%AC%AC%E4%B8%83%E9%83%A8%E5%88%86%E9%AB%98%E7%BA%A7%E6%8A%80%E6%9C%AF%E4%B8%93%E9%A2%98/%E7%AC%AC1%E7%AB%A0_%E9%95%BF%E4%B8%8A%E4%B8%8B%E6%96%87%E6%8A%80%E6%9C%AF/>ç¬¬1ç«  é•¿ä¸Šä¸‹æ–‡æŠ€æœ¯</a></li><li><a href=/notebooks/%E5%A4%A7%E6%A8%A1%E5%9E%8B%E7%AC%94%E8%AE%B0/%E7%AC%AC%E4%B8%83%E9%83%A8%E5%88%86%E9%AB%98%E7%BA%A7%E6%8A%80%E6%9C%AF%E4%B8%93%E9%A2%98/%E7%AC%AC2%E7%AB%A0_%E6%96%B0%E5%9E%8B%E6%9E%B6%E6%9E%84%E6%8E%A2%E7%B4%A2/>ç¬¬2ç«  æ–°å‹æ¶æ„æ¢ç´¢</a></li><li><a href=/notebooks/%E5%A4%A7%E6%A8%A1%E5%9E%8B%E7%AC%94%E8%AE%B0/%E7%AC%AC%E4%B8%83%E9%83%A8%E5%88%86%E9%AB%98%E7%BA%A7%E6%8A%80%E6%9C%AF%E4%B8%93%E9%A2%98/%E7%AC%AC3%E7%AB%A0_%E6%8E%A8%E7%90%86%E5%8A%A0%E9%80%9F%E9%BB%91%E7%A7%91%E6%8A%80/>ç¬¬3ç«  æ¨ç†åŠ é€Ÿé»‘ç§‘æŠ€</a></li><li><a href=/notebooks/%E5%A4%A7%E6%A8%A1%E5%9E%8B%E7%AC%94%E8%AE%B0/%E7%AC%AC%E4%B8%83%E9%83%A8%E5%88%86%E9%AB%98%E7%BA%A7%E6%8A%80%E6%9C%AF%E4%B8%93%E9%A2%98/%E7%AC%AC4%E7%AB%A0_%E6%8E%A8%E7%90%86%E6%A8%A1%E5%9E%8B%E4%B8%93%E9%A2%98/>ç¬¬4ç«  æ¨ç†æ¨¡å‹ä¸“é¢˜</a></li><li><a href=/notebooks/%E5%A4%A7%E6%A8%A1%E5%9E%8B%E7%AC%94%E8%AE%B0/%E7%AC%AC%E4%B8%83%E9%83%A8%E5%88%86%E9%AB%98%E7%BA%A7%E6%8A%80%E6%9C%AF%E4%B8%93%E9%A2%98/%E7%AC%AC5%E7%AB%A0_%E6%A8%A1%E5%9E%8B%E5%AE%89%E5%85%A8%E4%B8%8E%E5%8F%AF%E8%A7%A3%E9%87%8A%E6%80%A7/>ç¬¬5ç«  æ¨¡å‹å®‰å…¨ä¸å¯è§£é‡Šæ€§</a></li></ul></li><li><a href=/notebooks/%E5%A4%A7%E6%A8%A1%E5%9E%8B%E7%AC%94%E8%AE%B0/glossary/>GLOSSARY</a></li><li><a href=/notebooks/%E5%A4%A7%E6%A8%A1%E5%9E%8B%E7%AC%94%E8%AE%B0/roadmap/>ROADMAP</a></li><li><a href=/notebooks/%E5%A4%A7%E6%A8%A1%E5%9E%8B%E7%AC%94%E8%AE%B0/summary/>SUMMARY</a></li><li><a href=/notebooks/%E5%A4%A7%E6%A8%A1%E5%9E%8B%E7%AC%94%E8%AE%B0/%E5%AE%8C%E7%BB%93%E6%8A%A5%E5%91%8A/>å®Œç»“æŠ¥å‘Š</a></li></ul></li><li><input type=checkbox id=section-7177254393287994b491879262a62a06 class=toggle>
<label for=section-7177254393287994b491879262a62a06 class=flex><a role=button>å®è·µç¬”è®°</a>
<img src=/icons/chevron-right.svg class=book-icon alt=Expand></label><ul><li><a href=/notebooks/%E5%AE%9E%E8%B7%B5%E7%AC%94%E8%AE%B0/2.-%E6%B7%B1%E5%85%A5%E7%90%86%E8%A7%A3-fastapi/>æ·±å…¥ç†è§£ FastAPI</a></li><li><a href=/notebooks/%E5%AE%9E%E8%B7%B5%E7%AC%94%E8%AE%B0/4.-agent%E6%9C%80%E4%BD%B3%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/>Agentæœ€ä½³è®¾è®¡æ¨¡å¼</a></li></ul></li><li><input type=checkbox id=section-0172eb8516eeb7b4e657f3949a135c25 class=toggle>
<label for=section-0172eb8516eeb7b4e657f3949a135c25 class=flex><a role=button>æœºå™¨å­¦ä¹ ç¬”è®°</a>
<img src=/icons/chevron-right.svg class=book-icon alt=Expand></label><ul><li><a href=/notebooks/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/%E7%AC%AC01%E7%AB%A0_%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0%E6%A6%82%E8%A7%88/>ç¬¬01ç«  æœºå™¨å­¦ä¹ æ¦‚è§ˆ</a></li><li><a href=/notebooks/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/%E7%AC%AC02%E7%AB%A0_%E7%9F%A9%E9%98%B5%E8%BF%90%E7%AE%97%E4%B8%8E%E5%BE%AE%E7%A7%AF%E5%88%86/>ç¬¬02ç«  çŸ©é˜µè¿ç®—ä¸å¾®ç§¯åˆ†</a></li><li><a href=/notebooks/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/%E7%AC%AC03%E7%AB%A0_svd%E4%B8%8E%E7%9F%A9%E9%98%B5%E5%88%86%E8%A7%A3/>ç¬¬03ç«  SVDä¸çŸ©é˜µåˆ†è§£</a></li><li><a href=/notebooks/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/%E7%AC%AC04%E7%AB%A0_%E6%A6%82%E7%8E%87%E5%88%86%E5%B8%83_%E6%8C%87%E6%95%B0%E6%97%8F%E4%B8%8E%E5%85%B1%E8%BD%AD%E5%85%88%E9%AA%8C/>ç¬¬04ç«  æ¦‚ç‡åˆ†å¸ƒ æŒ‡æ•°æ—ä¸å…±è½­å…ˆéªŒ</a></li><li><a href=/notebooks/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/%E7%AC%AC05%E7%AB%A0_%E7%BA%BF%E6%80%A7%E5%9B%9E%E5%BD%92/>ç¬¬05ç«  çº¿æ€§å›å½’</a></li><li><a href=/notebooks/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/%E7%AC%AC06%E7%AB%A0_%E6%84%9F%E7%9F%A5%E6%9C%BA/>ç¬¬06ç«  æ„ŸçŸ¥æœº</a></li><li><a href=/notebooks/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/%E7%AC%AC07%E7%AB%A0_%E6%94%AF%E6%8C%81%E5%90%91%E9%87%8F%E6%9C%BAsvm/>ç¬¬07ç«  æ”¯æŒå‘é‡æœº(SVM)</a></li><li><a href=/notebooks/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/%E7%AC%AC08%E7%AB%A0_%E6%A0%B8%E6%96%B9%E6%B3%95/>ç¬¬08ç«  æ ¸æ–¹æ³•</a></li><li><a href=/notebooks/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/%E7%AC%AC09%E7%AB%A0_%E5%86%B3%E7%AD%96%E6%A0%91%E4%B8%8E%E9%9B%86%E6%88%90%E5%AD%A6%E4%B9%A0/>ç¬¬09ç«  å†³ç­–æ ‘ä¸é›†æˆå­¦ä¹ </a></li><li><a href=/notebooks/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/%E7%AC%AC10%E7%AB%A0_%E9%80%BB%E8%BE%91%E5%9B%9E%E5%BD%92%E4%B8%8E%E6%9C%80%E5%A4%A7%E7%86%B5%E6%A8%A1%E5%9E%8B/>ç¬¬10ç«  é€»è¾‘å›å½’ä¸æœ€å¤§ç†µæ¨¡å‹</a></li><li><a href=/notebooks/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/%E7%AC%AC11%E7%AB%A0_%E5%B9%BF%E4%B9%89%E7%BA%BF%E6%80%A7%E6%A8%A1%E5%9E%8Bglm/>ç¬¬11ç«  å¹¿ä¹‰çº¿æ€§æ¨¡å‹(GLM)</a></li><li><a href=/notebooks/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/%E7%AC%AC13%E7%AB%A0_%E6%A6%82%E7%8E%87%E5%9B%BE%E6%A8%A1%E5%9E%8B_%E8%A1%A8%E7%A4%BA/>ç¬¬13ç«  æ¦‚ç‡å›¾æ¨¡å‹ è¡¨ç¤º</a></li><li><a href=/notebooks/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/%E7%AC%AC14%E7%AB%A0_%E6%A6%82%E7%8E%87%E5%9B%BE%E6%A8%A1%E5%9E%8B_%E6%8E%A8%E6%96%AD/>ç¬¬14ç«  æ¦‚ç‡å›¾æ¨¡å‹ æ¨æ–­</a></li><li><input type=checkbox id=section-b17efd79c46843a887113a063f929150 class=toggle>
<label for=section-b17efd79c46843a887113a063f929150 class=flex><a role=button>assets</a>
<img src=/icons/chevron-right.svg class=book-icon alt=Expand></label><ul></ul></li><li><a href=/notebooks/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/skills/>skills</a></li></ul></li><li><input type=checkbox id=section-29762f225235d2ac19b613cc28b093c8 class=toggle>
<label for=section-29762f225235d2ac19b613cc28b093c8 class=flex><a href=/notebooks/%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/>æ·±åº¦å­¦ä¹ ç¬”è®°</a>
<img src=/icons/chevron-right.svg class=book-icon alt=Expand></label><ul><li><a href=/notebooks/%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/%E7%AC%AC1%E7%AB%A0_%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0%E5%9F%BA%E7%A1%80/>ç¬¬1ç«  æ·±åº¦å­¦ä¹ åŸºç¡€</a></li></ul></li></ul></nav><script>(function(){var e=document.querySelector("aside .book-menu-content");addEventListener("beforeunload",function(){localStorage.setItem("menu.scrollTop",e.scrollTop)}),e.scrollTop=localStorage.getItem("menu.scrollTop")})()</script></div></aside><div class=book-page><header class="book-header hidden"><div class="flex align-center justify-between"><label for=menu-control><img src=/icons/menu.svg class=book-icon alt=Menu></label><h3>ç¬¬ä¸‰ç¯‡ LangGraph æ·±å…¥</h3><label for=toc-control><img src=/icons/toc.svg class=book-icon alt="Table of Contents"></label></div><aside class=hidden><nav id=TableOfContents><ul><li><a href=#-æœ¬ç¯‡æ¦‚è¦>ğŸ“Œ æœ¬ç¯‡æ¦‚è¦</a></li><li><a href=#ç¬¬1ç« langgraph-æ¶æ„å“²å­¦-architecture>ç¬¬1ç« ï¼šLangGraph æ¶æ„å“²å­¦ (Architecture)</a><ul><li><a href=#11-ä»æ— çŠ¶æ€-dag-åˆ°æœ‰çŠ¶æ€-actor>1.1 ä»æ— çŠ¶æ€ DAG åˆ°æœ‰çŠ¶æ€ Actor</a></li><li><a href=#12-æ ¸å¿ƒè¿è¡Œæœºåˆ¶bsp-æ¨¡å‹>1.2 æ ¸å¿ƒè¿è¡Œæœºåˆ¶ï¼šBSP æ¨¡å‹</a></li></ul></li><li><a href=#ç¬¬2ç« çŠ¶æ€å·¥ç¨‹-state-engineering>ç¬¬2ç« ï¼šçŠ¶æ€å·¥ç¨‹ (State Engineering)</a><ul><li><a href=#21-æ ¸å¿ƒæ ‡å‡†messagesstate>2.1 æ ¸å¿ƒæ ‡å‡†ï¼šMessagesState</a></li><li><a href=#22-ç”Ÿäº§çº§æ¨¡å¼inputoutput-schema-åˆ†ç¦»>2.2 ç”Ÿäº§çº§æ¨¡å¼ï¼šInput/Output Schema åˆ†ç¦»</a></li><li><a href=#23-æ·±å…¥-add_messages-çš„-upsert-æœºåˆ¶>2.3 æ·±å…¥ add_messages çš„ Upsert æœºåˆ¶</a></li></ul></li><li><a href=#ç¬¬3ç« æ„å»ºå¯æ§-agent-command-api>ç¬¬3ç« ï¼šæ„å»ºå¯æ§ Agent (Command API)</a><ul><li><a href=#31-å®æˆ˜ä½¿ç”¨-command-å®ç°åŸå­è·¯ç”±>3.1 å®æˆ˜ï¼šä½¿ç”¨ Command å®ç°åŸå­è·¯ç”±</a></li><li><a href=#32-ä¸ºä»€ä¹ˆ-command-api-æ˜¯æœªæ¥>3.2 ä¸ºä»€ä¹ˆ Command API æ˜¯æœªæ¥ï¼Ÿ</a></li></ul></li><li><a href=#ç¬¬4ç« æŒä¹…åŒ–ä¸-time-travel>ç¬¬4ç« ï¼šæŒä¹…åŒ–ä¸ Time Travel</a><ul><li><a href=#41-checkpoint-æœºåˆ¶>4.1 Checkpoint æœºåˆ¶</a></li><li><a href=#42-time-travel-çŠ¶æ€å›æ»š>4.2 Time Travel (çŠ¶æ€å›æ»š)</a></li></ul></li><li><a href=#ç¬¬5ç« ç”Ÿäº§çº§é«˜çº§æ¨¡å¼-advanced-patterns>ç¬¬5ç« ï¼šç”Ÿäº§çº§é«˜çº§æ¨¡å¼ (Advanced Patterns)</a><ul><li><a href=#51-streaming-æµå¼è¾“å‡º>5.1 Streaming æµå¼è¾“å‡º</a></li><li><a href=#52-è¿è¡Œæ—¶é…ç½®-configuration>5.2 è¿è¡Œæ—¶é…ç½® (Configuration)</a></li></ul></li><li><a href=#ç¬¬6ç« å¥å£®æ€§ä¸è°ƒè¯•-robustness--debugging>ç¬¬6ç« ï¼šå¥å£®æ€§ä¸è°ƒè¯• (Robustness & Debugging)</a><ul><li><a href=#61-é‡è¯•ç­–ç•¥-retry-policies>6.1 é‡è¯•ç­–ç•¥ (Retry Policies)</a></li><li><a href=#62-å¯è§†åŒ–-visualization>6.2 å¯è§†åŒ– (Visualization)</a></li><li><a href=#63-å¼‚å¸¸å¤„ç†ä¸äº‹åŠ¡-transactional>6.3 å¼‚å¸¸å¤„ç†ä¸äº‹åŠ¡ (Transactional)</a></li></ul></li><li><a href=#æœ¬ç¯‡å°ç»“>æœ¬ç¯‡å°ç»“</a></li></ul></nav></aside></header><article class="markdown book-article"><h1 id=ç¬¬ä¸‰ç¯‡-langgraph-æ·±å…¥ä»-chain-åˆ°-graph-çš„æ€ç»´è·ƒè¿>ç¬¬ä¸‰ç¯‡ LangGraph æ·±å…¥ï¼šä» Chain åˆ° Graph çš„æ€ç»´è·ƒè¿<a class=anchor href=#%e7%ac%ac%e4%b8%89%e7%af%87-langgraph-%e6%b7%b1%e5%85%a5%e4%bb%8e-chain-%e5%88%b0-graph-%e7%9a%84%e6%80%9d%e7%bb%b4%e8%b7%83%e8%bf%81>#</a></h1><hr><h2 id=-æœ¬ç¯‡æ¦‚è¦>ğŸ“Œ æœ¬ç¯‡æ¦‚è¦<a class=anchor href=#-%e6%9c%ac%e7%af%87%e6%a6%82%e8%a6%81>#</a></h2><p>æœ¬ç¯‡å°†æ·±å…¥ LangGraph çš„æ ¸å¿ƒæ¶æ„ï¼Œä»ç”Ÿäº§çº§ State è®¾è®¡æ¨¡å¼åˆ°åŸå­åŒ–çš„æ§åˆ¶æµã€‚</p><table><thead><tr><th style=text-align:left>ç« èŠ‚</th><th style=text-align:left>æ ¸å¿ƒå†…å®¹</th><th style=text-align:left>å­¦ä¹ ç›®æ ‡</th></tr></thead><tbody><tr><td style=text-align:left><strong>ç¬¬1ç« </strong></td><td style=text-align:left>æ¶æ„å“²å­¦</td><td style=text-align:left>BSP æ¨¡å‹ã€Pregel è¿è¡Œæ—¶æœºåˆ¶</td></tr><tr><td style=text-align:left><strong>ç¬¬2ç« </strong></td><td style=text-align:left>çŠ¶æ€å·¥ç¨‹</td><td style=text-align:left><code>MessagesState</code> æ ‡å‡†èŒƒå¼ã€Input/Output Schema åˆ†ç¦»</td></tr><tr><td style=text-align:left><strong>ç¬¬3ç« </strong></td><td style=text-align:left>è·¯ç”±æ§åˆ¶</td><td style=text-align:left><strong>Command API</strong> åŸå­åŒ–è·¯ç”±</td></tr><tr><td style=text-align:left><strong>ç¬¬4ç« </strong></td><td style=text-align:left>æŒä¹…åŒ–ä¸è®°å¿†</td><td style=text-align:left>Checkpoint å¿«ç…§æœºåˆ¶ã€Time Travel çŠ¶æ€å›æ»š</td></tr><tr><td style=text-align:left><strong>ç¬¬5ç« </strong></td><td style=text-align:left>ç”Ÿäº§çº§æ¨¡å¼</td><td style=text-align:left>Streaming æµå¼è¾“å‡ºã€è¿è¡Œæ—¶é…ç½® Config</td></tr></tbody></table><blockquote class=book-hint><p>ğŸ’¡ <strong>å‰ç½®çŸ¥è¯†</strong>: éœ€æŒæ¡ç¬¬äºŒç¯‡çš„ Agent åŸºç¡€ã€‚æœ¬ç¯‡ä»£ç åŸºäº LangChain 1.0+ å’Œ LangGraph æœ€æ–°æ ‡å‡†ã€‚</p></blockquote><hr><h2 id=ç¬¬1ç« langgraph-æ¶æ„å“²å­¦-architecture>ç¬¬1ç« ï¼šLangGraph æ¶æ„å“²å­¦ (Architecture)<a class=anchor href=#%e7%ac%ac1%e7%ab%a0langgraph-%e6%9e%b6%e6%9e%84%e5%93%b2%e5%ad%a6-architecture>#</a></h2><h3 id=11-ä»æ— çŠ¶æ€-dag-åˆ°æœ‰çŠ¶æ€-actor>1.1 ä»æ— çŠ¶æ€ DAG åˆ°æœ‰çŠ¶æ€ Actor<a class=anchor href=#11-%e4%bb%8e%e6%97%a0%e7%8a%b6%e6%80%81-dag-%e5%88%b0%e6%9c%89%e7%8a%b6%e6%80%81-actor>#</a></h3><p>åœ¨ LangChain æ—¶ä»£ï¼Œæˆ‘ä»¬æ„å»ºçš„æ˜¯ <strong>DAG (æœ‰å‘æ— ç¯å›¾)</strong>ï¼Œæ•°æ®åƒæµæ°´ä¸€æ ·ç»è¿‡ <code>Prompt -> Model -> Parser</code>ã€‚</p><p>ä½†åœ¨æ„å»ºå¤æ‚çš„ Agent æ—¶ï¼Œæˆ‘ä»¬éœ€è¦å¤„ç†ï¼š</p><ol><li><strong>å¾ªç¯ (Loops)</strong>ï¼šæ€è€ƒ -> è¡ŒåŠ¨ -> è§‚å¯Ÿ -> å†æ€è€ƒ&mldr;</li><li><strong>æŒä¹…çŠ¶æ€ (Persistence)</strong>ï¼šå¤šè½®å¯¹è¯çš„è®°å¿†ç®¡ç†ã€‚</li><li><strong>åˆ†æ”¯å†³ç­– (Branching)</strong>ï¼šæ ¹æ®å·¥å…·æ‰§è¡Œç»“æœå†³å®šä¸‹ä¸€æ­¥ã€‚</li></ol><p>LangGraph å¼•å…¥äº† <strong>Actor Model</strong> å’Œ <strong>State Machine (çŠ¶æ€æœº)</strong> çš„æ¦‚å¿µï¼Œè®© LLM åº”ç”¨å…·å¤‡äº†â€œå›¾â€çš„èƒ½åŠ›ã€‚</p><h3 id=12-æ ¸å¿ƒè¿è¡Œæœºåˆ¶bsp-æ¨¡å‹>1.2 æ ¸å¿ƒè¿è¡Œæœºåˆ¶ï¼šBSP æ¨¡å‹<a class=anchor href=#12-%e6%a0%b8%e5%bf%83%e8%bf%90%e8%a1%8c%e6%9c%ba%e5%88%b6bsp-%e6%a8%a1%e5%9e%8b>#</a></h3><p>LangGraph çš„åº•å±‚è®¾è®¡çµæ„Ÿæºè‡ª Google Pregel å›¾è®¡ç®—æ¨¡å‹ï¼Œé‡‡ç”¨ <strong>BSP (Bulk Synchronous Parallel)</strong> æœºåˆ¶ã€‚è¿™æ˜¯ç†è§£å¹¶å‘ä¸çŠ¶æ€ä¸€è‡´æ€§çš„åŸºçŸ³ã€‚</p><pre class=mermaid>sequenceDiagram
    participant State as å…±äº«çŠ¶æ€
    participant Node_A as Node A
    participant Node_B as Node B

    Note over State: Super-step 1 (Start)
    State-&gt;&gt;Node_A: 1. è¯»å– State
    Node_A-&gt;&gt;Node_A: 2. æ‰§è¡Œé€»è¾‘
    Node_A-&gt;&gt;State: 3. è¿”å› Update

    Note over State: Barrier Synchronization (åŒæ­¥å±éšœ)
    State-&gt;&gt;State: 4. åº”ç”¨ Reducers (Merge)
    State-&gt;&gt;Checkpointer: 5. ä¿å­˜å¿«ç…§ (Snapshot)

    Note over State: Super-step 2
    State-&gt;&gt;Node_B: 6. è¯»å–æ–°çŠ¶æ€...</pre><script src=/mermaid.min.js></script><script>mermaid.initialize({flowchart:{useMaxWidth:!0},theme:"default"})</script><p><strong>å…³é”®ç‰¹æ€§</strong>ï¼š</p><ul><li><strong>å¹¶è¡Œéš”ç¦»</strong>ï¼šåœ¨åŒä¸€ä¸ª Step ä¸­ï¼ŒNode A çœ‹ä¸åˆ° Node B çš„æ›´æ–°ã€‚</li><li><strong>ç»Ÿä¸€å½’çº¦</strong>ï¼šæ‰€æœ‰æ›´æ–°åœ¨ Step ç»“æŸæ—¶ç»Ÿä¸€åˆå¹¶ (Reduce)ã€‚</li><li><strong>ä¸‰é˜¶æ®µæ‰§è¡Œ</strong>ï¼šPlan (è§„åˆ’) -> Execute (æ‰§è¡Œ) -> Update (æ›´æ–°)ã€‚</li></ul><hr><h2 id=ç¬¬2ç« çŠ¶æ€å·¥ç¨‹-state-engineering>ç¬¬2ç« ï¼šçŠ¶æ€å·¥ç¨‹ (State Engineering)<a class=anchor href=#%e7%ac%ac2%e7%ab%a0%e7%8a%b6%e6%80%81%e5%b7%a5%e7%a8%8b-state-engineering>#</a></h2><p>åœ¨ LangGraph ä¸­ï¼ŒState ä¸ä»…ä»…æ˜¯æ•°æ®çš„é›†åˆï¼Œæ›´æ˜¯é€šä¿¡çš„åè®®ã€‚å®˜æ–¹æ–‡æ¡£æ¨èä½¿ç”¨æ ‡å‡†åŒ–çš„æ¨¡å¼æ¥å®šä¹‰çŠ¶æ€ã€‚</p><h3 id=21-æ ¸å¿ƒæ ‡å‡†messagesstate>2.1 æ ¸å¿ƒæ ‡å‡†ï¼šMessagesState<a class=anchor href=#21-%e6%a0%b8%e5%bf%83%e6%a0%87%e5%87%86messagesstate>#</a></h3><p>LangGraph æä¾›äº†å¼€ç®±å³ç”¨çš„ <strong><code>MessagesState</code></strong>ï¼Œå®ƒå†…ç½®äº† <code>messages</code> å­—æ®µå’Œ <code>add_messages</code> reducerã€‚è¿™æ˜¯æ„å»º Chat Agent çš„æ ‡å‡†èµ·ç‚¹ã€‚</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=kn>from</span> <span class=nn>langgraph.graph</span> <span class=kn>import</span> <span class=n>MessagesState</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># âœ… æœ€ä½³å®è·µï¼šç»§æ‰¿ MessagesState æ¥å®šä¹‰ä½ çš„ Agent State</span>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>AgentState</span><span class=p>(</span><span class=n>MessagesState</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=c1># messages å­—æ®µå·²è‡ªåŠ¨åŒ…å«ï¼Œèƒ½å¤Ÿæ­£ç¡®å¤„ç†è¿½åŠ å’Œæ›´æ–°</span>
</span></span><span class=line><span class=cl>    <span class=c1># ä»…éœ€å®šä¹‰é¢å¤–çš„ä¸šåŠ¡å­—æ®µ</span>
</span></span><span class=line><span class=cl>    <span class=n>documents</span><span class=p>:</span> <span class=nb>list</span><span class=p>[</span><span class=nb>str</span><span class=p>]</span>
</span></span><span class=line><span class=cl>    <span class=n>steps_taken</span><span class=p>:</span> <span class=nb>int</span></span></span></code></pre></div><p><strong>ä¸ºä»€ä¹ˆç›´æ¥ç”¨ <code>MessagesState</code>ï¼Ÿ</strong></p><ol><li><strong>å†…ç½® Reducer</strong>ï¼šè‡ªåŠ¨å¤„ç†æ¶ˆæ¯çš„è¿½åŠ  (Append) å’Œæ›´æ–° (Update)ã€‚</li><li><strong>å‡å°‘æ ·æ¿</strong>ï¼šé¿å…äº†æ‰‹åŠ¨ç¼–å†™ <code>Annotated[list, add_messages]</code> çš„ç¹çå’Œæ˜“é”™ã€‚</li><li><strong>å…¼å®¹æ€§</strong>ï¼šä¸ LangGraph çš„é¢„ç½®ç»„ä»¶ (å¦‚ <code>ToolNode</code>) å®Œç¾å…¼å®¹ã€‚</li></ol><h3 id=22-ç”Ÿäº§çº§æ¨¡å¼inputoutput-schema-åˆ†ç¦»>2.2 ç”Ÿäº§çº§æ¨¡å¼ï¼šInput/Output Schema åˆ†ç¦»<a class=anchor href=#22-%e7%94%9f%e4%ba%a7%e7%ba%a7%e6%a8%a1%e5%bc%8finputoutput-schema-%e5%88%86%e7%a6%bb>#</a></h3><p>å¯¹äºå¯¹å¤–æä¾› API çš„æœåŠ¡ï¼Œå®˜æ–¹å¼ºçƒˆå»ºè®®æ˜¾å¼åŒºåˆ† <strong>Input</strong> (è¾“å…¥)ã€<strong>Output</strong> (è¾“å‡º) å’Œ <strong>Overall</strong> (å†…éƒ¨) çŠ¶æ€ã€‚</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=kn>from</span> <span class=nn>typing</span> <span class=kn>import</span> <span class=n>TypedDict</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 1. å®šä¹‰è¾“å…¥å¥‘çº¦ (ç”¨æˆ·è¯·æ±‚)</span>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>InputState</span><span class=p>(</span><span class=n>TypedDict</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=n>question</span><span class=p>:</span> <span class=nb>str</span>
</span></span><span class=line><span class=cl>    <span class=n>user_id</span><span class=p>:</span> <span class=nb>str</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 2. å®šä¹‰è¾“å‡ºå¥‘çº¦ (API å“åº”)</span>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>OutputState</span><span class=p>(</span><span class=n>TypedDict</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=n>answer</span><span class=p>:</span> <span class=nb>str</span>
</span></span><span class=line><span class=cl>    <span class=n>confidence</span><span class=p>:</span> <span class=nb>float</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 3. å®šä¹‰å†…éƒ¨çŠ¶æ€ (å…¨é‡ä¸Šä¸‹æ–‡)</span>
</span></span><span class=line><span class=cl><span class=c1># ç»§æ‰¿ Input å’Œ Outputï¼Œå¹¶æ·»åŠ ç§æœ‰å­—æ®µ</span>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>OverallState</span><span class=p>(</span><span class=n>InputState</span><span class=p>,</span> <span class=n>OutputState</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=n>scratchpad</span><span class=p>:</span> <span class=nb>list</span><span class=p>[</span><span class=nb>str</span><span class=p>]</span>   <span class=c1># ç§æœ‰å­—æ®µï¼šæ€è€ƒè¿‡ç¨‹</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 4. æ„å»ºå›¾æ—¶æŒ‡å®š Schema</span>
</span></span><span class=line><span class=cl><span class=c1># graph = StateGraph(OverallState, input=InputState, output=OutputState)</span></span></span></code></pre></div><blockquote class=book-hint><p>ğŸ’¡ <strong>Best Practice</strong>: è¿™ç§æ¨¡å¼éå¸¸é€‚åˆ REST API å°è£…ï¼Œèƒ½å¤Ÿæ¸…æ™°åœ°éš”ç¦»"ç”¨æˆ·ä¼ çš„"ã€&ldquo;ç³»ç»Ÿç®—çš„"å’Œ"æœ€ç»ˆè¿”å›çš„&rdquo;ã€‚</p></blockquote><h3 id=23-æ·±å…¥-add_messages-çš„-upsert-æœºåˆ¶>2.3 æ·±å…¥ add_messages çš„ Upsert æœºåˆ¶<a class=anchor href=#23-%e6%b7%b1%e5%85%a5-add_messages-%e7%9a%84-upsert-%e6%9c%ba%e5%88%b6>#</a></h3><p><code>MessagesState</code> èƒŒåçš„æ ¸å¿ƒæ˜¯ <code>add_messages</code> reducerã€‚å®ƒçš„è¡Œä¸ºä¸ä»…ä»…æ˜¯ appendï¼š</p><ol><li><strong>Append (è¿½åŠ )</strong>: å¦‚æœæ–°æ¶ˆæ¯ ID ä¸å­˜åœ¨ï¼Œè¿½åŠ åˆ°åˆ—è¡¨ã€‚</li><li><strong>Update (æ›´æ–°)</strong>: å¦‚æœæ–°æ¶ˆæ¯ ID å·²å­˜åœ¨ï¼Œ<strong>æ›¿æ¢</strong>æ—§æ¶ˆæ¯å†…å®¹ã€‚</li></ol><p>è¿™æ˜¯å®ç° <strong>Human Correction (äººå·¥ä¿®æ­£)</strong> çš„å…³é”®ï¼šæˆ‘ä»¬æ— éœ€åˆ é™¤é”™è¯¯æ¶ˆæ¯ï¼Œåªéœ€æ³¨å…¥ä¸€æ¡ ID ç›¸åŒçš„æ–°æ¶ˆæ¯å³å¯è¦†ç›–ã€‚</p><hr><h2 id=ç¬¬3ç« æ„å»ºå¯æ§-agent-command-api>ç¬¬3ç« ï¼šæ„å»ºå¯æ§ Agent (Command API)<a class=anchor href=#%e7%ac%ac3%e7%ab%a0%e6%9e%84%e5%bb%ba%e5%8f%af%e6%8e%a7-agent-command-api>#</a></h2><p>LangGraph å¼•å…¥äº†åŸå­åŒ–çš„ <strong>Command API</strong>ï¼Œè¿™æ˜¯ç›®å‰æ§åˆ¶æµçš„æœ€ä½³å®è·µã€‚åˆ«å†å†™åˆ†æ•£çš„ <code>conditional_edges</code> äº†ã€‚</p><h3 id=31-å®æˆ˜ä½¿ç”¨-command-å®ç°åŸå­è·¯ç”±>3.1 å®æˆ˜ï¼šä½¿ç”¨ Command å®ç°åŸå­è·¯ç”±<a class=anchor href=#31-%e5%ae%9e%e6%88%98%e4%bd%bf%e7%94%a8-command-%e5%ae%9e%e7%8e%b0%e5%8e%9f%e5%ad%90%e8%b7%af%e7%94%b1>#</a></h3><p>æˆ‘ä»¬å°†æ„å»ºä¸€ä¸ªå…·å¤‡å¤©æ°”æŸ¥è¯¢èƒ½åŠ›çš„ ReAct Agentã€‚</p><p><strong>æ­¥éª¤ 1ï¼šå®šä¹‰å·¥å…·ä¸æ¨¡å‹</strong></p><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=kn>from</span> <span class=nn>langchain_openai</span> <span class=kn>import</span> <span class=n>ChatOpenAI</span>
</span></span><span class=line><span class=cl><span class=kn>from</span> <span class=nn>langchain_core.tools</span> <span class=kn>import</span> <span class=n>tool</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nd>@tool</span>
</span></span><span class=line><span class=cl><span class=k>def</span> <span class=nf>get_weather</span><span class=p>(</span><span class=n>city</span><span class=p>:</span> <span class=nb>str</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;&#34;&#34;æŸ¥è¯¢æŒ‡å®šåŸå¸‚çš„å¤©æ°”&#34;&#34;&#34;</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=sa>f</span><span class=s2>&#34;</span><span class=si>{</span><span class=n>city</span><span class=si>}</span><span class=s2> å¤©æ°”æ™´æœ—ï¼Œ25â„ƒ&#34;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>tools</span> <span class=o>=</span> <span class=p>[</span><span class=n>get_weather</span><span class=p>]</span>
</span></span><span class=line><span class=cl><span class=n>model</span> <span class=o>=</span> <span class=n>ChatOpenAI</span><span class=p>(</span><span class=n>model</span><span class=o>=</span><span class=s2>&#34;gpt-4o&#34;</span><span class=p>)</span><span class=o>.</span><span class=n>bind_tools</span><span class=p>(</span><span class=n>tools</span><span class=p>)</span></span></span></code></pre></div><p><strong>æ­¥éª¤ 2ï¼šå®šä¹‰ Agent èŠ‚ç‚¹ (ä½¿ç”¨ Command)</strong></p><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=kn>from</span> <span class=nn>langgraph.types</span> <span class=kn>import</span> <span class=n>Command</span>
</span></span><span class=line><span class=cl><span class=kn>from</span> <span class=nn>langgraph.graph</span> <span class=kn>import</span> <span class=n>END</span>
</span></span><span class=line><span class=cl><span class=kn>from</span> <span class=nn>typing</span> <span class=kn>import</span> <span class=n>Literal</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># å®šä¹‰ Agent èŠ‚ç‚¹</span>
</span></span><span class=line><span class=cl><span class=k>def</span> <span class=nf>agent_node</span><span class=p>(</span><span class=n>state</span><span class=p>:</span> <span class=n>AgentState</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=n>Command</span><span class=p>[</span><span class=n>Literal</span><span class=p>[</span><span class=s2>&#34;tools&#34;</span><span class=p>,</span> <span class=n>END</span><span class=p>]]:</span>
</span></span><span class=line><span class=cl>    <span class=n>messages</span> <span class=o>=</span> <span class=n>state</span><span class=p>[</span><span class=s2>&#34;messages&#34;</span><span class=p>]</span>
</span></span><span class=line><span class=cl>    <span class=n>response</span> <span class=o>=</span> <span class=n>model</span><span class=o>.</span><span class=n>invoke</span><span class=p>(</span><span class=n>messages</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=c1># æ„é€ çŠ¶æ€æ›´æ–° (Command çš„ update å‚æ•°)</span>
</span></span><span class=line><span class=cl>    <span class=n>update</span> <span class=o>=</span> <span class=p>{</span><span class=s2>&#34;messages&#34;</span><span class=p>:</span> <span class=p>[</span><span class=n>response</span><span class=p>]}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=c1># æ ¸å¿ƒè·¯ç”±é€»è¾‘ï¼šåŸå­åŒ–å†³å®šå»å‘</span>
</span></span><span class=line><span class=cl>    <span class=k>if</span> <span class=n>response</span><span class=o>.</span><span class=n>tool_calls</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=c1># åŸå­æ“ä½œï¼šæ›´æ–°çŠ¶æ€ + è·³è½¬ tools</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=n>Command</span><span class=p>(</span>
</span></span><span class=line><span class=cl>            <span class=n>update</span><span class=o>=</span><span class=n>update</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=n>goto</span><span class=o>=</span><span class=s2>&#34;tools&#34;</span>
</span></span><span class=line><span class=cl>        <span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=c1># å¦åˆ™ -&gt; æ›´æ–°çŠ¶æ€å¹¶ç»“æŸ</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=n>Command</span><span class=p>(</span><span class=n>update</span><span class=o>=</span><span class=n>update</span><span class=p>,</span> <span class=n>goto</span><span class=o>=</span><span class=n>END</span><span class=p>)</span></span></span></code></pre></div><p><strong>æ­¥éª¤ 3ï¼šç»„è£… Graph</strong></p><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=kn>from</span> <span class=nn>langgraph.graph</span> <span class=kn>import</span> <span class=n>StateGraph</span><span class=p>,</span> <span class=n>START</span>
</span></span><span class=line><span class=cl><span class=kn>from</span> <span class=nn>langgraph.prebuilt</span> <span class=kn>import</span> <span class=n>ToolNode</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># ä½¿ç”¨æˆ‘ä»¬è‡ªå®šä¹‰çš„ AgentState</span>
</span></span><span class=line><span class=cl><span class=n>workflow</span> <span class=o>=</span> <span class=n>StateGraph</span><span class=p>(</span><span class=n>AgentState</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># æ·»åŠ èŠ‚ç‚¹</span>
</span></span><span class=line><span class=cl><span class=n>workflow</span><span class=o>.</span><span class=n>add_node</span><span class=p>(</span><span class=s2>&#34;agent&#34;</span><span class=p>,</span> <span class=n>agent_node</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=n>workflow</span><span class=o>.</span><span class=n>add_node</span><span class=p>(</span><span class=s2>&#34;tools&#34;</span><span class=p>,</span> <span class=n>ToolNode</span><span class=p>(</span><span class=n>tools</span><span class=p>))</span> <span class=c1># ä½¿ç”¨å®˜æ–¹é¢„ç½®çš„ ToolNode</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># å®šä¹‰è¾¹</span>
</span></span><span class=line><span class=cl><span class=n>workflow</span><span class=o>.</span><span class=n>add_edge</span><span class=p>(</span><span class=n>START</span><span class=p>,</span> <span class=s2>&#34;agent&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=n>workflow</span><span class=o>.</span><span class=n>add_edge</span><span class=p>(</span><span class=s2>&#34;tools&#34;</span><span class=p>,</span> <span class=s2>&#34;agent&#34;</span><span class=p>)</span> <span class=c1># å·¥å…·æ‰§è¡Œå®Œï¼Œå¿…é¡»å›åˆ° Agent ç»§ç»­æ€è€ƒ</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># ç¼–è¯‘åº”ç”¨</span>
</span></span><span class=line><span class=cl><span class=n>app</span> <span class=o>=</span> <span class=n>workflow</span><span class=o>.</span><span class=n>compile</span><span class=p>()</span></span></span></code></pre></div><h3 id=32-ä¸ºä»€ä¹ˆ-command-api-æ˜¯æœªæ¥>3.2 ä¸ºä»€ä¹ˆ Command API æ˜¯æœªæ¥ï¼Ÿ<a class=anchor href=#32-%e4%b8%ba%e4%bb%80%e4%b9%88-command-api-%e6%98%af%e6%9c%aa%e6%9d%a5>#</a></h3><table><thead><tr><th style=text-align:left>ç‰¹æ€§</th><th style=text-align:left>æ—§ç‰ˆ Conditional Edge</th><th style=text-align:left>æ–°ç‰ˆ Command API</th></tr></thead><tbody><tr><td style=text-align:left><strong>ä»£ç ä½ç½®</strong></td><td style=text-align:left>åˆ†æ•£åœ¨ <code>add_conditional_edges</code></td><td style=text-align:left>å†…èšåœ¨ Node å‡½æ•°å†…éƒ¨</td></tr><tr><td style=text-align:left><strong>çŠ¶æ€æ›´æ–°</strong></td><td style=text-align:left>æ— æ³•åœ¨è·¯ç”±æ—¶æ›´æ–° State</td><td style=text-align:left><code>update</code> å‚æ•°æ”¯æŒåŸå­æ›´æ–°</td></tr><tr><td style=text-align:left><strong>å¯è¯»æ€§</strong></td><td style=text-align:left>é€»è¾‘å‰²è£‚ï¼Œéš¾ä»¥è°ƒè¯•</td><td style=text-align:left>ç±»ä¼¼ <code>return goto</code>ï¼Œç¬¦åˆç¼–ç¨‹ç›´è§‰</td></tr></tbody></table><hr><h2 id=ç¬¬4ç« æŒä¹…åŒ–ä¸-time-travel>ç¬¬4ç« ï¼šæŒä¹…åŒ–ä¸ Time Travel<a class=anchor href=#%e7%ac%ac4%e7%ab%a0%e6%8c%81%e4%b9%85%e5%8c%96%e4%b8%8e-time-travel>#</a></h2><h3 id=41-checkpoint-æœºåˆ¶>4.1 Checkpoint æœºåˆ¶<a class=anchor href=#41-checkpoint-%e6%9c%ba%e5%88%b6>#</a></h3><p>LangGraph çš„æŒä¹…åŒ–æ˜¯å¯¹ <strong>Graph State</strong> çš„å®Œæ•´ <strong>Snapshot (å¿«ç…§)</strong>ã€‚</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=kn>from</span> <span class=nn>langgraph.checkpoint.memory</span> <span class=kn>import</span> <span class=n>MemorySaver</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 1. æ³¨å…¥ Checkpointer (ç”Ÿäº§ç¯å¢ƒæ¨è PostgresSaver)</span>
</span></span><span class=line><span class=cl><span class=n>checkpointer</span> <span class=o>=</span> <span class=n>MemorySaver</span><span class=p>()</span>
</span></span><span class=line><span class=cl><span class=n>app</span> <span class=o>=</span> <span class=n>workflow</span><span class=o>.</span><span class=n>compile</span><span class=p>(</span><span class=n>checkpointer</span><span class=o>=</span><span class=n>checkpointer</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 2. è¿è¡Œæ—¶æŒ‡å®š Thread ID</span>
</span></span><span class=line><span class=cl><span class=n>config</span> <span class=o>=</span> <span class=p>{</span><span class=s2>&#34;configurable&#34;</span><span class=p>:</span> <span class=p>{</span><span class=s2>&#34;thread_id&#34;</span><span class=p>:</span> <span class=s2>&#34;session_1&#34;</span><span class=p>}}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># ç¬¬ä¸€è½®</span>
</span></span><span class=line><span class=cl><span class=n>app</span><span class=o>.</span><span class=n>invoke</span><span class=p>({</span><span class=s2>&#34;messages&#34;</span><span class=p>:</span> <span class=p>[(</span><span class=s2>&#34;user&#34;</span><span class=p>,</span> <span class=s2>&#34;Hello&#34;</span><span class=p>)]},</span> <span class=n>config</span><span class=o>=</span><span class=n>config</span><span class=p>)</span></span></span></code></pre></div><h3 id=42-time-travel-çŠ¶æ€å›æ»š>4.2 Time Travel (çŠ¶æ€å›æ»š)<a class=anchor href=#42-time-travel-%e7%8a%b6%e6%80%81%e5%9b%9e%e6%bb%9a>#</a></h3><p>åˆ©ç”¨å¿«ç…§ï¼Œæˆ‘ä»¬å¯ä»¥â€œç©¿è¶Šâ€å›ä»»æ„å†å²çŠ¶æ€å¹¶åˆ†å‰æ‰§è¡Œã€‚</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=c1># 1. è·å–å†å²å¿«ç…§</span>
</span></span><span class=line><span class=cl><span class=n>history</span> <span class=o>=</span> <span class=nb>list</span><span class=p>(</span><span class=n>app</span><span class=o>.</span><span class=n>get_state_history</span><span class=p>(</span><span class=n>config</span><span class=p>))</span>
</span></span><span class=line><span class=cl><span class=n>last_snapshot</span> <span class=o>=</span> <span class=n>history</span><span class=p>[</span><span class=mi>1</span><span class=p>]</span> <span class=c1># è·å–å€’æ•°ç¬¬äºŒæ­¥</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 2. Fork æ‰§è¡Œ (ä»è¿‡å»çš„çŠ¶æ€åˆ†å‰)</span>
</span></span><span class=line><span class=cl><span class=n>fork_config</span> <span class=o>=</span> <span class=n>config</span><span class=o>.</span><span class=n>copy</span><span class=p>()</span>
</span></span><span class=line><span class=cl><span class=n>fork_config</span><span class=p>[</span><span class=s2>&#34;configurable&#34;</span><span class=p>][</span><span class=s2>&#34;checkpoint_id&#34;</span><span class=p>]</span> <span class=o>=</span> <span class=n>last_snapshot</span><span class=o>.</span><span class=n>config</span><span class=p>[</span><span class=s2>&#34;configurable&#34;</span><span class=p>][</span><span class=s2>&#34;checkpoint_id&#34;</span><span class=p>]</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>app</span><span class=o>.</span><span class=n>invoke</span><span class=p>(</span>
</span></span><span class=line><span class=cl>    <span class=p>{</span><span class=s2>&#34;messages&#34;</span><span class=p>:</span> <span class=p>[(</span><span class=s2>&#34;user&#34;</span><span class=p>,</span> <span class=s2>&#34;Wait, actually I mean...&#34;</span><span class=p>)]},</span>
</span></span><span class=line><span class=cl>    <span class=n>config</span><span class=o>=</span><span class=n>fork_config</span>
</span></span><span class=line><span class=cl><span class=p>)</span></span></span></code></pre></div><hr><h2 id=ç¬¬5ç« ç”Ÿäº§çº§é«˜çº§æ¨¡å¼-advanced-patterns>ç¬¬5ç« ï¼šç”Ÿäº§çº§é«˜çº§æ¨¡å¼ (Advanced Patterns)<a class=anchor href=#%e7%ac%ac5%e7%ab%a0%e7%94%9f%e4%ba%a7%e7%ba%a7%e9%ab%98%e7%ba%a7%e6%a8%a1%e5%bc%8f-advanced-patterns>#</a></h2><h3 id=51-streaming-æµå¼è¾“å‡º>5.1 Streaming æµå¼è¾“å‡º<a class=anchor href=#51-streaming-%e6%b5%81%e5%bc%8f%e8%be%93%e5%87%ba>#</a></h3><p>å‰ç«¯äº¤äº’å¿…å¤‡ã€‚</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=c1># æ¨¡å¼: stream_mode=&#34;updates&#34; (æ¨è)</span>
</span></span><span class=line><span class=cl><span class=c1># åªæ¨é€çŠ¶æ€çš„å¢é‡å˜åŒ– (Delta)</span>
</span></span><span class=line><span class=cl><span class=k>async</span> <span class=k>for</span> <span class=n>chunk</span> <span class=ow>in</span> <span class=n>app</span><span class=o>.</span><span class=n>astream</span><span class=p>(</span><span class=n>inputs</span><span class=p>,</span> <span class=n>stream_mode</span><span class=o>=</span><span class=s2>&#34;updates&#34;</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=k>for</span> <span class=n>node</span><span class=p>,</span> <span class=n>update</span> <span class=ow>in</span> <span class=n>chunk</span><span class=o>.</span><span class=n>items</span><span class=p>():</span>
</span></span><span class=line><span class=cl>        <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&#34;Node </span><span class=si>{</span><span class=n>node</span><span class=si>}</span><span class=s2> updated: </span><span class=si>{</span><span class=n>update</span><span class=si>}</span><span class=s2>&#34;</span><span class=p>)</span></span></span></code></pre></div><h3 id=52-è¿è¡Œæ—¶é…ç½®-configuration>5.2 è¿è¡Œæ—¶é…ç½® (Configuration)<a class=anchor href=#52-%e8%bf%90%e8%a1%8c%e6%97%b6%e9%85%8d%e7%bd%ae-configuration>#</a></h3><p>é¿å…ç¡¬ç¼–ç ï¼Œå®ç°å¤šç§Ÿæˆ·éš”ç¦»ã€‚</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=kn>from</span> <span class=nn>langchain_core.runnables</span> <span class=kn>import</span> <span class=n>RunnableConfig</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>def</span> <span class=nf>agent_node</span><span class=p>(</span><span class=n>state</span><span class=p>:</span> <span class=n>AgentState</span><span class=p>,</span> <span class=n>config</span><span class=p>:</span> <span class=n>RunnableConfig</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=c1># ä» config ä¸­è¯»å–åŠ¨æ€å‚æ•°</span>
</span></span><span class=line><span class=cl>    <span class=n>user_id</span> <span class=o>=</span> <span class=n>config</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=s2>&#34;configurable&#34;</span><span class=p>,</span> <span class=p>{})</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=s2>&#34;user_id&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=n>model_name</span> <span class=o>=</span> <span class=n>config</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=s2>&#34;configurable&#34;</span><span class=p>,</span> <span class=p>{})</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=s2>&#34;model&#34;</span><span class=p>,</span> <span class=s2>&#34;gpt-4o&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=c1># åŠ¨æ€æ„å»ºæ¨¡å‹</span>
</span></span><span class=line><span class=cl>    <span class=n>model</span> <span class=o>=</span> <span class=n>ChatOpenAI</span><span class=p>(</span><span class=n>model</span><span class=o>=</span><span class=n>model_name</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=o>...</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># è°ƒç”¨æ—¶ä¼ å‚</span>
</span></span><span class=line><span class=cl><span class=n>app</span><span class=o>.</span><span class=n>invoke</span><span class=p>(</span><span class=n>inputs</span><span class=p>,</span> <span class=n>config</span><span class=o>=</span><span class=p>{</span><span class=s2>&#34;configurable&#34;</span><span class=p>:</span> <span class=p>{</span><span class=s2>&#34;model&#34;</span><span class=p>:</span> <span class=s2>&#34;claude-3-5-sonnet&#34;</span><span class=p>}})</span></span></span></code></pre></div><h2 id=ç¬¬6ç« å¥å£®æ€§ä¸è°ƒè¯•-robustness--debugging>ç¬¬6ç« ï¼šå¥å£®æ€§ä¸è°ƒè¯• (Robustness & Debugging)<a class=anchor href=#%e7%ac%ac6%e7%ab%a0%e5%81%a5%e5%a3%ae%e6%80%a7%e4%b8%8e%e8%b0%83%e8%af%95-robustness--debugging>#</a></h2><p>ç”Ÿäº§çº§åº”ç”¨ä¸ä»…ä»…æ˜¯åŠŸèƒ½è·‘é€šï¼Œè¿˜è¦èƒ½æŠ—ä½å¼‚å¸¸ï¼Œå¹¶ä¸”æ˜“äºè°ƒè¯•ã€‚</p><h3 id=61-é‡è¯•ç­–ç•¥-retry-policies>6.1 é‡è¯•ç­–ç•¥ (Retry Policies)<a class=anchor href=#61-%e9%87%8d%e8%af%95%e7%ad%96%e7%95%a5-retry-policies>#</a></h3><p>ç½‘ç»œæ³¢åŠ¨ã€API é™æµæ˜¯å¸¸æ€ã€‚LangGraph å…è®¸åœ¨ Node çº§åˆ«ä»å¤–éƒ¨é…ç½®é‡è¯•ï¼Œè€Œä¸éœ€è¦åœ¨æ¯ä¸ªå‡½æ•°å†…éƒ¨å†™ <code>try...except</code> å¾ªç¯ã€‚</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=kn>from</span> <span class=nn>langgraph.types</span> <span class=kn>import</span> <span class=n>RetryPolicy</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># å®šä¹‰é‡è¯•ç­–ç•¥</span>
</span></span><span class=line><span class=cl><span class=n>policy</span> <span class=o>=</span> <span class=n>RetryPolicy</span><span class=p>(</span>
</span></span><span class=line><span class=cl>    <span class=n>max_attempts</span><span class=o>=</span><span class=mi>3</span><span class=p>,</span>          <span class=c1># æœ€å¤šé‡è¯•3æ¬¡</span>
</span></span><span class=line><span class=cl>    <span class=n>initial_interval</span><span class=o>=</span><span class=mf>1.0</span><span class=p>,</span>    <span class=c1># åˆå§‹é—´éš”1ç§’</span>
</span></span><span class=line><span class=cl>    <span class=n>backoff_factor</span><span class=o>=</span><span class=mf>2.0</span><span class=p>,</span>      <span class=c1># æ¯æ¬¡é—´éš”ç¿»å€ (æŒ‡æ•°é€€é¿)</span>
</span></span><span class=line><span class=cl>    <span class=n>retry_on</span><span class=o>=</span><span class=ne>TimeoutError</span>    <span class=c1># ä»…é’ˆå¯¹ç‰¹å®šå¼‚å¸¸é‡è¯•</span>
</span></span><span class=line><span class=cl><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># åº”ç”¨åˆ°èŠ‚ç‚¹</span>
</span></span><span class=line><span class=cl><span class=n>workflow</span><span class=o>.</span><span class=n>add_node</span><span class=p>(</span><span class=s2>&#34;agent&#34;</span><span class=p>,</span> <span class=n>call_model</span><span class=p>,</span> <span class=n>retry_policy</span><span class=o>=</span><span class=n>policy</span><span class=p>)</span></span></span></code></pre></div><p><strong>ä¸ºä»€ä¹ˆè¿™æ¯”å†…éƒ¨ try-catch å¥½ï¼Ÿ</strong></p><ul><li><strong>è§£è€¦</strong>ï¼šä¸šåŠ¡é€»è¾‘ä¿æŒçº¯å‡€ã€‚</li><li><strong>é€æ˜</strong>ï¼šGraph Engine çŸ¥é“é‡è¯•å‘ç”Ÿï¼Œå¯ä»¥åœ¨ç›‘æ§ä¸­è®°å½•ã€‚</li></ul><h3 id=62-å¯è§†åŒ–-visualization>6.2 å¯è§†åŒ– (Visualization)<a class=anchor href=#62-%e5%8f%af%e8%a7%86%e5%8c%96-visualization>#</a></h3><p>å½“ä½ æ„å»ºäº†å¤æ‚çš„å›¾åï¼Œè‚‰çœ¼æ£€æŸ¥ä»£ç è¿æ¥å…³ç³»éå¸¸å›°éš¾ã€‚LangGraph å¯ä»¥è‡ªåŠ¨ç”Ÿæˆ Mermaid å›¾ã€‚</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=kn>from</span> <span class=nn>IPython.display</span> <span class=kn>import</span> <span class=n>Image</span><span class=p>,</span> <span class=n>display</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># å°†ç¼–è¯‘åçš„å›¾è½¬æ¢ä¸º Mermaid PNG</span>
</span></span><span class=line><span class=cl><span class=n>png_bytes</span> <span class=o>=</span> <span class=n>app</span><span class=o>.</span><span class=n>get_graph</span><span class=p>()</span><span class=o>.</span><span class=n>draw_mermaid_png</span><span class=p>()</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># ä¿å­˜æˆ–å±•ç¤º</span>
</span></span><span class=line><span class=cl><span class=k>with</span> <span class=nb>open</span><span class=p>(</span><span class=s2>&#34;graph.png&#34;</span><span class=p>,</span> <span class=s2>&#34;wb&#34;</span><span class=p>)</span> <span class=k>as</span> <span class=n>f</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=n>f</span><span class=o>.</span><span class=n>write</span><span class=p>(</span><span class=n>png_bytes</span><span class=p>)</span></span></span></code></pre></div><p>è¿™å¯¹äºä¸éæŠ€æœ¯äººå‘˜ï¼ˆäº§å“ç»ç†ï¼‰æ²Ÿé€šé€»è¾‘è‡³å…³é‡è¦ã€‚</p><h3 id=63-å¼‚å¸¸å¤„ç†ä¸äº‹åŠ¡-transactional>6.3 å¼‚å¸¸å¤„ç†ä¸äº‹åŠ¡ (Transactional)<a class=anchor href=#63-%e5%bc%82%e5%b8%b8%e5%a4%84%e7%90%86%e4%b8%8e%e4%ba%8b%e5%8a%a1-transactional>#</a></h3><p>LangGraph çš„æ¯ä¸€æ­¥ï¼ˆSuper-stepï¼‰éƒ½æ˜¯äº‹åŠ¡æ€§çš„ã€‚</p><ul><li>å¦‚æœå¹¶è¡Œæ‰§è¡Œçš„ä¸‰ä¸ª Node ä¸­æœ‰ä¸€ä¸ªæŠ›å‡ºæœªæ•è·å¼‚å¸¸ã€‚</li><li><strong>æ•´ä¸ª Super-step å›æ»š</strong>ï¼ˆå³å¦å¤–ä¸¤ä¸ªæˆåŠŸçš„ Node çš„ State æ›´æ–°ä¹Ÿä¸ä¼šåº”ç”¨ï¼‰ã€‚</li><li>è¿™ä¿è¯äº† State çš„ä¸€è‡´æ€§ï¼Œä¸ä¼šå‡ºç°â€œä¸€åŠæˆåŠŸä¸€åŠå¤±è´¥â€çš„è„æ•°æ®ã€‚</li></ul><h2 id=æœ¬ç¯‡å°ç»“>æœ¬ç¯‡å°ç»“<a class=anchor href=#%e6%9c%ac%e7%af%87%e5%b0%8f%e7%bb%93>#</a></h2><p>é€šè¿‡æœ¬ç¯‡çš„å­¦ä¹ ï¼Œä½ åº”è¯¥å·²ç»æŒæ¡äº† LangGraph çš„<strong>æ ‡å‡†å¼€å‘èŒƒå¼</strong>ï¼š</p><ol><li><strong>State</strong>: å§‹ç»ˆç»§æ‰¿ <strong><code>MessagesState</code></strong>ï¼Œåˆ©ç”¨å†…ç½®çš„ <code>add_messages</code> å¤„ç†å¯¹è¯å†å²ã€‚</li><li><strong>Control</strong>: æ‹¥æŠ± <strong><code>Command</code> API</strong>ï¼Œåœ¨ Node å†…éƒ¨åŸå­åŒ–åœ°å¤„ç†çŠ¶æ€æ›´æ–°ä¸è·¯ç”±ã€‚</li><li><strong>Ops</strong>: ç†Ÿç»ƒä½¿ç”¨ Checkpoint è¿›è¡ŒçŠ¶æ€ç®¡ç†å’Œå›æ»šï¼Œåˆ©ç”¨ Streaming ä¼˜åŒ–ç”¨æˆ·ä½“éªŒã€‚</li></ol><p>æŒæ¡äº†è¿™äº›ï¼Œä½ å·²ç»æ„å»ºäº†åšå®çš„å„ç±» Agent åº”ç”¨åŸºçŸ³ã€‚</p></article><div style="margin-top:2rem;border-top:1px solid #e5e7eb;padding-top:1rem;font-size:.85rem;color:#6b7280;text-align:center">[ç»Ÿè®¡ç»„ä»¶ä»…åœ¨ç”Ÿäº§ç¯å¢ƒæ˜¾ç¤º]</div><div class=giscus style=margin-top:2rem></div><script src=https://giscus.app/client.js data-repo=LordFoxFairy/LordFoxFairy.github.io data-repo-id=R_kgDOQ-JRGA data-category=Announcements data-category-id=DIC_kwDOQ-JRGM4C1PDC data-mapping=pathname data-strict=0 data-reactions-enabled=1 data-emit-metadata=0 data-input-position=bottom data-theme=preferred_color_scheme data-lang=zh-CN data-loading=lazy crossorigin=anonymous async></script><footer class=book-footer><div class="flex flex-wrap justify-between"><div></div><div></div></div><div class="flex flex-wrap justify-between"><span><a href=/notebooks/langchain%E7%AC%94%E8%AE%B0/%E7%AC%AC%E4%BA%8C%E7%AF%87-%E5%BF%AB%E9%80%9F%E4%B8%8A%E6%89%8B%E5%AE%9E%E6%88%98/ class="flex align-center"><img src=/icons/backward.svg class=book-icon alt=Backward>
<span>ç¬¬äºŒç¯‡ å¿«é€Ÿä¸Šæ‰‹å®æˆ˜</span>
</a></span><span><a href=/notebooks/langchain%E7%AC%94%E8%AE%B0/%E7%AC%AC%E5%9B%9B%E7%AF%87-rag%E5%9F%BA%E7%A1%80%E7%AF%87langchain%E7%AF%87/ class="flex align-center"><span>ç¬¬å››ç¯‡ RAGåŸºç¡€ç¯‡(LangChainç¯‡)</span>
<img src=/icons/forward.svg class=book-icon alt=Forward></a></span></div><div class=book-comments></div><script>(function(){document.querySelectorAll("pre:has(code)").forEach(e=>{e.addEventListener("click",e.focus),e.addEventListener("copy",function(t){if(t.preventDefault(),navigator.clipboard){const t=window.getSelection().toString()||e.textContent;navigator.clipboard.writeText(t)}})})})()</script></footer><label for=menu-control class="hidden book-menu-overlay"></label></div><aside class=book-toc><div class=book-toc-content><nav id=TableOfContents><ul><li><a href=#-æœ¬ç¯‡æ¦‚è¦>ğŸ“Œ æœ¬ç¯‡æ¦‚è¦</a></li><li><a href=#ç¬¬1ç« langgraph-æ¶æ„å“²å­¦-architecture>ç¬¬1ç« ï¼šLangGraph æ¶æ„å“²å­¦ (Architecture)</a><ul><li><a href=#11-ä»æ— çŠ¶æ€-dag-åˆ°æœ‰çŠ¶æ€-actor>1.1 ä»æ— çŠ¶æ€ DAG åˆ°æœ‰çŠ¶æ€ Actor</a></li><li><a href=#12-æ ¸å¿ƒè¿è¡Œæœºåˆ¶bsp-æ¨¡å‹>1.2 æ ¸å¿ƒè¿è¡Œæœºåˆ¶ï¼šBSP æ¨¡å‹</a></li></ul></li><li><a href=#ç¬¬2ç« çŠ¶æ€å·¥ç¨‹-state-engineering>ç¬¬2ç« ï¼šçŠ¶æ€å·¥ç¨‹ (State Engineering)</a><ul><li><a href=#21-æ ¸å¿ƒæ ‡å‡†messagesstate>2.1 æ ¸å¿ƒæ ‡å‡†ï¼šMessagesState</a></li><li><a href=#22-ç”Ÿäº§çº§æ¨¡å¼inputoutput-schema-åˆ†ç¦»>2.2 ç”Ÿäº§çº§æ¨¡å¼ï¼šInput/Output Schema åˆ†ç¦»</a></li><li><a href=#23-æ·±å…¥-add_messages-çš„-upsert-æœºåˆ¶>2.3 æ·±å…¥ add_messages çš„ Upsert æœºåˆ¶</a></li></ul></li><li><a href=#ç¬¬3ç« æ„å»ºå¯æ§-agent-command-api>ç¬¬3ç« ï¼šæ„å»ºå¯æ§ Agent (Command API)</a><ul><li><a href=#31-å®æˆ˜ä½¿ç”¨-command-å®ç°åŸå­è·¯ç”±>3.1 å®æˆ˜ï¼šä½¿ç”¨ Command å®ç°åŸå­è·¯ç”±</a></li><li><a href=#32-ä¸ºä»€ä¹ˆ-command-api-æ˜¯æœªæ¥>3.2 ä¸ºä»€ä¹ˆ Command API æ˜¯æœªæ¥ï¼Ÿ</a></li></ul></li><li><a href=#ç¬¬4ç« æŒä¹…åŒ–ä¸-time-travel>ç¬¬4ç« ï¼šæŒä¹…åŒ–ä¸ Time Travel</a><ul><li><a href=#41-checkpoint-æœºåˆ¶>4.1 Checkpoint æœºåˆ¶</a></li><li><a href=#42-time-travel-çŠ¶æ€å›æ»š>4.2 Time Travel (çŠ¶æ€å›æ»š)</a></li></ul></li><li><a href=#ç¬¬5ç« ç”Ÿäº§çº§é«˜çº§æ¨¡å¼-advanced-patterns>ç¬¬5ç« ï¼šç”Ÿäº§çº§é«˜çº§æ¨¡å¼ (Advanced Patterns)</a><ul><li><a href=#51-streaming-æµå¼è¾“å‡º>5.1 Streaming æµå¼è¾“å‡º</a></li><li><a href=#52-è¿è¡Œæ—¶é…ç½®-configuration>5.2 è¿è¡Œæ—¶é…ç½® (Configuration)</a></li></ul></li><li><a href=#ç¬¬6ç« å¥å£®æ€§ä¸è°ƒè¯•-robustness--debugging>ç¬¬6ç« ï¼šå¥å£®æ€§ä¸è°ƒè¯• (Robustness & Debugging)</a><ul><li><a href=#61-é‡è¯•ç­–ç•¥-retry-policies>6.1 é‡è¯•ç­–ç•¥ (Retry Policies)</a></li><li><a href=#62-å¯è§†åŒ–-visualization>6.2 å¯è§†åŒ– (Visualization)</a></li><li><a href=#63-å¼‚å¸¸å¤„ç†ä¸äº‹åŠ¡-transactional>6.3 å¼‚å¸¸å¤„ç†ä¸äº‹åŠ¡ (Transactional)</a></li></ul></li><li><a href=#æœ¬ç¯‡å°ç»“>æœ¬ç¯‡å°ç»“</a></li></ul></nav></div></aside></main></body></html>