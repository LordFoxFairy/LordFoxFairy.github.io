<!doctype html><html lang=zh-cn dir=ltr><head><meta charset=UTF-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content='ç¬¬ä¸ƒç¯‡ Deep Agentsï¼šæ„å»ºå…·å¤‡è§„åˆ’ä¸å­æ™ºèƒ½ä½“èƒ½åŠ›çš„æ·±åº¦ Agent# ç›®æ ‡ï¼šæŒæ¡ deepagents åº“ï¼Œä½¿ç”¨ Agent Harness æ¨¡å¼æ„å»ºèƒ½å¤Ÿå¤„ç†å¤æ‚ã€å¤šæ­¥éª¤ã€é•¿ä¸Šä¸‹æ–‡ä»»åŠ¡çš„ç”Ÿäº§çº§æ™ºèƒ½ä½“ã€‚
ğŸ“‹ å‰ç½®å‡†å¤‡# ç¯å¢ƒé…ç½®# åœ¨å¼€å§‹å­¦ä¹ ä¹‹å‰ï¼Œè¯·ç¡®ä¿å®Œæˆä»¥ä¸‹ç¯å¢ƒé…ç½®ï¼š
1. å®‰è£…ä¾èµ–# # æ ¸å¿ƒåº“ pip install deepagents # æ¨èå·¥å…·ï¼ˆç”¨äºæœ¬ç¯‡å®æˆ˜ï¼‰ pip install tavily-python langchain-community2. ç¯å¢ƒå˜é‡é…ç½®# import os # å¿…é¡»é…ç½® os.environ["ANTHROPIC_API_KEY"] = "sk-..." # é»˜è®¤åŸºåº§æ¨¡å‹ os.environ["TAVILY_API_KEY"] = "tvly-..." # ç”¨äºæœç´¢èƒ½åŠ› # å¯é€‰é…ç½®ï¼ˆä½†å¼ºçƒˆæ¨èç”¨äºè¿½è¸ªï¼‰ os.environ["LANGSMITH_API_KEY"] = "lsv2-..." os.environ["LANGSMITH_TRACING"] = "true"å‰ç½®çŸ¥è¯†# å»ºè®®å…·å¤‡ä»¥ä¸‹åŸºç¡€çŸ¥è¯†ï¼š
âœ… LangGraph åŸºç¡€ (State, Node, Edge çš„æ¦‚å¿µ) âœ… Tool Calling (å¦‚ä½•å®šä¹‰å’Œä½¿ç”¨å·¥å…·) âœ… å¼‚æ­¥ç¼–ç¨‹ (async/await) ç¬¬1ç« ï¼šDeep Agents æ ¸å¿ƒæ¶æ„# 1.1 ä»€ä¹ˆæ˜¯ Agent Harnessï¼Ÿ# åœ¨è½¯ä»¶å·¥ç¨‹ä¸­ï¼ŒHarnessï¼ˆæŒ½å…·/æµ‹è¯•å¥—ä»¶ï¼‰é€šå¸¸æŒ‡ç”¨æ¥æ§åˆ¶å’Œæµ‹è¯•ç»„ä»¶çš„å¤–éƒ¨æ¡†æ¶ã€‚Deep Agents å¼•å…¥äº† Agent Harness çš„æ ¸å¿ƒè®¾è®¡ç†å¿µï¼šå®ƒä¸æ”¹å˜åº•å±‚çš„ LLM æˆ– LangGraph å›¾ï¼Œè€Œæ˜¯åƒç»™èµ›é©¬å¥—ä¸ŠæŒ½å…·ä¸€æ ·ï¼Œåœ¨ Agent å¾ªç¯ä¹‹å¤–åŒ…è£¹äº†ä¸€å±‚å¼ºåˆ¶æ€§çš„è¡Œä¸ºè§„èŒƒã€‚
'><meta name=theme-color media="(prefers-color-scheme: light)" content="#ffffff"><meta name=theme-color media="(prefers-color-scheme: dark)" content="#343a40"><meta name=color-scheme content="light dark"><meta property="og:url" content="https://LordFoxFairy.github.io/notebooks/langchain%E7%AC%94%E8%AE%B0/%E7%AC%AC%E4%B8%83%E7%AF%87-deep-agents/"><meta property="og:site_name" content="LordFoxFairyçš„ç¬”è®°æœ¬"><meta property="og:title" content="ç¬¬ä¸ƒç¯‡ Deep Agents"><meta property="og:description" content='ç¬¬ä¸ƒç¯‡ Deep Agentsï¼šæ„å»ºå…·å¤‡è§„åˆ’ä¸å­æ™ºèƒ½ä½“èƒ½åŠ›çš„æ·±åº¦ Agent# ç›®æ ‡ï¼šæŒæ¡ deepagents åº“ï¼Œä½¿ç”¨ Agent Harness æ¨¡å¼æ„å»ºèƒ½å¤Ÿå¤„ç†å¤æ‚ã€å¤šæ­¥éª¤ã€é•¿ä¸Šä¸‹æ–‡ä»»åŠ¡çš„ç”Ÿäº§çº§æ™ºèƒ½ä½“ã€‚
ğŸ“‹ å‰ç½®å‡†å¤‡# ç¯å¢ƒé…ç½®# åœ¨å¼€å§‹å­¦ä¹ ä¹‹å‰ï¼Œè¯·ç¡®ä¿å®Œæˆä»¥ä¸‹ç¯å¢ƒé…ç½®ï¼š
1. å®‰è£…ä¾èµ–# # æ ¸å¿ƒåº“ pip install deepagents # æ¨èå·¥å…·ï¼ˆç”¨äºæœ¬ç¯‡å®æˆ˜ï¼‰ pip install tavily-python langchain-community2. ç¯å¢ƒå˜é‡é…ç½®# import os # å¿…é¡»é…ç½® os.environ["ANTHROPIC_API_KEY"] = "sk-..." # é»˜è®¤åŸºåº§æ¨¡å‹ os.environ["TAVILY_API_KEY"] = "tvly-..." # ç”¨äºæœç´¢èƒ½åŠ› # å¯é€‰é…ç½®ï¼ˆä½†å¼ºçƒˆæ¨èç”¨äºè¿½è¸ªï¼‰ os.environ["LANGSMITH_API_KEY"] = "lsv2-..." os.environ["LANGSMITH_TRACING"] = "true"å‰ç½®çŸ¥è¯†# å»ºè®®å…·å¤‡ä»¥ä¸‹åŸºç¡€çŸ¥è¯†ï¼š
âœ… LangGraph åŸºç¡€ (State, Node, Edge çš„æ¦‚å¿µ) âœ… Tool Calling (å¦‚ä½•å®šä¹‰å’Œä½¿ç”¨å·¥å…·) âœ… å¼‚æ­¥ç¼–ç¨‹ (async/await) ç¬¬1ç« ï¼šDeep Agents æ ¸å¿ƒæ¶æ„# 1.1 ä»€ä¹ˆæ˜¯ Agent Harnessï¼Ÿ# åœ¨è½¯ä»¶å·¥ç¨‹ä¸­ï¼ŒHarnessï¼ˆæŒ½å…·/æµ‹è¯•å¥—ä»¶ï¼‰é€šå¸¸æŒ‡ç”¨æ¥æ§åˆ¶å’Œæµ‹è¯•ç»„ä»¶çš„å¤–éƒ¨æ¡†æ¶ã€‚Deep Agents å¼•å…¥äº† Agent Harness çš„æ ¸å¿ƒè®¾è®¡ç†å¿µï¼šå®ƒä¸æ”¹å˜åº•å±‚çš„ LLM æˆ– LangGraph å›¾ï¼Œè€Œæ˜¯åƒç»™èµ›é©¬å¥—ä¸ŠæŒ½å…·ä¸€æ ·ï¼Œåœ¨ Agent å¾ªç¯ä¹‹å¤–åŒ…è£¹äº†ä¸€å±‚å¼ºåˆ¶æ€§çš„è¡Œä¸ºè§„èŒƒã€‚'><meta property="og:locale" content="zh_cn"><meta property="og:type" content="article"><meta property="article:section" content="notebooks"><meta itemprop=name content="ç¬¬ä¸ƒç¯‡ Deep Agents"><meta itemprop=description content='ç¬¬ä¸ƒç¯‡ Deep Agentsï¼šæ„å»ºå…·å¤‡è§„åˆ’ä¸å­æ™ºèƒ½ä½“èƒ½åŠ›çš„æ·±åº¦ Agent# ç›®æ ‡ï¼šæŒæ¡ deepagents åº“ï¼Œä½¿ç”¨ Agent Harness æ¨¡å¼æ„å»ºèƒ½å¤Ÿå¤„ç†å¤æ‚ã€å¤šæ­¥éª¤ã€é•¿ä¸Šä¸‹æ–‡ä»»åŠ¡çš„ç”Ÿäº§çº§æ™ºèƒ½ä½“ã€‚
ğŸ“‹ å‰ç½®å‡†å¤‡# ç¯å¢ƒé…ç½®# åœ¨å¼€å§‹å­¦ä¹ ä¹‹å‰ï¼Œè¯·ç¡®ä¿å®Œæˆä»¥ä¸‹ç¯å¢ƒé…ç½®ï¼š
1. å®‰è£…ä¾èµ–# # æ ¸å¿ƒåº“ pip install deepagents # æ¨èå·¥å…·ï¼ˆç”¨äºæœ¬ç¯‡å®æˆ˜ï¼‰ pip install tavily-python langchain-community2. ç¯å¢ƒå˜é‡é…ç½®# import os # å¿…é¡»é…ç½® os.environ["ANTHROPIC_API_KEY"] = "sk-..." # é»˜è®¤åŸºåº§æ¨¡å‹ os.environ["TAVILY_API_KEY"] = "tvly-..." # ç”¨äºæœç´¢èƒ½åŠ› # å¯é€‰é…ç½®ï¼ˆä½†å¼ºçƒˆæ¨èç”¨äºè¿½è¸ªï¼‰ os.environ["LANGSMITH_API_KEY"] = "lsv2-..." os.environ["LANGSMITH_TRACING"] = "true"å‰ç½®çŸ¥è¯†# å»ºè®®å…·å¤‡ä»¥ä¸‹åŸºç¡€çŸ¥è¯†ï¼š
âœ… LangGraph åŸºç¡€ (State, Node, Edge çš„æ¦‚å¿µ) âœ… Tool Calling (å¦‚ä½•å®šä¹‰å’Œä½¿ç”¨å·¥å…·) âœ… å¼‚æ­¥ç¼–ç¨‹ (async/await) ç¬¬1ç« ï¼šDeep Agents æ ¸å¿ƒæ¶æ„# 1.1 ä»€ä¹ˆæ˜¯ Agent Harnessï¼Ÿ# åœ¨è½¯ä»¶å·¥ç¨‹ä¸­ï¼ŒHarnessï¼ˆæŒ½å…·/æµ‹è¯•å¥—ä»¶ï¼‰é€šå¸¸æŒ‡ç”¨æ¥æ§åˆ¶å’Œæµ‹è¯•ç»„ä»¶çš„å¤–éƒ¨æ¡†æ¶ã€‚Deep Agents å¼•å…¥äº† Agent Harness çš„æ ¸å¿ƒè®¾è®¡ç†å¿µï¼šå®ƒä¸æ”¹å˜åº•å±‚çš„ LLM æˆ– LangGraph å›¾ï¼Œè€Œæ˜¯åƒç»™èµ›é©¬å¥—ä¸ŠæŒ½å…·ä¸€æ ·ï¼Œåœ¨ Agent å¾ªç¯ä¹‹å¤–åŒ…è£¹äº†ä¸€å±‚å¼ºåˆ¶æ€§çš„è¡Œä¸ºè§„èŒƒã€‚'><meta itemprop=wordCount content="1446"><title>ç¬¬ä¸ƒç¯‡ Deep Agents | LordFoxFairyçš„ç¬”è®°æœ¬</title><link rel=icon href=/favicon.png><link rel=manifest href=/manifest.json><link rel=canonical href=https://LordFoxFairy.github.io/notebooks/langchain%E7%AC%94%E8%AE%B0/%E7%AC%AC%E4%B8%83%E7%AF%87-deep-agents/><link rel=stylesheet href=/book.min.6970156cec683193d93c9c4edaf0d56574e4361df2e0c1be4f697ae81c3ba55f.css integrity="sha256-aXAVbOxoMZPZPJxO2vDVZXTkNh3y4MG+T2l66Bw7pV8=" crossorigin=anonymous><script defer src=/fuse.min.js></script><script defer src=/en.search.min.a7a11a812549b6c20d4eeaf4a5a8317847527505f7a0ad3e6824fb320b3128a8.js integrity="sha256-p6EagSVJtsINTur0pagxeEdSdQX3oK0+aCT7MgsxKKg=" crossorigin=anonymous></script></head><body dir=ltr class="book-kind-page book-type-notebooks"><input type=checkbox class="hidden toggle" id=menu-control>
<input type=checkbox class="hidden toggle" id=toc-control><main class="container flex"><aside class=book-menu><div class=book-menu-content><nav><h2 class=book-brand><a class="flex align-center" href=/><span>LordFoxFairyçš„ç¬”è®°æœ¬</span></a></h2><div class="book-search hidden"><input id=book-search-input type=text placeholder=Search aria-label=Search maxlength=64 data-hotkeys=s/><div class="book-search-spinner hidden"></div><ul id=book-search-results></ul></div><script>document.querySelector(".book-search").classList.remove("hidden")</script><ul><li><input type=checkbox id=section-8410cdd8ef137d6cb143c08e6db6ba10 class=toggle checked>
<label for=section-8410cdd8ef137d6cb143c08e6db6ba10 class=flex><a role=button>LangChainç¬”è®°</a>
<img src=/icons/chevron-right.svg class=book-icon alt=Expand></label><ul><li><a href=/notebooks/langchain%E7%AC%94%E8%AE%B0/%E7%AC%AC%E4%B8%80%E7%AF%87-%E5%9F%BA%E7%A1%80%E8%AE%A4%E7%9F%A5/>ç¬¬ä¸€ç¯‡ åŸºç¡€è®¤çŸ¥</a></li><li><a href=/notebooks/langchain%E7%AC%94%E8%AE%B0/%E7%AC%AC%E4%BA%8C%E7%AF%87-%E5%BF%AB%E9%80%9F%E4%B8%8A%E6%89%8B%E5%AE%9E%E6%88%98/>ç¬¬äºŒç¯‡ å¿«é€Ÿä¸Šæ‰‹å®æˆ˜</a></li><li><a href=/notebooks/langchain%E7%AC%94%E8%AE%B0/%E7%AC%AC%E4%B8%89%E7%AF%87-langgraph-%E6%B7%B1%E5%85%A5/>ç¬¬ä¸‰ç¯‡ LangGraph æ·±å…¥</a></li><li><a href=/notebooks/langchain%E7%AC%94%E8%AE%B0/%E7%AC%AC%E5%9B%9B%E7%AF%87-rag%E5%9F%BA%E7%A1%80%E7%AF%87langchain%E7%AF%87/>ç¬¬å››ç¯‡ RAGåŸºç¡€ç¯‡(LangChainç¯‡)</a></li><li><a href=/notebooks/langchain%E7%AC%94%E8%AE%B0/%E7%AC%AC%E5%9B%9B%E7%AF%87-rag%E5%9F%BA%E7%A1%80%E7%AF%87llamaindex%E7%AF%87/>ç¬¬å››ç¯‡ RAGåŸºç¡€ç¯‡(LlamaIndexç¯‡)</a></li><li><a href=/notebooks/langchain%E7%AC%94%E8%AE%B0/%E7%AC%AC%E4%BA%94%E7%AF%87-rag%E9%AB%98%E7%BA%A7%E7%AF%87langchain%E7%AF%87/>ç¬¬äº”ç¯‡ RAGé«˜çº§ç¯‡(LangChainç¯‡)</a></li><li><a href=/notebooks/langchain%E7%AC%94%E8%AE%B0/%E7%AC%AC%E4%BA%94%E7%AF%87-rag%E9%AB%98%E7%BA%A7%E7%AF%87llamaindex%E7%AF%87/>ç¬¬äº”ç¯‡ RAGé«˜çº§ç¯‡(LlamaIndexç¯‡)</a></li><li><a href=/notebooks/langchain%E7%AC%94%E8%AE%B0/%E7%AC%AC%E5%85%AD%E7%AF%87-%E6%96%87%E6%A1%A3%E5%A4%84%E7%90%86%E4%B8%8E%E6%95%B0%E6%8D%AE%E6%B8%85%E6%B4%97/>ç¬¬å…­ç¯‡ æ–‡æ¡£å¤„ç†ä¸æ•°æ®æ¸…æ´—</a></li><li><a href=/notebooks/langchain%E7%AC%94%E8%AE%B0/%E7%AC%AC%E4%B8%83%E7%AF%87-deep-agents/ class=active>ç¬¬ä¸ƒç¯‡ Deep Agents</a></li><li><a href=/notebooks/langchain%E7%AC%94%E8%AE%B0/%E7%AC%AC%E5%85%AB%E7%AF%87-middleware-%E5%B7%A5%E7%A8%8B%E5%8C%96/>ç¬¬å…«ç¯‡ Middleware å·¥ç¨‹åŒ–</a></li><li><a href=/notebooks/langchain%E7%AC%94%E8%AE%B0/%E7%AC%AC%E4%B9%9D%E7%AF%87-agent-%E6%9E%B6%E6%9E%84%E8%AE%BE%E8%AE%A1/>ç¬¬ä¹ç¯‡ Agent æ¶æ„è®¾è®¡</a></li><li><a href=/notebooks/langchain%E7%AC%94%E8%AE%B0/%E7%AC%AC%E5%8D%81%E7%AF%87-%E7%94%9F%E4%BA%A7%E5%AE%9E%E8%B7%B5%E4%B8%8E%E7%9B%91%E6%8E%A7%E8%AF%84%E4%BC%B0/>ç¬¬åç¯‡ ç”Ÿäº§å®è·µä¸ç›‘æ§è¯„ä¼°</a></li><li><input type=checkbox id=section-a3e9b1811e5a21dbfddb0753f565cedb class=toggle>
<label for=section-a3e9b1811e5a21dbfddb0753f565cedb class=flex><a role=button>assets</a>
<img src=/icons/chevron-right.svg class=book-icon alt=Expand></label><ul></ul></li><li><input type=checkbox id=section-9a64553a000534ad3c81a611c6c29ec2 class=toggle>
<label for=section-9a64553a000534ad3c81a611c6c29ec2 class=flex><a role=button>code</a>
<img src=/icons/chevron-right.svg class=book-icon alt=Expand></label><ul><li><input type=checkbox id=section-6fad2589acfdd5d6a1fb55beb392fb77 class=toggle>
<label for=section-6fad2589acfdd5d6a1fb55beb392fb77 class=flex><a href=/notebooks/langchain%E7%AC%94%E8%AE%B0/code/fasta2a/>fasta2a</a>
<img src=/icons/chevron-right.svg class=book-icon alt=Expand></label><ul></ul></li></ul></li></ul></li><li><input type=checkbox id=section-ce33306d44f9ed4d296b9a79329bed1c class=toggle>
<label for=section-ce33306d44f9ed4d296b9a79329bed1c class=flex><a role=button>å›¾åƒç®—æ³•ç¬”è®°</a>
<img src=/icons/chevron-right.svg class=book-icon alt=Expand></label><ul><li><a href=/notebooks/%E5%9B%BE%E5%83%8F%E7%AE%97%E6%B3%95%E7%AC%94%E8%AE%B0/%E7%AC%AC%E4%B8%80%E7%AF%87_%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0%E5%9F%BA%E7%A1%80/>ç¬¬ä¸€ç¯‡ æœºå™¨å­¦ä¹ åŸºç¡€</a></li><li><a href=/notebooks/%E5%9B%BE%E5%83%8F%E7%AE%97%E6%B3%95%E7%AC%94%E8%AE%B0/%E7%AC%AC%E4%BA%8C%E7%AF%87_%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0%E5%9F%BA%E7%A1%80/>ç¬¬äºŒç¯‡ æ·±åº¦å­¦ä¹ åŸºç¡€</a></li><li><a href=/notebooks/%E5%9B%BE%E5%83%8F%E7%AE%97%E6%B3%95%E7%AC%94%E8%AE%B0/%E7%AC%AC%E4%B8%89%E7%AF%87_%E8%AE%A1%E7%AE%97%E6%9C%BA%E8%A7%86%E8%A7%89%E6%A0%B8%E5%BF%83%E6%8A%80%E6%9C%AF/>ç¬¬ä¸‰ç¯‡ è®¡ç®—æœºè§†è§‰æ ¸å¿ƒæŠ€æœ¯</a></li><li><a href=/notebooks/%E5%9B%BE%E5%83%8F%E7%AE%97%E6%B3%95%E7%AC%94%E8%AE%B0/%E7%AC%AC%E5%9B%9B%E7%AF%87_%E7%9B%AE%E6%A0%87%E6%A3%80%E6%B5%8B%E4%B8%8Eyolo%E7%B3%BB%E5%88%97/>ç¬¬å››ç¯‡ ç›®æ ‡æ£€æµ‹ä¸YOLOç³»åˆ—</a></li><li><a href=/notebooks/%E5%9B%BE%E5%83%8F%E7%AE%97%E6%B3%95%E7%AC%94%E8%AE%B0/%E7%AC%AC%E4%BA%94%E7%AF%87_%E5%9B%BE%E5%83%8F%E5%88%86%E5%89%B2/>ç¬¬äº”ç¯‡ å›¾åƒåˆ†å‰²</a></li><li><a href=/notebooks/%E5%9B%BE%E5%83%8F%E7%AE%97%E6%B3%95%E7%AC%94%E8%AE%B0/%E7%AC%AC%E5%85%AD%E7%AF%87_%E7%94%9F%E6%88%90%E6%A8%A1%E5%9E%8B/>ç¬¬å…­ç¯‡ ç”Ÿæˆæ¨¡å‹</a></li><li><a href=/notebooks/%E5%9B%BE%E5%83%8F%E7%AE%97%E6%B3%95%E7%AC%94%E8%AE%B0/%E7%AC%AC%E4%B8%83%E7%AF%87_%E8%A7%86%E8%A7%89%E5%A4%A7%E6%A8%A1%E5%9E%8B/>ç¬¬ä¸ƒç¯‡ è§†è§‰å¤§æ¨¡å‹</a></li><li><a href=/notebooks/%E5%9B%BE%E5%83%8F%E7%AE%97%E6%B3%95%E7%AC%94%E8%AE%B0/%E7%AC%AC%E5%85%AB%E7%AF%87_%E7%94%9F%E4%BA%A7%E5%AE%9E%E8%B7%B5/>ç¬¬å…«ç¯‡ ç”Ÿäº§å®è·µ</a></li></ul></li><li><input type=checkbox id=section-77f5db9e44a9af6dab4403b49a65334f class=toggle>
<label for=section-77f5db9e44a9af6dab4403b49a65334f class=flex><a href=/notebooks/%E5%A4%A7%E6%A8%A1%E5%9E%8B%E7%AC%94%E8%AE%B0/>å¤§æ¨¡å‹ç¬”è®°</a>
<img src=/icons/chevron-right.svg class=book-icon alt=Expand></label><ul><li><input type=checkbox id=section-db59738de306cbbe384ad7fbd5cf11b5 class=toggle>
<label for=section-db59738de306cbbe384ad7fbd5cf11b5 class=flex><a role=button>ç¬¬ä¸€éƒ¨åˆ†ï¼šå¤§è¯­è¨€æ¨¡å‹åŸºç¡€</a>
<img src=/icons/chevron-right.svg class=book-icon alt=Expand></label><ul><li><a href=/notebooks/%E5%A4%A7%E6%A8%A1%E5%9E%8B%E7%AC%94%E8%AE%B0/%E7%AC%AC%E4%B8%80%E9%83%A8%E5%88%86%E5%A4%A7%E8%AF%AD%E8%A8%80%E6%A8%A1%E5%9E%8B%E5%9F%BA%E7%A1%80/%E7%AC%AC1%E7%AB%A0_%E5%88%9D%E8%AF%86%E5%A4%A7%E8%AF%AD%E8%A8%80%E6%A8%A1%E5%9E%8B/>ç¬¬1ç«  åˆè¯†å¤§è¯­è¨€æ¨¡å‹</a></li><li><a href=/notebooks/%E5%A4%A7%E6%A8%A1%E5%9E%8B%E7%AC%94%E8%AE%B0/%E7%AC%AC%E4%B8%80%E9%83%A8%E5%88%86%E5%A4%A7%E8%AF%AD%E8%A8%80%E6%A8%A1%E5%9E%8B%E5%9F%BA%E7%A1%80/%E7%AC%AC2%E7%AB%A0_%E4%B8%8E%E6%A8%A1%E5%9E%8B%E5%AF%B9%E8%AF%9D%E6%8F%90%E7%A4%BA%E5%B7%A5%E7%A8%8B%E5%9F%BA%E7%A1%80/>ç¬¬2ç«  ä¸æ¨¡å‹å¯¹è¯ï¼šæç¤ºå·¥ç¨‹åŸºç¡€</a></li><li><a href=/notebooks/%E5%A4%A7%E6%A8%A1%E5%9E%8B%E7%AC%94%E8%AE%B0/%E7%AC%AC%E4%B8%80%E9%83%A8%E5%88%86%E5%A4%A7%E8%AF%AD%E8%A8%80%E6%A8%A1%E5%9E%8B%E5%9F%BA%E7%A1%80/%E7%AC%AC3%E7%AB%A0_%E8%AF%AD%E8%A8%80%E7%9A%84%E5%9F%BA%E7%9F%B3%E5%88%86%E8%AF%8D%E4%B8%8E%E5%B5%8C%E5%85%A5/>ç¬¬3ç«  è¯­è¨€çš„åŸºçŸ³ï¼šåˆ†è¯ä¸åµŒå…¥</a></li></ul></li><li><input type=checkbox id=section-30b17899e420f6a53aa6e578440dd132 class=toggle>
<label for=section-30b17899e420f6a53aa6e578440dd132 class=flex><a role=button>ç¬¬äºŒéƒ¨åˆ†ï¼šTransformeræ¶æ„æ­ç§˜</a>
<img src=/icons/chevron-right.svg class=book-icon alt=Expand></label><ul><li><a href=/notebooks/%E5%A4%A7%E6%A8%A1%E5%9E%8B%E7%AC%94%E8%AE%B0/%E7%AC%AC%E4%BA%8C%E9%83%A8%E5%88%86transformer%E6%9E%B6%E6%9E%84%E6%8F%AD%E7%A7%98/%E7%AC%AC1%E7%AB%A0_transformer%E6%A0%B8%E5%BF%83%E6%8F%AD%E7%A7%98/>ç¬¬1ç«  Transformeræ ¸å¿ƒæ­ç§˜</a></li><li><a href=/notebooks/%E5%A4%A7%E6%A8%A1%E5%9E%8B%E7%AC%94%E8%AE%B0/%E7%AC%AC%E4%BA%8C%E9%83%A8%E5%88%86transformer%E6%9E%B6%E6%9E%84%E6%8F%AD%E7%A7%98/%E7%AC%AC2%E7%AB%A0_%E6%A8%A1%E5%9E%8B%E5%AE%B6%E6%97%8F%E8%B0%B1%E7%B3%BB%E4%BB%8E%E7%BC%96%E7%A0%81%E5%99%A8%E5%88%B0%E8%A7%A3%E7%A0%81%E5%99%A8/>ç¬¬2ç«  æ¨¡å‹å®¶æ—è°±ç³»ï¼šä»ç¼–ç å™¨åˆ°è§£ç å™¨</a></li><li><a href=/notebooks/%E5%A4%A7%E6%A8%A1%E5%9E%8B%E7%AC%94%E8%AE%B0/%E7%AC%AC%E4%BA%8C%E9%83%A8%E5%88%86transformer%E6%9E%B6%E6%9E%84%E6%8F%AD%E7%A7%98/%E7%AC%AC3%E7%AB%A0_%E9%A2%84%E8%AE%AD%E7%BB%83%E7%9A%84%E5%A5%A5%E7%A7%98%E4%BB%8E%E6%95%B0%E6%8D%AE%E5%88%B0%E6%99%BA%E8%83%BD/>ç¬¬3ç«  é¢„è®­ç»ƒçš„å¥¥ç§˜ï¼šä»æ•°æ®åˆ°æ™ºèƒ½</a></li></ul></li><li><input type=checkbox id=section-da88ac5e3d01ea6f4b2996cb87ecf19f class=toggle>
<label for=section-da88ac5e3d01ea6f4b2996cb87ecf19f class=flex><a role=button>ç¬¬ä¸‰éƒ¨åˆ†ï¼šæ•°æ®å·¥ç¨‹ä¸å®šåˆ¶åŒ–</a>
<img src=/icons/chevron-right.svg class=book-icon alt=Expand></label><ul><li><a href=/notebooks/%E5%A4%A7%E6%A8%A1%E5%9E%8B%E7%AC%94%E8%AE%B0/%E7%AC%AC%E4%B8%89%E9%83%A8%E5%88%86%E6%95%B0%E6%8D%AE%E5%B7%A5%E7%A8%8B%E4%B8%8E%E5%AE%9A%E5%88%B6%E5%8C%96/%E7%AC%AC1%E7%AB%A0_%E6%95%B0%E6%8D%AE%E5%B7%A5%E7%A8%8B%E5%9F%BA%E7%A1%80/>ç¬¬1ç«  æ•°æ®å·¥ç¨‹åŸºç¡€</a></li><li><a href=/notebooks/%E5%A4%A7%E6%A8%A1%E5%9E%8B%E7%AC%94%E8%AE%B0/%E7%AC%AC%E4%B8%89%E9%83%A8%E5%88%86%E6%95%B0%E6%8D%AE%E5%B7%A5%E7%A8%8B%E4%B8%8E%E5%AE%9A%E5%88%B6%E5%8C%96/%E7%AC%AC2%E7%AB%A0_%E5%BE%AE%E8%B0%83%E4%BD%A0%E7%9A%84%E4%B8%93%E5%B1%9E%E6%A8%A1%E5%9E%8B/>ç¬¬2ç«  å¾®è°ƒä½ çš„ä¸“å±æ¨¡å‹</a></li><li><a href=/notebooks/%E5%A4%A7%E6%A8%A1%E5%9E%8B%E7%AC%94%E8%AE%B0/%E7%AC%AC%E4%B8%89%E9%83%A8%E5%88%86%E6%95%B0%E6%8D%AE%E5%B7%A5%E7%A8%8B%E4%B8%8E%E5%AE%9A%E5%88%B6%E5%8C%96/%E7%AC%AC3%E7%AB%A0_%E4%B8%8E%E4%BA%BA%E7%B1%BB%E5%AF%B9%E9%BD%90%E5%81%8F%E5%A5%BD%E4%BC%98%E5%8C%96/>ç¬¬3ç«  ä¸äººç±»å¯¹é½ï¼šåå¥½ä¼˜åŒ–</a></li><li><a href=/notebooks/%E5%A4%A7%E6%A8%A1%E5%9E%8B%E7%AC%94%E8%AE%B0/%E7%AC%AC%E4%B8%89%E9%83%A8%E5%88%86%E6%95%B0%E6%8D%AE%E5%B7%A5%E7%A8%8B%E4%B8%8E%E5%AE%9A%E5%88%B6%E5%8C%96/%E7%AC%AC4%E7%AB%A0_%E5%88%9B%E5%BB%BA%E6%9B%B4%E4%BC%98%E7%9A%84%E5%B5%8C%E5%85%A5%E6%A8%A1%E5%9E%8B/>ç¬¬4ç«  åˆ›å»ºæ›´ä¼˜çš„åµŒå…¥æ¨¡å‹</a></li></ul></li><li><input type=checkbox id=section-81f0a7a10bc544ea0e1fd883e2a436eb class=toggle>
<label for=section-81f0a7a10bc544ea0e1fd883e2a436eb class=flex><a role=button>ç¬¬å››éƒ¨åˆ†ï¼šå¤§æ¨¡å‹åº”ç”¨å¼€å‘</a>
<img src=/icons/chevron-right.svg class=book-icon alt=Expand></label><ul><li><a href=/notebooks/%E5%A4%A7%E6%A8%A1%E5%9E%8B%E7%AC%94%E8%AE%B0/%E7%AC%AC%E5%9B%9B%E9%83%A8%E5%88%86%E5%A4%A7%E6%A8%A1%E5%9E%8B%E5%BA%94%E7%94%A8%E5%BC%80%E5%8F%91/%E7%AC%AC1%E7%AB%A0_%E6%8F%90%E7%A4%BA%E5%B7%A5%E7%A8%8B%E4%B8%8E%E4%B8%8A%E4%B8%8B%E6%96%87%E5%AD%A6%E4%B9%A0/>ç¬¬1ç«  æç¤ºå·¥ç¨‹ä¸ä¸Šä¸‹æ–‡å­¦ä¹ </a></li><li><a href=/notebooks/%E5%A4%A7%E6%A8%A1%E5%9E%8B%E7%AC%94%E8%AE%B0/%E7%AC%AC%E5%9B%9B%E9%83%A8%E5%88%86%E5%A4%A7%E6%A8%A1%E5%9E%8B%E5%BA%94%E7%94%A8%E5%BC%80%E5%8F%91/%E7%AC%AC2%E7%AB%A0_%E6%A3%80%E7%B4%A2%E5%A2%9E%E5%BC%BA%E7%94%9F%E6%88%90rag%E5%8E%9F%E7%90%86/>ç¬¬2ç«  æ£€ç´¢å¢å¼ºç”Ÿæˆï¼ˆRAGï¼‰åŸç†</a></li><li><a href=/notebooks/%E5%A4%A7%E6%A8%A1%E5%9E%8B%E7%AC%94%E8%AE%B0/%E7%AC%AC%E5%9B%9B%E9%83%A8%E5%88%86%E5%A4%A7%E6%A8%A1%E5%9E%8B%E5%BA%94%E7%94%A8%E5%BC%80%E5%8F%91/%E7%AC%AC3%E7%AB%A0_%E6%99%BA%E8%83%BD%E4%BD%93agent%E6%A0%B8%E5%BF%83%E6%9C%BA%E5%88%B6/>ç¬¬3ç«  æ™ºèƒ½ä½“ï¼ˆAgentï¼‰æ ¸å¿ƒæœºåˆ¶</a></li><li><a href=/notebooks/%E5%A4%A7%E6%A8%A1%E5%9E%8B%E7%AC%94%E8%AE%B0/%E7%AC%AC%E5%9B%9B%E9%83%A8%E5%88%86%E5%A4%A7%E6%A8%A1%E5%9E%8B%E5%BA%94%E7%94%A8%E5%BC%80%E5%8F%91/%E7%AC%AC4%E7%AB%A0_%E5%A4%9A%E6%A8%A1%E6%80%81%E5%A4%A7%E6%A8%A1%E5%9E%8B%E5%8E%9F%E7%90%86/>ç¬¬4ç«  å¤šæ¨¡æ€å¤§æ¨¡å‹åŸç†</a></li></ul></li><li><input type=checkbox id=section-0509decfe880d3d2074947902aea8022 class=toggle>
<label for=section-0509decfe880d3d2074947902aea8022 class=flex><a role=button>ç¬¬äº”éƒ¨åˆ†ï¼šå·¥ç¨‹å®æˆ˜å·¥å…·æ ˆ</a>
<img src=/icons/chevron-right.svg class=book-icon alt=Expand></label><ul><li><a href=/notebooks/%E5%A4%A7%E6%A8%A1%E5%9E%8B%E7%AC%94%E8%AE%B0/%E7%AC%AC%E4%BA%94%E9%83%A8%E5%88%86%E5%B7%A5%E7%A8%8B%E5%AE%9E%E6%88%98%E5%B7%A5%E5%85%B7%E6%A0%88/%E7%AC%AC1%E7%AB%A0_hugging_face%E7%94%9F%E6%80%81%E5%85%A8%E6%99%AF/>ç¬¬1ç«  Hugging Faceç”Ÿæ€å…¨æ™¯</a></li><li><a href=/notebooks/%E5%A4%A7%E6%A8%A1%E5%9E%8B%E7%AC%94%E8%AE%B0/%E7%AC%AC%E4%BA%94%E9%83%A8%E5%88%86%E5%B7%A5%E7%A8%8B%E5%AE%9E%E6%88%98%E5%B7%A5%E5%85%B7%E6%A0%88/%E7%AC%AC2%E7%AB%A0_llama-factory%E5%BE%AE%E8%B0%83%E5%B7%A5%E5%8E%82/>ç¬¬2ç«  LLaMA-Factoryå¾®è°ƒå·¥å‚</a></li><li><a href=/notebooks/%E5%A4%A7%E6%A8%A1%E5%9E%8B%E7%AC%94%E8%AE%B0/%E7%AC%AC%E4%BA%94%E9%83%A8%E5%88%86%E5%B7%A5%E7%A8%8B%E5%AE%9E%E6%88%98%E5%B7%A5%E5%85%B7%E6%A0%88/%E7%AC%AC3%E7%AB%A0_trl%E4%B8%8E%E5%BC%BA%E5%8C%96%E5%AD%A6%E4%B9%A0%E5%AE%9E%E6%88%98/>ç¬¬3ç«  TRLä¸å¼ºåŒ–å­¦ä¹ å®æˆ˜</a></li><li><a href=/notebooks/%E5%A4%A7%E6%A8%A1%E5%9E%8B%E7%AC%94%E8%AE%B0/%E7%AC%AC%E4%BA%94%E9%83%A8%E5%88%86%E5%B7%A5%E7%A8%8B%E5%AE%9E%E6%88%98%E5%B7%A5%E5%85%B7%E6%A0%88/%E7%AC%AC4%E7%AB%A0_deepspeed%E5%88%86%E5%B8%83%E5%BC%8F%E8%AE%AD%E7%BB%83/>ç¬¬4ç«  DeepSpeedåˆ†å¸ƒå¼è®­ç»ƒ</a></li><li><a href=/notebooks/%E5%A4%A7%E6%A8%A1%E5%9E%8B%E7%AC%94%E8%AE%B0/%E7%AC%AC%E4%BA%94%E9%83%A8%E5%88%86%E5%B7%A5%E7%A8%8B%E5%AE%9E%E6%88%98%E5%B7%A5%E5%85%B7%E6%A0%88/%E7%AC%AC5%E7%AB%A0_%E7%AB%AF%E5%88%B0%E7%AB%AFllm%E9%A1%B9%E7%9B%AE%E5%AE%9E%E6%88%98/>ç¬¬5ç«  ç«¯åˆ°ç«¯LLMé¡¹ç›®å®æˆ˜</a></li></ul></li><li><input type=checkbox id=section-dc465ed94a0f7fb78440cab8a8a2a28b class=toggle>
<label for=section-dc465ed94a0f7fb78440cab8a8a2a28b class=flex><a role=button>ç¬¬å…­éƒ¨åˆ†ï¼šç”Ÿäº§éƒ¨ç½²ä¸è¯„ä¼°</a>
<img src=/icons/chevron-right.svg class=book-icon alt=Expand></label><ul><li><a href=/notebooks/%E5%A4%A7%E6%A8%A1%E5%9E%8B%E7%AC%94%E8%AE%B0/%E7%AC%AC%E5%85%AD%E9%83%A8%E5%88%86%E7%94%9F%E4%BA%A7%E9%83%A8%E7%BD%B2%E4%B8%8E%E8%AF%84%E4%BC%B0/%E7%AC%AC1%E7%AB%A0_%E6%A8%A1%E5%9E%8B%E5%8E%8B%E7%BC%A9%E4%B8%8E%E6%8E%A8%E7%90%86%E5%8A%A0%E9%80%9F/>ç¬¬1ç«  æ¨¡å‹å‹ç¼©ä¸æ¨ç†åŠ é€Ÿ</a></li><li><a href=/notebooks/%E5%A4%A7%E6%A8%A1%E5%9E%8B%E7%AC%94%E8%AE%B0/%E7%AC%AC%E5%85%AD%E9%83%A8%E5%88%86%E7%94%9F%E4%BA%A7%E9%83%A8%E7%BD%B2%E4%B8%8E%E8%AF%84%E4%BC%B0/%E7%AC%AC2%E7%AB%A0_vllm%E9%AB%98%E6%80%A7%E8%83%BD%E6%8E%A8%E7%90%86/>ç¬¬2ç«  vLLMé«˜æ€§èƒ½æ¨ç†</a></li><li><a href=/notebooks/%E5%A4%A7%E6%A8%A1%E5%9E%8B%E7%AC%94%E8%AE%B0/%E7%AC%AC%E5%85%AD%E9%83%A8%E5%88%86%E7%94%9F%E4%BA%A7%E9%83%A8%E7%BD%B2%E4%B8%8E%E8%AF%84%E4%BC%B0/%E7%AC%AC3%E7%AB%A0_%E6%A8%A1%E5%9E%8B%E8%AF%84%E4%BC%B0%E4%BD%93%E7%B3%BB/>ç¬¬3ç«  æ¨¡å‹è¯„ä¼°ä½“ç³»</a></li></ul></li><li><input type=checkbox id=section-54ec04ac2cdda7238de2ed38f0bcb7b1 class=toggle>
<label for=section-54ec04ac2cdda7238de2ed38f0bcb7b1 class=flex><a role=button>ç¬¬ä¸ƒéƒ¨åˆ†ï¼šé«˜çº§æŠ€æœ¯ä¸“é¢˜</a>
<img src=/icons/chevron-right.svg class=book-icon alt=Expand></label><ul><li><a href=/notebooks/%E5%A4%A7%E6%A8%A1%E5%9E%8B%E7%AC%94%E8%AE%B0/%E7%AC%AC%E4%B8%83%E9%83%A8%E5%88%86%E9%AB%98%E7%BA%A7%E6%8A%80%E6%9C%AF%E4%B8%93%E9%A2%98/%E7%AC%AC1%E7%AB%A0_%E9%95%BF%E4%B8%8A%E4%B8%8B%E6%96%87%E6%8A%80%E6%9C%AF/>ç¬¬1ç«  é•¿ä¸Šä¸‹æ–‡æŠ€æœ¯</a></li><li><a href=/notebooks/%E5%A4%A7%E6%A8%A1%E5%9E%8B%E7%AC%94%E8%AE%B0/%E7%AC%AC%E4%B8%83%E9%83%A8%E5%88%86%E9%AB%98%E7%BA%A7%E6%8A%80%E6%9C%AF%E4%B8%93%E9%A2%98/%E7%AC%AC2%E7%AB%A0_%E6%96%B0%E5%9E%8B%E6%9E%B6%E6%9E%84%E6%8E%A2%E7%B4%A2/>ç¬¬2ç«  æ–°å‹æ¶æ„æ¢ç´¢</a></li><li><a href=/notebooks/%E5%A4%A7%E6%A8%A1%E5%9E%8B%E7%AC%94%E8%AE%B0/%E7%AC%AC%E4%B8%83%E9%83%A8%E5%88%86%E9%AB%98%E7%BA%A7%E6%8A%80%E6%9C%AF%E4%B8%93%E9%A2%98/%E7%AC%AC3%E7%AB%A0_%E6%8E%A8%E7%90%86%E5%8A%A0%E9%80%9F%E9%BB%91%E7%A7%91%E6%8A%80/>ç¬¬3ç«  æ¨ç†åŠ é€Ÿé»‘ç§‘æŠ€</a></li><li><a href=/notebooks/%E5%A4%A7%E6%A8%A1%E5%9E%8B%E7%AC%94%E8%AE%B0/%E7%AC%AC%E4%B8%83%E9%83%A8%E5%88%86%E9%AB%98%E7%BA%A7%E6%8A%80%E6%9C%AF%E4%B8%93%E9%A2%98/%E7%AC%AC4%E7%AB%A0_%E6%8E%A8%E7%90%86%E6%A8%A1%E5%9E%8B%E4%B8%93%E9%A2%98/>ç¬¬4ç«  æ¨ç†æ¨¡å‹ä¸“é¢˜</a></li><li><a href=/notebooks/%E5%A4%A7%E6%A8%A1%E5%9E%8B%E7%AC%94%E8%AE%B0/%E7%AC%AC%E4%B8%83%E9%83%A8%E5%88%86%E9%AB%98%E7%BA%A7%E6%8A%80%E6%9C%AF%E4%B8%93%E9%A2%98/%E7%AC%AC5%E7%AB%A0_%E6%A8%A1%E5%9E%8B%E5%AE%89%E5%85%A8%E4%B8%8E%E5%8F%AF%E8%A7%A3%E9%87%8A%E6%80%A7/>ç¬¬5ç«  æ¨¡å‹å®‰å…¨ä¸å¯è§£é‡Šæ€§</a></li></ul></li><li><a href=/notebooks/%E5%A4%A7%E6%A8%A1%E5%9E%8B%E7%AC%94%E8%AE%B0/glossary/>GLOSSARY</a></li><li><a href=/notebooks/%E5%A4%A7%E6%A8%A1%E5%9E%8B%E7%AC%94%E8%AE%B0/roadmap/>ROADMAP</a></li><li><a href=/notebooks/%E5%A4%A7%E6%A8%A1%E5%9E%8B%E7%AC%94%E8%AE%B0/summary/>SUMMARY</a></li><li><a href=/notebooks/%E5%A4%A7%E6%A8%A1%E5%9E%8B%E7%AC%94%E8%AE%B0/%E5%AE%8C%E7%BB%93%E6%8A%A5%E5%91%8A/>å®Œç»“æŠ¥å‘Š</a></li></ul></li><li><input type=checkbox id=section-7177254393287994b491879262a62a06 class=toggle>
<label for=section-7177254393287994b491879262a62a06 class=flex><a role=button>å®è·µç¬”è®°</a>
<img src=/icons/chevron-right.svg class=book-icon alt=Expand></label><ul><li><a href=/notebooks/%E5%AE%9E%E8%B7%B5%E7%AC%94%E8%AE%B0/2.-%E6%B7%B1%E5%85%A5%E7%90%86%E8%A7%A3-fastapi/>æ·±å…¥ç†è§£ FastAPI</a></li><li><a href=/notebooks/%E5%AE%9E%E8%B7%B5%E7%AC%94%E8%AE%B0/4.-agent%E6%9C%80%E4%BD%B3%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/>Agentæœ€ä½³è®¾è®¡æ¨¡å¼</a></li></ul></li><li><input type=checkbox id=section-0172eb8516eeb7b4e657f3949a135c25 class=toggle>
<label for=section-0172eb8516eeb7b4e657f3949a135c25 class=flex><a role=button>æœºå™¨å­¦ä¹ ç¬”è®°</a>
<img src=/icons/chevron-right.svg class=book-icon alt=Expand></label><ul><li><a href=/notebooks/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/%E7%AC%AC01%E7%AB%A0_%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0%E6%A6%82%E8%A7%88/>ç¬¬01ç«  æœºå™¨å­¦ä¹ æ¦‚è§ˆ</a></li><li><a href=/notebooks/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/%E7%AC%AC02%E7%AB%A0_%E7%9F%A9%E9%98%B5%E8%BF%90%E7%AE%97%E4%B8%8E%E5%BE%AE%E7%A7%AF%E5%88%86/>ç¬¬02ç«  çŸ©é˜µè¿ç®—ä¸å¾®ç§¯åˆ†</a></li><li><a href=/notebooks/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/%E7%AC%AC03%E7%AB%A0_svd%E4%B8%8E%E7%9F%A9%E9%98%B5%E5%88%86%E8%A7%A3/>ç¬¬03ç«  SVDä¸çŸ©é˜µåˆ†è§£</a></li><li><a href=/notebooks/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/%E7%AC%AC04%E7%AB%A0_%E6%A6%82%E7%8E%87%E5%88%86%E5%B8%83_%E6%8C%87%E6%95%B0%E6%97%8F%E4%B8%8E%E5%85%B1%E8%BD%AD%E5%85%88%E9%AA%8C/>ç¬¬04ç«  æ¦‚ç‡åˆ†å¸ƒ æŒ‡æ•°æ—ä¸å…±è½­å…ˆéªŒ</a></li><li><a href=/notebooks/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/%E7%AC%AC05%E7%AB%A0_%E7%BA%BF%E6%80%A7%E5%9B%9E%E5%BD%92/>ç¬¬05ç«  çº¿æ€§å›å½’</a></li><li><a href=/notebooks/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/%E7%AC%AC06%E7%AB%A0_%E6%84%9F%E7%9F%A5%E6%9C%BA/>ç¬¬06ç«  æ„ŸçŸ¥æœº</a></li><li><a href=/notebooks/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/%E7%AC%AC07%E7%AB%A0_%E6%94%AF%E6%8C%81%E5%90%91%E9%87%8F%E6%9C%BAsvm/>ç¬¬07ç«  æ”¯æŒå‘é‡æœº(SVM)</a></li><li><a href=/notebooks/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/%E7%AC%AC08%E7%AB%A0_%E6%A0%B8%E6%96%B9%E6%B3%95/>ç¬¬08ç«  æ ¸æ–¹æ³•</a></li><li><a href=/notebooks/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/%E7%AC%AC09%E7%AB%A0_%E5%86%B3%E7%AD%96%E6%A0%91%E4%B8%8E%E9%9B%86%E6%88%90%E5%AD%A6%E4%B9%A0/>ç¬¬09ç«  å†³ç­–æ ‘ä¸é›†æˆå­¦ä¹ </a></li><li><a href=/notebooks/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/%E7%AC%AC10%E7%AB%A0_%E9%80%BB%E8%BE%91%E5%9B%9E%E5%BD%92%E4%B8%8E%E6%9C%80%E5%A4%A7%E7%86%B5%E6%A8%A1%E5%9E%8B/>ç¬¬10ç«  é€»è¾‘å›å½’ä¸æœ€å¤§ç†µæ¨¡å‹</a></li><li><a href=/notebooks/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/%E7%AC%AC11%E7%AB%A0_%E5%B9%BF%E4%B9%89%E7%BA%BF%E6%80%A7%E6%A8%A1%E5%9E%8Bglm/>ç¬¬11ç«  å¹¿ä¹‰çº¿æ€§æ¨¡å‹(GLM)</a></li><li><a href=/notebooks/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/%E7%AC%AC13%E7%AB%A0_%E6%A6%82%E7%8E%87%E5%9B%BE%E6%A8%A1%E5%9E%8B_%E8%A1%A8%E7%A4%BA/>ç¬¬13ç«  æ¦‚ç‡å›¾æ¨¡å‹ è¡¨ç¤º</a></li><li><a href=/notebooks/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/%E7%AC%AC14%E7%AB%A0_%E6%A6%82%E7%8E%87%E5%9B%BE%E6%A8%A1%E5%9E%8B_%E6%8E%A8%E6%96%AD/>ç¬¬14ç«  æ¦‚ç‡å›¾æ¨¡å‹ æ¨æ–­</a></li><li><input type=checkbox id=section-b17efd79c46843a887113a063f929150 class=toggle>
<label for=section-b17efd79c46843a887113a063f929150 class=flex><a role=button>assets</a>
<img src=/icons/chevron-right.svg class=book-icon alt=Expand></label><ul></ul></li><li><a href=/notebooks/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/skills/>skills</a></li></ul></li><li><input type=checkbox id=section-29762f225235d2ac19b613cc28b093c8 class=toggle>
<label for=section-29762f225235d2ac19b613cc28b093c8 class=flex><a href=/notebooks/%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/>æ·±åº¦å­¦ä¹ ç¬”è®°</a>
<img src=/icons/chevron-right.svg class=book-icon alt=Expand></label><ul><li><a href=/notebooks/%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/%E7%AC%AC1%E7%AB%A0_%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0%E5%9F%BA%E7%A1%80/>ç¬¬1ç«  æ·±åº¦å­¦ä¹ åŸºç¡€</a></li></ul></li></ul></nav><script>(function(){var e=document.querySelector("aside .book-menu-content");addEventListener("beforeunload",function(){localStorage.setItem("menu.scrollTop",e.scrollTop)}),e.scrollTop=localStorage.getItem("menu.scrollTop")})()</script></div></aside><div class=book-page><header class="book-header hidden"><div class="flex align-center justify-between"><label for=menu-control><img src=/icons/menu.svg class=book-icon alt=Menu></label><h3>ç¬¬ä¸ƒç¯‡ Deep Agents</h3><label for=toc-control><img src=/icons/toc.svg class=book-icon alt="Table of Contents"></label></div><aside class=hidden><nav id=TableOfContents><ul><li><a href=#-å‰ç½®å‡†å¤‡>ğŸ“‹ å‰ç½®å‡†å¤‡</a><ul><li><a href=#ç¯å¢ƒé…ç½®>ç¯å¢ƒé…ç½®</a><ul><li><a href=#1-å®‰è£…ä¾èµ–>1. å®‰è£…ä¾èµ–</a></li><li><a href=#2-ç¯å¢ƒå˜é‡é…ç½®>2. ç¯å¢ƒå˜é‡é…ç½®</a></li></ul></li><li><a href=#å‰ç½®çŸ¥è¯†>å‰ç½®çŸ¥è¯†</a></li></ul></li><li><a href=#ç¬¬1ç« deep-agents-æ ¸å¿ƒæ¶æ„>ç¬¬1ç« ï¼šDeep Agents æ ¸å¿ƒæ¶æ„</a><ul><li><a href=#11-ä»€ä¹ˆæ˜¯-agent-harness>1.1 ä»€ä¹ˆæ˜¯ Agent Harnessï¼Ÿ</a></li><li><a href=#12-ä¸‰å¤§æ ¸å¿ƒèƒ½åŠ›è§£æ>1.2 ä¸‰å¤§æ ¸å¿ƒèƒ½åŠ›è§£æ</a></li><li><a href=#13-æŠ€æœ¯é€‰å‹å†³ç­–æ ‘>1.3 æŠ€æœ¯é€‰å‹å†³ç­–æ ‘</a></li></ul></li><li><a href=#ç¬¬2ç« å¿«é€Ÿä¸Šæ‰‹æ„å»º-deep-research-agent>ç¬¬2ç« ï¼šå¿«é€Ÿä¸Šæ‰‹ï¼šæ„å»º Deep Research Agent</a><ul><li><a href=#21-å®šä¹‰æ ¸å¿ƒå·¥å…·>2.1 å®šä¹‰æ ¸å¿ƒå·¥å…·</a></li><li><a href=#22-æ„å»º-deep-agent>2.2 æ„å»º Deep Agent</a></li><li><a href=#23-æ·±åº¦è¿è¡Œåˆ†æ-execution-anatomy>2.3 æ·±åº¦è¿è¡Œåˆ†æ (Execution Anatomy)</a><ul><li><a href=#ç¬¬ä¸€é˜¶æ®µå¼ºåˆ¶è§„åˆ’-the-planning-phase>ç¬¬ä¸€é˜¶æ®µï¼šå¼ºåˆ¶è§„åˆ’ (The Planning Phase)</a></li><li><a href=#ç¬¬äºŒé˜¶æ®µæ‰§è¡Œä¸ä¸Šä¸‹æ–‡å¸è½½-execution--eviction>ç¬¬äºŒé˜¶æ®µï¼šæ‰§è¡Œä¸ä¸Šä¸‹æ–‡å¸è½½ (Execution & Eviction)</a></li><li><a href=#ç¬¬ä¸‰é˜¶æ®µåˆæˆä¸äº¤ä»˜-synthesis>ç¬¬ä¸‰é˜¶æ®µï¼šåˆæˆä¸äº¤ä»˜ (Synthesis)</a></li></ul></li></ul></li><li><a href=#ç¬¬3ç« æ ¸å¿ƒæœºåˆ¶æ·±åº¦è§£æ>ç¬¬3ç« ï¼šæ ¸å¿ƒæœºåˆ¶æ·±åº¦è§£æ</a><ul><li><a href=#31-è§„åˆ’ç³»ç»Ÿtodolistmiddleware>3.1 è§„åˆ’ç³»ç»Ÿï¼šTodoListMiddleware</a></li><li><a href=#32-è®°å¿†ç³»ç»Ÿcontext-eviction-åŸç†>3.2 è®°å¿†ç³»ç»Ÿï¼šContext Eviction åŸç†</a></li><li><a href=#33-åˆ†æ²»ç³»ç»Ÿsubagent-spawning>3.3 åˆ†æ²»ç³»ç»Ÿï¼šSubAgent Spawning</a></li><li><a href=#34-è‡ªæˆ‘ä¿®æ­£å¾ªç¯-self-correction-loop>3.4 è‡ªæˆ‘ä¿®æ­£å¾ªç¯ (Self-Correction Loop)</a></li></ul></li><li><a href=#ç¬¬4ç« å­˜å‚¨åç«¯å·¥ç¨‹åŒ–>ç¬¬4ç« ï¼šå­˜å‚¨åç«¯å·¥ç¨‹åŒ–</a><ul><li><a href=#41-åç«¯æ¶æ„å…¨æ™¯>4.1 åç«¯æ¶æ„å…¨æ™¯</a></li><li><a href=#42-statebackend-vs-storebackend>4.2 StateBackend vs StoreBackend</a></li><li><a href=#43-ç”Ÿäº§çº§æœ€ä½³å®è·µcompositebackend>4.3 ç”Ÿäº§çº§æœ€ä½³å®è·µï¼šCompositeBackend</a></li></ul></li><li><a href=#ç¬¬5ç« cli-å·¥å…·ä¸äº¤äº’å®æˆ˜>ç¬¬5ç« ï¼šCLI å·¥å…·ä¸äº¤äº’å®æˆ˜</a><ul><li><a href=#51-å®‰è£…ä¸å¯åŠ¨>5.1 å®‰è£…ä¸å¯åŠ¨</a></li><li><a href=#52-æ ¸å¿ƒå‘½ä»¤å‚æ•°è¯¦è§£>5.2 æ ¸å¿ƒå‘½ä»¤å‚æ•°è¯¦è§£</a></li><li><a href=#53-äº¤äº’å¼æŒ‡ä»¤-slash-commands>5.3 äº¤äº’å¼æŒ‡ä»¤ (Slash Commands)</a></li><li><a href=#54-æ‰‹åŠ¨å¹²é¢„è®°å¿†-manual-memory-intervention>5.4 æ‰‹åŠ¨å¹²é¢„è®°å¿† (Manual Memory Intervention)</a></li></ul></li><li><a href=#ç¬¬6ç« å®‰å…¨æœºåˆ¶human-in-the-loop>ç¬¬6ç« ï¼šå®‰å…¨æœºåˆ¶ï¼šHuman-in-the-Loop</a><ul><li><a href=#61-æ‹¦æˆªå±é™©æ“ä½œ>6.1 æ‹¦æˆªå±é™©æ“ä½œ</a></li><li><a href=#62-å®Œæ•´çš„æ‹¦æˆª-æ¢å¤æµç¨‹>6.2 å®Œæ•´çš„æ‹¦æˆª-æ¢å¤æµç¨‹</a></li></ul></li><li><a href=#ç¬¬7ç« è¿›é˜¶å®šåˆ¶å­æ™ºèƒ½ä½“å·¥å‚>ç¬¬7ç« ï¼šè¿›é˜¶å®šåˆ¶ï¼šå­æ™ºèƒ½ä½“å·¥å‚</a><ul><li><a href=#71-å­—å…¸é…ç½®æ¨¡å¼æ¨è>7.1 å­—å…¸é…ç½®æ¨¡å¼ï¼ˆæ¨èï¼‰</a></li><li><a href=#72-ç¼–è¯‘å›¾æ¨¡å¼é«˜çº§>7.2 ç¼–è¯‘å›¾æ¨¡å¼ï¼ˆé«˜çº§ï¼‰</a></li><li><a href=#73-å­ä»£ç†çš„é«˜çº§é€šä¿¡>7.3 å­ä»£ç†çš„é«˜çº§é€šä¿¡</a></li></ul></li><li><a href=#ç¬¬8ç« æœ€ä½³å®è·µä¸æ€»ç»“>ç¬¬8ç« ï¼šæœ€ä½³å®è·µä¸æ€»ç»“</a><ul><li><a href=#81-æ¶æ„è®¾è®¡åŸåˆ™>8.1 æ¶æ„è®¾è®¡åŸåˆ™</a></li><li><a href=#82-æœ¬ç« å°ç»“>8.2 æœ¬ç« å°ç»“</a></li><li><a href=#83-æ€è€ƒä¸ç»ƒä¹ >8.3 æ€è€ƒä¸ç»ƒä¹ </a></li></ul></li></ul></nav></aside></header><article class="markdown book-article"><h1 id=ç¬¬ä¸ƒç¯‡-deep-agentsæ„å»ºå…·å¤‡è§„åˆ’ä¸å­æ™ºèƒ½ä½“èƒ½åŠ›çš„æ·±åº¦-agent>ç¬¬ä¸ƒç¯‡ Deep Agentsï¼šæ„å»ºå…·å¤‡è§„åˆ’ä¸å­æ™ºèƒ½ä½“èƒ½åŠ›çš„æ·±åº¦ Agent<a class=anchor href=#%e7%ac%ac%e4%b8%83%e7%af%87-deep-agents%e6%9e%84%e5%bb%ba%e5%85%b7%e5%a4%87%e8%a7%84%e5%88%92%e4%b8%8e%e5%ad%90%e6%99%ba%e8%83%bd%e4%bd%93%e8%83%bd%e5%8a%9b%e7%9a%84%e6%b7%b1%e5%ba%a6-agent>#</a></h1><blockquote class=book-hint><p><strong>ç›®æ ‡</strong>ï¼šæŒæ¡ deepagents åº“ï¼Œä½¿ç”¨ <strong>Agent Harness</strong> æ¨¡å¼æ„å»ºèƒ½å¤Ÿå¤„ç†å¤æ‚ã€å¤šæ­¥éª¤ã€é•¿ä¸Šä¸‹æ–‡ä»»åŠ¡çš„ç”Ÿäº§çº§æ™ºèƒ½ä½“ã€‚</p></blockquote><hr><h2 id=-å‰ç½®å‡†å¤‡>ğŸ“‹ å‰ç½®å‡†å¤‡<a class=anchor href=#-%e5%89%8d%e7%bd%ae%e5%87%86%e5%a4%87>#</a></h2><h3 id=ç¯å¢ƒé…ç½®>ç¯å¢ƒé…ç½®<a class=anchor href=#%e7%8e%af%e5%a2%83%e9%85%8d%e7%bd%ae>#</a></h3><p>åœ¨å¼€å§‹å­¦ä¹ ä¹‹å‰ï¼Œè¯·ç¡®ä¿å®Œæˆä»¥ä¸‹ç¯å¢ƒé…ç½®ï¼š</p><h4 id=1-å®‰è£…ä¾èµ–>1. å®‰è£…ä¾èµ–<a class=anchor href=#1-%e5%ae%89%e8%a3%85%e4%be%9d%e8%b5%96>#</a></h4><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=c1># æ ¸å¿ƒåº“</span>
</span></span><span class=line><span class=cl>pip install deepagents
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># æ¨èå·¥å…·ï¼ˆç”¨äºæœ¬ç¯‡å®æˆ˜ï¼‰</span>
</span></span><span class=line><span class=cl>pip install tavily-python langchain-community</span></span></code></pre></div><h4 id=2-ç¯å¢ƒå˜é‡é…ç½®>2. ç¯å¢ƒå˜é‡é…ç½®<a class=anchor href=#2-%e7%8e%af%e5%a2%83%e5%8f%98%e9%87%8f%e9%85%8d%e7%bd%ae>#</a></h4><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=kn>import</span> <span class=nn>os</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># å¿…é¡»é…ç½®</span>
</span></span><span class=line><span class=cl><span class=n>os</span><span class=o>.</span><span class=n>environ</span><span class=p>[</span><span class=s2>&#34;ANTHROPIC_API_KEY&#34;</span><span class=p>]</span> <span class=o>=</span> <span class=s2>&#34;sk-...&#34;</span>  <span class=c1># é»˜è®¤åŸºåº§æ¨¡å‹</span>
</span></span><span class=line><span class=cl><span class=n>os</span><span class=o>.</span><span class=n>environ</span><span class=p>[</span><span class=s2>&#34;TAVILY_API_KEY&#34;</span><span class=p>]</span> <span class=o>=</span> <span class=s2>&#34;tvly-...&#34;</span>   <span class=c1># ç”¨äºæœç´¢èƒ½åŠ›</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># å¯é€‰é…ç½®ï¼ˆä½†å¼ºçƒˆæ¨èç”¨äºè¿½è¸ªï¼‰</span>
</span></span><span class=line><span class=cl><span class=n>os</span><span class=o>.</span><span class=n>environ</span><span class=p>[</span><span class=s2>&#34;LANGSMITH_API_KEY&#34;</span><span class=p>]</span> <span class=o>=</span> <span class=s2>&#34;lsv2-...&#34;</span>
</span></span><span class=line><span class=cl><span class=n>os</span><span class=o>.</span><span class=n>environ</span><span class=p>[</span><span class=s2>&#34;LANGSMITH_TRACING&#34;</span><span class=p>]</span> <span class=o>=</span> <span class=s2>&#34;true&#34;</span></span></span></code></pre></div><h3 id=å‰ç½®çŸ¥è¯†>å‰ç½®çŸ¥è¯†<a class=anchor href=#%e5%89%8d%e7%bd%ae%e7%9f%a5%e8%af%86>#</a></h3><p>å»ºè®®å…·å¤‡ä»¥ä¸‹åŸºç¡€çŸ¥è¯†ï¼š</p><ul><li>âœ… <strong>LangGraph åŸºç¡€</strong> (State, Node, Edge çš„æ¦‚å¿µ)</li><li>âœ… <strong>Tool Calling</strong> (å¦‚ä½•å®šä¹‰å’Œä½¿ç”¨å·¥å…·)</li><li>âœ… <strong>å¼‚æ­¥ç¼–ç¨‹</strong> (async/await)</li></ul><hr><h2 id=ç¬¬1ç« deep-agents-æ ¸å¿ƒæ¶æ„>ç¬¬1ç« ï¼šDeep Agents æ ¸å¿ƒæ¶æ„<a class=anchor href=#%e7%ac%ac1%e7%ab%a0deep-agents-%e6%a0%b8%e5%bf%83%e6%9e%b6%e6%9e%84>#</a></h2><h3 id=11-ä»€ä¹ˆæ˜¯-agent-harness>1.1 ä»€ä¹ˆæ˜¯ Agent Harnessï¼Ÿ<a class=anchor href=#11-%e4%bb%80%e4%b9%88%e6%98%af-agent-harness>#</a></h3><p>åœ¨è½¯ä»¶å·¥ç¨‹ä¸­ï¼Œ<strong>Harness</strong>ï¼ˆæŒ½å…·/æµ‹è¯•å¥—ä»¶ï¼‰é€šå¸¸æŒ‡ç”¨æ¥æ§åˆ¶å’Œæµ‹è¯•ç»„ä»¶çš„å¤–éƒ¨æ¡†æ¶ã€‚<strong>Deep Agents</strong> å¼•å…¥äº† <strong>Agent Harness</strong> çš„æ ¸å¿ƒè®¾è®¡ç†å¿µï¼šå®ƒä¸æ”¹å˜åº•å±‚çš„ LLM æˆ– LangGraph å›¾ï¼Œè€Œæ˜¯åƒç»™èµ›é©¬å¥—ä¸ŠæŒ½å…·ä¸€æ ·ï¼Œåœ¨ Agent å¾ªç¯ä¹‹å¤–åŒ…è£¹äº†ä¸€å±‚<strong>å¼ºåˆ¶æ€§çš„è¡Œä¸ºè§„èŒƒ</strong>ã€‚</p><p><strong>å®˜æ–¹å®šä¹‰</strong>ï¼š</p><blockquote class=book-hint><p>deepagents is a standalone library for building agents that can tackle complex, multi-step tasks. Built on LangGraph and inspired by applications like Claude Code, Deep Research, and Manus.</p></blockquote><pre class=mermaid>graph TD
    %% å…¨å±€èŠ‚ç‚¹å®šä¹‰
    User[(&#34;ç”¨æˆ·è¾“å…¥&#34;)]

    subgraph Harness [&#34;Agent Harness (DeepAgents)&#34;]
        direction TB

        subgraph Middlewares [&#34;Middleware Stack&#34;]
            direction LR
            M1[&#34;Planning&lt;br/&gt;(å¼ºåˆ¶è§„åˆ’)&#34;]
            M2[&#34;Context&lt;br/&gt;(è®°å¿†å¸è½½)&#34;]
            M3[&#34;SubAgent&lt;br/&gt;(ä»»åŠ¡åˆ†æ²»)&#34;]
        end

        Core([&#34;Core Agent Loop&lt;br/&gt;(LLM + Tools)&#34;])

        %% æ ¸å¿ƒä¼˜åŒ–ï¼šå¢åŠ ä¸€ä¸ªéšèº«å ä½ç‚¹ï¼Œç”¨æ¥æ’‘å¼€åº•éƒ¨ç©ºé—´
        SpacerLayer[ ]
    end

    %% è¿çº¿é€»è¾‘
    User --&gt;|è§¦å‘| Middlewares
    Middlewares --&gt;|è§„èŒƒåŒ–æŒ‡ä»¤| Core
    Core -.-&gt;|ç»“æœåé¦ˆ| M1

    %% ä¼˜åŒ–ï¼šé€šè¿‡å ä½ç‚¹è¿æ¥åˆ° Harnessï¼Œç¡®ä¿çº¿æ¡å‘ä¸‹å»¶ä¼¸åå†å›æµï¼Œä¸é®æŒ¡æ–‡å­—
    Core === SpacerLayer
    SpacerLayer ===|å·¥å…·è°ƒç”¨| Harness

    %% æ ·å¼ç¾åŒ–ï¼ˆä¸¥æ ¼ä¿ç•™åŸæ ·ï¼‰
    style Harness fill:#F0F7FF,stroke:#2196F3,stroke-width:2px,stroke-dasharray: 5 5
    style Middlewares fill:#FFFFFF,stroke:#90CAF9,stroke-width:1px
    style Core fill:#FFF3E0,stroke:#FF9800,stroke-width:2px
    style M1 fill:#E8F5E9,stroke:#4CAF50
    style M2 fill:#E8F5E9,stroke:#4CAF50
    style M3 fill:#E8F5E9,stroke:#4CAF50

    %% éšè—å ä½ç‚¹æ ·å¼
    style SpacerLayer fill:none,stroke:none</pre><script src=/mermaid.min.js></script><script>mermaid.initialize({flowchart:{useMaxWidth:!0},theme:"default"})</script><h3 id=12-ä¸‰å¤§æ ¸å¿ƒèƒ½åŠ›è§£æ>1.2 ä¸‰å¤§æ ¸å¿ƒèƒ½åŠ›è§£æ<a class=anchor href=#12-%e4%b8%89%e5%a4%a7%e6%a0%b8%e5%bf%83%e8%83%bd%e5%8a%9b%e8%a7%a3%e6%9e%90>#</a></h3><p>Deep Agents é€šè¿‡<strong>æ¨¡å—åŒ–ä¸­é—´ä»¶</strong>æ³¨å…¥äº†ä¸‰å¤§æ ¸å¿ƒèƒ½åŠ›ï¼Œè§£å†³äº†æ„å»ºå¤æ‚ Agent æ—¶çš„â€œä¸å¯èƒ½ä¸‰è§’â€ï¼š</p><table><thead><tr><th style=text-align:left>æ ¸å¿ƒé—®é¢˜</th><th style=text-align:left>ç—›ç‚¹æè¿°</th><th style=text-align:left>Deep Agents è§£å†³æ–¹æ¡ˆ</th><th style=text-align:left>å¯¹åº”ä¸­é—´ä»¶</th></tr></thead><tbody><tr><td style=text-align:left><strong>è§„åˆ’æ··ä¹±</strong></td><td style=text-align:left>é¢å¯¹æ¨¡ç³Šç›®æ ‡ï¼ŒAgent å®¹æ˜“é™·å…¥æ­»å¾ªç¯æˆ–è¿‡æ—©åœæ­¢</td><td style=text-align:left><strong>å¼ºåˆ¶è§„åˆ’ (Planning)</strong>ï¼šå°†éšå¼æ€ç»´é“¾è½¬åŒ–ä¸ºæ˜¾å¼ Todo List</td><td style=text-align:left><code>TodoListMiddleware</code></td></tr><tr><td style=text-align:left><strong>ä¸Šä¸‹æ–‡çˆ†ç‚¸</strong></td><td style=text-align:left>ä¸­é—´æ­¥éª¤äº§ç”Ÿå¤§é‡æ•°æ®ï¼ˆå¦‚æœç´¢ç»“æœï¼‰ï¼Œæ’‘çˆ† Token çª—å£</td><td style=text-align:left><strong>ä¸Šä¸‹æ–‡å¸è½½ (Context Eviction)</strong>ï¼šå°†é•¿æ–‡æœ¬è‡ªåŠ¨è½¬å­˜è‡³è™šæ‹Ÿæ–‡ä»¶ç³»ç»Ÿ</td><td style=text-align:left><code>FilesystemMiddleware</code></td></tr><tr><td style=text-align:left><strong>å•ä½“ç“¶é¢ˆ</strong></td><td style=text-align:left>ä¸€ä¸ª Prompt å¡å…¥è¿‡å¤šæŒ‡ä»¤ï¼Œå¯¼è‡´æ³¨æ„åŠ›åˆ†æ•£</td><td style=text-align:left><strong>åˆ†æ²»ç­–ç•¥ (Divide & Conquer)</strong>ï¼šåŠ¨æ€ç”Ÿæˆç‹¬ç«‹çš„å­æ™ºèƒ½ä½“å¤„ç†ä»»åŠ¡</td><td style=text-align:left><code>SubAgentMiddleware</code></td></tr></tbody></table><h3 id=13-æŠ€æœ¯é€‰å‹å†³ç­–æ ‘>1.3 æŠ€æœ¯é€‰å‹å†³ç­–æ ‘<a class=anchor href=#13-%e6%8a%80%e6%9c%af%e9%80%89%e5%9e%8b%e5%86%b3%e7%ad%96%e6%a0%91>#</a></h3><p>ä»€ä¹ˆæ—¶å€™åº”è¯¥ä½¿ç”¨ Deep Agentsï¼Œä»€ä¹ˆæ—¶å€™ç”¨åŸç”Ÿçš„ LangGraphï¼Ÿ</p><pre class=mermaid>graph TD
    %% å®šä¹‰èŠ‚ç‚¹å½¢çŠ¶
    A[éœ€æ±‚è¯„ä¼°] --&gt; B{ä»»åŠ¡æ˜¯å¦å¤æ‚?}

    %% å†³ç­–è·¯å¾„
    B -- å¦ --&gt; C([&#34;create_agent&lt;br/&gt;(LangChain å¿«é€ŸåŸå‹)&#34;])
    B -- æ˜¯ --&gt; D{æ˜¯å¦éœ€è¦ç²¾å¯†ç¼–æ’?}

    D -- &#34;æ˜¯ (å¦‚å›ºå®šå®¡æ‰¹æµ)&#34; --&gt; E([&#34;LangGraph&lt;br/&gt;(StateGraph è‡ªå®šä¹‰å›¾)&#34;])

    D -- &#34;å¦ (å¼€æ”¾å¼ä»»åŠ¡)&#34; --&gt; F{ä¸Šä¸‹æ–‡æ˜¯å¦ä¼šæº¢å‡º?}

    F -- å¦ --&gt; E
    F -- &#34;æ˜¯ (å¦‚æ·±åº¦æœç´¢/ç¼–ç )&#34; --&gt; G([&#34;DeepAgents&lt;br/&gt;(ç”Ÿäº§çº§ Harness æ¶æ„)&#34;])

    %% æ ·å¼ç¾åŒ–ï¼ˆå»¶ç»­ä¹‹å‰çš„é…è‰²æ–¹æ¡ˆï¼‰
    style A fill:#E3F2FD,stroke:#2196F3,stroke-width:2px
    style B fill:#FFF3E0,stroke:#FF9800
    style D fill:#FFF3E0,stroke:#FF9800
    style F fill:#FFF3E0,stroke:#FF9800

    style C fill:#E8F5E9,stroke:#4CAF50,stroke-width:2px
    style E fill:#E8F5E9,stroke:#4CAF50,stroke-width:2px
    style G fill:#FCE4EC,stroke:#F06292,stroke-width:2px</pre><hr><h2 id=ç¬¬2ç« å¿«é€Ÿä¸Šæ‰‹æ„å»º-deep-research-agent>ç¬¬2ç« ï¼šå¿«é€Ÿä¸Šæ‰‹ï¼šæ„å»º Deep Research Agent<a class=anchor href=#%e7%ac%ac2%e7%ab%a0%e5%bf%ab%e9%80%9f%e4%b8%8a%e6%89%8b%e6%9e%84%e5%bb%ba-deep-research-agent>#</a></h2><p>æœ¬ç« æˆ‘ä»¬å°†æ„å»ºä¸€ä¸ªèƒ½å¤Ÿä¸Šç½‘æœç´¢ã€åˆ†æå¤§é‡èµ„æ–™å¹¶æ’°å†™æŠ¥å‘Šçš„â€œæ·±åº¦ç ”ç©¶å‘˜â€ã€‚</p><h3 id=21-å®šä¹‰æ ¸å¿ƒå·¥å…·>2.1 å®šä¹‰æ ¸å¿ƒå·¥å…·<a class=anchor href=#21-%e5%ae%9a%e4%b9%89%e6%a0%b8%e5%bf%83%e5%b7%a5%e5%85%b7>#</a></h3><p>é¦–å…ˆï¼Œæˆ‘ä»¬éœ€è¦ä¸€ä¸ªè”ç½‘æœç´¢å·¥å…·ã€‚ä¸ºäº†æ¼”ç¤ºé²æ£’æ€§ï¼Œæˆ‘ä»¬éœ€è¦åšå¥½é”™è¯¯å¤„ç†ã€‚</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=kn>import</span> <span class=nn>os</span>
</span></span><span class=line><span class=cl><span class=kn>from</span> <span class=nn>typing</span> <span class=kn>import</span> <span class=n>Literal</span>
</span></span><span class=line><span class=cl><span class=kn>from</span> <span class=nn>tavily</span> <span class=kn>import</span> <span class=n>TavilyClient</span>
</span></span><span class=line><span class=cl><span class=kn>from</span> <span class=nn>langchain_core.tools</span> <span class=kn>import</span> <span class=n>tool</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>tavily_client</span> <span class=o>=</span> <span class=n>TavilyClient</span><span class=p>(</span><span class=n>api_key</span><span class=o>=</span><span class=n>os</span><span class=o>.</span><span class=n>environ</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=s2>&#34;TAVILY_API_KEY&#34;</span><span class=p>))</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nd>@tool</span>
</span></span><span class=line><span class=cl><span class=k>def</span> <span class=nf>internet_search</span><span class=p>(</span>
</span></span><span class=line><span class=cl>    <span class=n>query</span><span class=p>:</span> <span class=nb>str</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=n>max_results</span><span class=p>:</span> <span class=nb>int</span> <span class=o>=</span> <span class=mi>5</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=n>topic</span><span class=p>:</span> <span class=n>Literal</span><span class=p>[</span><span class=s2>&#34;general&#34;</span><span class=p>,</span> <span class=s2>&#34;news&#34;</span><span class=p>]</span> <span class=o>=</span> <span class=s2>&#34;general&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>str</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;&#34;&#34;
</span></span></span><span class=line><span class=cl><span class=s2>    Run a web search using Tavily.
</span></span></span><span class=line><span class=cl><span class=s2>    Always use this tool when you need external information.
</span></span></span><span class=line><span class=cl><span class=s2>    &#34;&#34;&#34;</span>
</span></span><span class=line><span class=cl>    <span class=k>try</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&#34;ğŸ” [Tool] Searching for: </span><span class=si>{</span><span class=n>query</span><span class=si>}</span><span class=s2>&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=n>results</span> <span class=o>=</span> <span class=n>tavily_client</span><span class=o>.</span><span class=n>search</span><span class=p>(</span><span class=n>query</span><span class=p>,</span> <span class=n>max_results</span><span class=o>=</span><span class=n>max_results</span><span class=p>,</span> <span class=n>topic</span><span class=o>=</span><span class=n>topic</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        <span class=n>output</span> <span class=o>=</span> <span class=p>[]</span>
</span></span><span class=line><span class=cl>        <span class=k>if</span> <span class=n>results</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=s2>&#34;answer&#34;</span><span class=p>):</span>
</span></span><span class=line><span class=cl>            <span class=n>output</span><span class=o>.</span><span class=n>append</span><span class=p>(</span><span class=sa>f</span><span class=s2>&#34;Answer: </span><span class=si>{</span><span class=n>results</span><span class=p>[</span><span class=s1>&#39;answer&#39;</span><span class=p>]</span><span class=si>}</span><span class=se>\n</span><span class=s2>&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        <span class=k>for</span> <span class=n>res</span> <span class=ow>in</span> <span class=n>results</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=s2>&#34;results&#34;</span><span class=p>,</span> <span class=p>[]):</span>
</span></span><span class=line><span class=cl>            <span class=n>title</span> <span class=o>=</span> <span class=n>res</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=s2>&#34;title&#34;</span><span class=p>,</span> <span class=s2>&#34;No title&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>            <span class=n>url</span> <span class=o>=</span> <span class=n>res</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=s2>&#34;url&#34;</span><span class=p>,</span> <span class=s2>&#34;#&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>            <span class=n>content</span> <span class=o>=</span> <span class=n>res</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=s2>&#34;content&#34;</span><span class=p>,</span> <span class=s2>&#34;&#34;</span><span class=p>)[:</span><span class=mi>300</span><span class=p>]</span>
</span></span><span class=line><span class=cl>            <span class=n>output</span><span class=o>.</span><span class=n>append</span><span class=p>(</span><span class=sa>f</span><span class=s2>&#34;- [</span><span class=si>{</span><span class=n>title</span><span class=si>}</span><span class=s2>](</span><span class=si>{</span><span class=n>url</span><span class=si>}</span><span class=s2>)</span><span class=se>\n</span><span class=s2>  </span><span class=si>{</span><span class=n>content</span><span class=si>}</span><span class=s2>...&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=s2>&#34;</span><span class=se>\n</span><span class=s2>&#34;</span><span class=o>.</span><span class=n>join</span><span class=p>(</span><span class=n>output</span><span class=p>)</span> <span class=k>if</span> <span class=n>output</span> <span class=k>else</span> <span class=s2>&#34;No results found.&#34;</span>
</span></span><span class=line><span class=cl>    <span class=k>except</span> <span class=ne>Exception</span> <span class=k>as</span> <span class=n>e</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=sa>f</span><span class=s2>&#34;Error during search: </span><span class=si>{</span><span class=nb>str</span><span class=p>(</span><span class=n>e</span><span class=p>)</span><span class=si>}</span><span class=s2>&#34;</span></span></span></code></pre></div><h3 id=22-æ„å»º-deep-agent>2.2 æ„å»º Deep Agent<a class=anchor href=#22-%e6%9e%84%e5%bb%ba-deep-agent>#</a></h3><p>ä½¿ç”¨ <code>create_deep_agent</code> å·¥å‚å‡½æ•°ï¼Œç³»ç»Ÿä¼šè‡ªåŠ¨æ³¨å…¥ <code>write_todos</code>ã€<code>read_file</code> ç­‰åŸºç¡€è®¾æ–½å·¥å…·ã€‚</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=kn>from</span> <span class=nn>deepagents</span> <span class=kn>import</span> <span class=n>create_deep_agent</span>
</span></span><span class=line><span class=cl><span class=kn>from</span> <span class=nn>langchain_core.messages</span> <span class=kn>import</span> <span class=n>HumanMessage</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># åˆ›å»º Deep Agent</span>
</span></span><span class=line><span class=cl><span class=n>agent</span> <span class=o>=</span> <span class=n>create_deep_agent</span><span class=p>(</span>
</span></span><span class=line><span class=cl>    <span class=n>tools</span><span class=o>=</span><span class=p>[</span><span class=n>internet_search</span><span class=p>],</span>  <span class=c1># æˆ‘ä»¬è‡ªå®šä¹‰çš„å·¥å…·</span>
</span></span><span class=line><span class=cl>    <span class=n>model</span><span class=o>=</span><span class=s2>&#34;claude-sonnet-4-5-20250929&#34;</span><span class=p>,</span>  <span class=c1># å»ºè®®ä½¿ç”¨å¼ºæ¨ç†æ¨¡å‹</span>
</span></span><span class=line><span class=cl>    <span class=n>system_prompt</span><span class=o>=</span><span class=s2>&#34;&#34;&#34;
</span></span></span><span class=line><span class=cl><span class=s2>    You are an expert researcher. Follow these steps:
</span></span></span><span class=line><span class=cl><span class=s2>    1. PLAN: Always use write_todos to breakdown the user request.
</span></span></span><span class=line><span class=cl><span class=s2>    2. EXECUTE: Use internet_search to gather information.
</span></span></span><span class=line><span class=cl><span class=s2>    3. MANAGE: The system will auto-evict long content to files.
</span></span></span><span class=line><span class=cl><span class=s2>       Trust the file system. Use read_file if you need to review details.
</span></span></span><span class=line><span class=cl><span class=s2>    4. DELIVER: Synthesize findings into a final markdown report.
</span></span></span><span class=line><span class=cl><span class=s2>    &#34;&#34;&#34;</span>
</span></span><span class=line><span class=cl><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># æ‰§è¡Œä»»åŠ¡</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=s2>&#34;ğŸš€ Deep Research Agent Started...&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=n>query</span> <span class=o>=</span> <span class=s2>&#34;è¯·è°ƒæŸ¥ Deep Agents åº“çš„æ ¸å¿ƒç‰¹æ€§ï¼Œå¹¶ä¸ LangGraph åšå¯¹æ¯”ã€‚æœ€åç”Ÿæˆä¸€ä»½ report.mdã€‚&#34;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># ä½¿ç”¨ stream æŸ¥çœ‹å®æ—¶è¿‡ç¨‹</span>
</span></span><span class=line><span class=cl><span class=k>for</span> <span class=n>event</span> <span class=ow>in</span> <span class=n>agent</span><span class=o>.</span><span class=n>stream</span><span class=p>({</span><span class=s2>&#34;messages&#34;</span><span class=p>:</span> <span class=p>[</span><span class=n>HumanMessage</span><span class=p>(</span><span class=n>content</span><span class=o>=</span><span class=n>query</span><span class=p>)]}):</span>
</span></span><span class=line><span class=cl>    <span class=c1># å®é™…å¼€å‘ä¸­å¯ä»¥æ‰“å° event æ¥è§‚å¯Ÿ Agent çš„æ¯ä¸€æ­¥æ€è€ƒ</span>
</span></span><span class=line><span class=cl>    <span class=k>pass</span></span></span></code></pre></div><h3 id=23-æ·±åº¦è¿è¡Œåˆ†æ-execution-anatomy>2.3 æ·±åº¦è¿è¡Œåˆ†æ (Execution Anatomy)<a class=anchor href=#23-%e6%b7%b1%e5%ba%a6%e8%bf%90%e8%a1%8c%e5%88%86%e6%9e%90-execution-anatomy>#</a></h3><p>åªè¦è¿è¡Œä¸Šé¢çš„ä»£ç ï¼Œä½ ä¼šçœ‹åˆ° Agent <strong>å®Œå…¨ä¸åŒäºæ™®é€š ChatBot</strong> çš„è¡Œä¸ºæ¨¡å¼ã€‚è®©æˆ‘ä»¬é€å¸§æ‹†è§£å®ƒçš„æ€è€ƒè¿‡ç¨‹ï¼š</p><h4 id=ç¬¬ä¸€é˜¶æ®µå¼ºåˆ¶è§„åˆ’-the-planning-phase>ç¬¬ä¸€é˜¶æ®µï¼šå¼ºåˆ¶è§„åˆ’ (The Planning Phase)<a class=anchor href=#%e7%ac%ac%e4%b8%80%e9%98%b6%e6%ae%b5%e5%bc%ba%e5%88%b6%e8%a7%84%e5%88%92-the-planning-phase>#</a></h4><p>Agent æ”¶åˆ°è¯·æ±‚åï¼Œå¹¶æ²¡æœ‰ç›´æ¥æœç´¢ã€‚<code>TodoListMiddleware</code> å¼ºåˆ¶å®ƒå…ˆè°ƒç”¨ <code>write_todos</code>ã€‚</p><p><strong>Agent æ€è€ƒ</strong>ï¼š</p><blockquote class=book-hint><p>&ldquo;è¿™æ˜¯ä¸€ä¸ªå¤æ‚çš„ä»»åŠ¡ã€‚æˆ‘éœ€è¦å…ˆæœç´¢ï¼Œå†å¯¹æ¯”ï¼Œæœ€åå†™æ–‡ä»¶ã€‚&rdquo;</p></blockquote><p><strong>å·¥å…·è°ƒç”¨ (<code>write_todos</code>)</strong>ï¼š</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-json data-lang=json><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=nt>&#34;todos&#34;</span><span class=p>:</span> <span class=p>[</span>
</span></span><span class=line><span class=cl>    <span class=p>{</span><span class=nt>&#34;task&#34;</span><span class=p>:</span> <span class=s2>&#34;Search for Deep Agents library documentation&#34;</span><span class=p>,</span> <span class=nt>&#34;status&#34;</span><span class=p>:</span> <span class=s2>&#34;pending&#34;</span><span class=p>},</span>
</span></span><span class=line><span class=cl>    <span class=p>{</span><span class=nt>&#34;task&#34;</span><span class=p>:</span> <span class=s2>&#34;Search for LangGraph comparison points&#34;</span><span class=p>,</span> <span class=nt>&#34;status&#34;</span><span class=p>:</span> <span class=s2>&#34;pending&#34;</span><span class=p>},</span>
</span></span><span class=line><span class=cl>    <span class=p>{</span><span class=nt>&#34;task&#34;</span><span class=p>:</span> <span class=s2>&#34;Write comparison report to report.md&#34;</span><span class=p>,</span> <span class=nt>&#34;status&#34;</span><span class=p>:</span> <span class=s2>&#34;pending&#34;</span><span class=p>}</span>
</span></span><span class=line><span class=cl>  <span class=p>]</span>
</span></span><span class=line><span class=cl><span class=p>}</span></span></span></code></pre></div><h4 id=ç¬¬äºŒé˜¶æ®µæ‰§è¡Œä¸ä¸Šä¸‹æ–‡å¸è½½-execution--eviction>ç¬¬äºŒé˜¶æ®µï¼šæ‰§è¡Œä¸ä¸Šä¸‹æ–‡å¸è½½ (Execution & Eviction)<a class=anchor href=#%e7%ac%ac%e4%ba%8c%e9%98%b6%e6%ae%b5%e6%89%a7%e8%a1%8c%e4%b8%8e%e4%b8%8a%e4%b8%8b%e6%96%87%e5%8d%b8%e8%bd%bd-execution--eviction>#</a></h4><p>Agent å¼€å§‹æ‰§è¡Œç¬¬ä¸€ä¸ª Todoã€‚å®ƒè°ƒç”¨ <code>internet_search</code> è·å¾—äº†ä¸€å¤§æ®µå…³äº DeepAgents çš„ä»‹ç»ã€‚</p><p><strong>å…³é”®æ—¶åˆ»</strong>ï¼š
å‡è®¾æœç´¢ç»“æœéå¸¸é•¿ï¼ˆä¾‹å¦‚ 10,000 tokensï¼‰ã€‚<code>FilesystemMiddleware</code> ä¼šç›‘æµ‹åˆ°è¿™ä¸€æƒ…å†µã€‚å®ƒä¸ä¼šè®©è¿™ 10k tokens ç›´æ¥å¡è¿›ä¸‹ä¸€è½®çš„ Promptï¼Œè€Œæ˜¯<strong>è‡ªåŠ¨æ‹¦æˆª</strong>ï¼š</p><ol><li><strong>è‡ªåŠ¨ä¿å­˜</strong>ï¼šå°†æœç´¢ç»“æœå†™å…¥è™šæ‹Ÿæ–‡ä»¶ <code>/tmp/virtual/output_1.txt</code>ã€‚</li><li><strong>æŒ‡é’ˆæ›¿æ¢</strong>ï¼šåœ¨ Context ä¸­ï¼Œå°†åŸæ¥çš„é•¿æ–‡æœ¬æ›¿æ¢ä¸ºï¼š
<code>Tool Output: &lt;Content evicted to /tmp/virtual/output_1.txt. Use read_file to access.></code></li></ol><p>è¿™æ ·ï¼ŒAgent ä¾ç„¶â€œçŸ¥é“â€ç»“æœåœ¨å“ªé‡Œï¼Œä½†å®ƒçš„ Context ä¿æŒäº†è½»é‡çº§ã€‚</p><h4 id=ç¬¬ä¸‰é˜¶æ®µåˆæˆä¸äº¤ä»˜-synthesis>ç¬¬ä¸‰é˜¶æ®µï¼šåˆæˆä¸äº¤ä»˜ (Synthesis)<a class=anchor href=#%e7%ac%ac%e4%b8%89%e9%98%b6%e6%ae%b5%e5%90%88%e6%88%90%e4%b8%8e%e4%ba%a4%e4%bb%98-synthesis>#</a></h4><p>Agent å®Œæˆäº†æ‰€æœ‰æœç´¢ã€‚æ­¤æ—¶ Todo List çŠ¶æ€å˜ä¸ºï¼š</p><ul><li><input checked disabled type=checkbox> Search Deep Agents</li><li><input checked disabled type=checkbox> Search LangGraph</li><li>[>] Write report (Current)</li></ul><p>Agent è°ƒç”¨ <code>write_file</code> ç”Ÿæˆæœ€ç»ˆæŠ¥å‘Šã€‚æ•´ä¸ªè¿‡ç¨‹è¡Œäº‘æµæ°´ï¼Œæ²¡æœ‰ä»»ä½• Context æº¢å‡ºçš„é£é™©ã€‚</p><hr><h2 id=ç¬¬3ç« æ ¸å¿ƒæœºåˆ¶æ·±åº¦è§£æ>ç¬¬3ç« ï¼šæ ¸å¿ƒæœºåˆ¶æ·±åº¦è§£æ<a class=anchor href=#%e7%ac%ac3%e7%ab%a0%e6%a0%b8%e5%bf%83%e6%9c%ba%e5%88%b6%e6%b7%b1%e5%ba%a6%e8%a7%a3%e6%9e%90>#</a></h2><h3 id=31-è§„åˆ’ç³»ç»Ÿtodolistmiddleware>3.1 è§„åˆ’ç³»ç»Ÿï¼šTodoListMiddleware<a class=anchor href=#31-%e8%a7%84%e5%88%92%e7%b3%bb%e7%bb%9ftodolistmiddleware>#</a></h3><p>æ™®é€šçš„ Agent åªæœ‰éšå¼çš„â€œæ€ç»´é“¾â€ï¼ˆChain of Thoughtï¼‰ï¼Œå®¹æ˜“åœ¨é•¿ä»»åŠ¡ä¸­è¿·å¤±ã€‚<code>TodoListMiddleware</code> å¼•å…¥äº†<strong>æ˜¾å¼çŠ¶æ€æœº</strong>ã€‚</p><pre class=mermaid>stateDiagram-v2
    [*] --&gt; Pending
    Pending --&gt; InProgress: Agenté€‰æ‹©ä»»åŠ¡
    InProgress --&gt; Completed: ä»»åŠ¡å®Œæˆ
    InProgress --&gt; Pending: ä»»åŠ¡å¤±è´¥/é‡è¯•
    Completed --&gt; [*]

    note right of InProgress
        åŒä¸€æ—¶é—´åªèƒ½æœ‰ä¸€ä¸ª
        ä»»åŠ¡å¤„äº InProgress çŠ¶æ€
    end note</pre><ul><li><strong>çŠ¶æ€æŒä¹…åŒ–</strong>ï¼šTodo List ä¸æ˜¯ Prompt é‡Œçš„ä¸€æ®µè¯ï¼Œè€Œæ˜¯ä¸€ä¸ªç»“æ„åŒ–çš„å¯¹è±¡åˆ—è¡¨ã€‚</li><li><strong>è‡ªæˆ‘çº æ­£æœºåˆ¶</strong>ï¼š<ul><li>å¦‚æœ Agent å°è¯•æ‰§è¡Œä¸€ä¸ªä¸åœ¨ Todo List é‡Œçš„ä»»åŠ¡ï¼Œä¸­é—´ä»¶ä¼šæŠ¥é”™æç¤ºï¼šâ€œè¯·å…ˆè§„åˆ’â€ã€‚</li><li>å¦‚æœä»»åŠ¡å¤±è´¥ï¼ˆå¦‚æœç´¢æ— ç»“æœï¼‰ï¼ŒAgent ä¼šä¿®æ”¹ Todo Listï¼ˆæ–°å¢ &ldquo;Retry search&rdquo;ï¼‰ï¼Œè€Œä¸æ˜¯ç›²ç›®ç»§ç»­ã€‚</li></ul></li></ul><h3 id=32-è®°å¿†ç³»ç»Ÿcontext-eviction-åŸç†>3.2 è®°å¿†ç³»ç»Ÿï¼šContext Eviction åŸç†<a class=anchor href=#32-%e8%ae%b0%e5%bf%86%e7%b3%bb%e7%bb%9fcontext-eviction-%e5%8e%9f%e7%90%86>#</a></h3><p>è¿™æ˜¯ Deep Agents æœ€æ ¸å¿ƒçš„â€œé»‘ç§‘æŠ€â€ã€‚å®ƒé€šè¿‡**è™šæ‹Ÿæ–‡ä»¶ç³»ç»Ÿï¼ˆVFSï¼‰**å®ç°äº†æ— é™ä¸Šä¸‹æ–‡çš„å‡è±¡ã€‚</p><p><strong>ç®—æ³•æµç¨‹å›¾</strong>ï¼š</p><pre class=mermaid>graph TD
    %% é˜¶æ®µä¸€ï¼šå†™å…¥é€»è¾‘
    A[å·¥å…·äº§ç”Ÿè¾“å‡º] --&gt; B{&#34;Token &gt; é˜ˆå€¼?&#34;}

    B -- &#34;No (çŸ­æ–‡æœ¬)&#34; --&gt; CLLM{{LLM Context}}

    B -- &#34;Yes (é•¿æ–‡æœ¬)&#34; --&gt; D[å†™å…¥è™šæ‹Ÿæ–‡ä»¶ç³»ç»Ÿ&lt;br/&gt;VFS / Disk]
    D --&gt; E[ç”Ÿæˆå¼•ç”¨æŒ‡é’ˆ&lt;br/&gt;File Ref: ID_001]
    E -.-&gt;|æ³¨å…¥| CLLM

    %% é˜¶æ®µäºŒï¼šè¯»å–é€»è¾‘
    F[&#34;Agent éœ€è¦è¯¦æƒ…?&#34;] --&gt; G{æ£€ç´¢/è¯»å–}
    G -- &#34;read_file(ID)&#34; --&gt; H[æŒ‰éœ€åŠ è½½å…·ä½“ç‰‡æ®µ]
    H -.-&gt;|åé¦ˆå›| CLLM

    %% æ ·å¼ç¾åŒ–
    style A fill:#E3F2FD,stroke:#2196F3
    style B fill:#FFF3E0,stroke:#FF9800
    style CLLM fill:#F3E5F5,stroke:#9C27B0,stroke-width:2px
    style D fill:#ECEFF1,stroke:#607D8B
    style E fill:#E1F5FE,stroke:#01579B,stroke-dasharray: 5 5
    style G fill:#FFF3E0,stroke:#FF9800</pre><p><strong>æ ¸å¿ƒå·¥å…·é›†</strong>ï¼š</p><ul><li><code>ls(path)</code>: æŸ¥çœ‹å½“å‰çŸ¥è¯†åº“ã€‚</li><li><code>read_file(path, offset, limit)</code>: <strong>æœ€å…³é”®çš„å·¥å…·</strong>ã€‚æ”¯æŒåˆ†é¡µè¯»å–ï¼ˆoffset/limitï¼‰ï¼Œå…è®¸ Agent åªâ€œåŠ è½½â€å®ƒå½“å‰éœ€è¦å…³æ³¨çš„é‚£ä¸€éƒ¨åˆ†æ•°æ®åˆ°å†…å­˜ä¸­ã€‚</li><li><code>write_file(path, content)</code>: åˆ›å»ºç¬”è®°æˆ–æŠ¥å‘Šã€‚</li><li><code>edit_file(path, old, new)</code>: ç²¾ç¡®ä¿®æ”¹æ–‡ä»¶ã€‚</li></ul><h3 id=33-åˆ†æ²»ç³»ç»Ÿsubagent-spawning>3.3 åˆ†æ²»ç³»ç»Ÿï¼šSubAgent Spawning<a class=anchor href=#33-%e5%88%86%e6%b2%bb%e7%b3%bb%e7%bb%9fsubagent-spawning>#</a></h3><p>å½“ä»»åŠ¡å¤æ‚åº¦å‘ˆæŒ‡æ•°çº§ä¸Šå‡æ—¶ï¼Œå•ä½“ Agent å¿…ç„¶å´©æºƒã€‚<code>SubAgentMiddleware</code> å¼•å…¥äº†<strong>ç»„ç»‡æ¶æ„</strong>ã€‚</p><p><strong>å·¥ä½œåŸç†</strong>ï¼š</p><ol><li>ä¸» Agent è°ƒç”¨ <code>task(name="researcher", goal="Find info about X")</code>ã€‚</li><li>ç³»ç»Ÿæš‚åœä¸» Agentï¼Œ<strong>Fork</strong> ä¸€ä¸ªæ–°çš„å­ Agent å®ä¾‹ã€‚</li><li><strong>Context éš”ç¦»</strong>ï¼šå­ Agent æ‹¥æœ‰å…¨æ–°çš„ã€ç©ºç™½çš„ Contextã€‚ä¸» Agent ç´¯ç§¯çš„å†å²è®°å½•<strong>ä¸ä¼š</strong>æ±¡æŸ“å­ Agentã€‚</li><li>å­ Agent ç‹¬ç«‹è¿è¡Œï¼Œç›´åˆ°å®Œæˆç›®æ ‡ã€‚</li><li>å­ Agent é”€æ¯ï¼Œåªè¿”å›ä¸€ä¸ªç®€çŸ­çš„ <code>String</code> ç»“æœç»™ä¸» Agentã€‚</li></ol><h3 id=34-è‡ªæˆ‘ä¿®æ­£å¾ªç¯-self-correction-loop>3.4 è‡ªæˆ‘ä¿®æ­£å¾ªç¯ (Self-Correction Loop)<a class=anchor href=#34-%e8%87%aa%e6%88%91%e4%bf%ae%e6%ad%a3%e5%be%aa%e7%8e%af-self-correction-loop>#</a></h3><p>Deep Agents ä¸åªæ˜¯æ‰§è¡Œè€…ï¼Œæ›´æ˜¯åæ€è€…ã€‚å½“ä»»åŠ¡å¤±è´¥æ—¶ï¼ŒTodoMiddleware æ”¯æŒåŠ¨æ€é‡è§„åˆ’ï¼ˆReplanningï¼‰ã€‚</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=c1># å½“ Agent å‘ç°åŸå®šè®¡åˆ’è¡Œä¸é€šæ—¶</span>
</span></span><span class=line><span class=cl><span class=c1># è°ƒç”¨ write_todos ä¿®æ”¹è®¡åˆ’</span>
</span></span><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=s2>&#34;todos&#34;</span><span class=p>:</span> <span class=p>[</span>
</span></span><span class=line><span class=cl>    <span class=p>{</span><span class=s2>&#34;task&#34;</span><span class=p>:</span> <span class=s2>&#34;Run Unit Test&#34;</span><span class=p>,</span> <span class=s2>&#34;status&#34;</span><span class=p>:</span> <span class=s2>&#34;completed&#34;</span><span class=p>},</span>  <span class=c1># åŸè®¡åˆ’</span>
</span></span><span class=line><span class=cl>    <span class=p>{</span><span class=s2>&#34;task&#34;</span><span class=p>:</span> <span class=s2>&#34;Debug the AttributeError&#34;</span><span class=p>,</span> <span class=s2>&#34;status&#34;</span><span class=p>:</span> <span class=s2>&#34;pending&#34;</span><span class=p>},</span> <span class=c1># æ–°å¢çš„è‡ªæˆ‘ä¿®æ­£ä»»åŠ¡</span>
</span></span><span class=line><span class=cl>    <span class=p>{</span><span class=s2>&#34;task&#34;</span><span class=p>:</span> <span class=s2>&#34;Run Unit Test Again&#34;</span><span class=p>,</span> <span class=s2>&#34;status&#34;</span><span class=p>:</span> <span class=s2>&#34;pending&#34;</span><span class=p>}</span>
</span></span><span class=line><span class=cl>  <span class=p>]</span>
</span></span><span class=line><span class=cl><span class=p>}</span></span></span></code></pre></div><p>è¿™ç§åŠ¨æ€è°ƒæ•´èƒ½åŠ›ä½¿ Agent èƒ½å¤Ÿåº”å¯¹ä¸ç¡®å®šæ€§å’Œé”™è¯¯ï¼Œæ˜¯å®ç° AGI è‡ªä¸»æ€§çš„å…³é”®ä¸€æ­¥ã€‚</p><hr><h2 id=ç¬¬4ç« å­˜å‚¨åç«¯å·¥ç¨‹åŒ–>ç¬¬4ç« ï¼šå­˜å‚¨åç«¯å·¥ç¨‹åŒ–<a class=anchor href=#%e7%ac%ac4%e7%ab%a0%e5%ad%98%e5%82%a8%e5%90%8e%e7%ab%af%e5%b7%a5%e7%a8%8b%e5%8c%96>#</a></h2><p>Deep Agents çš„å­˜å‚¨åç«¯ï¼ˆBackendsï¼‰æå…¶çµæ´»ï¼Œå†³å®šäº† Agent çš„â€œæ–‡ä»¶â€å’Œâ€œè®°å¿†â€åˆ°åº•å­˜åœ¨å“ªé‡Œã€‚</p><h3 id=41-åç«¯æ¶æ„å…¨æ™¯>4.1 åç«¯æ¶æ„å…¨æ™¯<a class=anchor href=#41-%e5%90%8e%e7%ab%af%e6%9e%b6%e6%9e%84%e5%85%a8%e6%99%af>#</a></h3><pre class=mermaid>classDiagram
    class BaseBackend {
        &lt;&lt;interface&gt;&gt;
        +read()
        +write()
    }
    class StateBackend {
        +å­˜å…¥ LangGraph State
        +ç”Ÿå‘½å‘¨æœŸï¼šéšä¼šè¯ç»“æŸ
    }
    class StoreBackend {
        +å­˜å…¥ Databases (Redis/Postgres)
        +ç”Ÿå‘½å‘¨æœŸï¼šæ°¸ä¹…æŒä¹…åŒ–
    }
    class CompositeBackend {
        +è·¯ç”±åˆ†å‘ ()
        +default: Backend
        +routes: Dict[str, Backend]
    }

    BaseBackend &lt;|-- StateBackend
    BaseBackend &lt;|-- StoreBackend
    BaseBackend &lt;|-- CompositeBackend</pre><h3 id=42-statebackend-vs-storebackend>4.2 StateBackend vs StoreBackend<a class=anchor href=#42-statebackend-vs-storebackend>#</a></h3><table><thead><tr><th style=text-align:left>ç‰¹æ€§</th><th style=text-align:left>StateBackend (é»˜è®¤)</th><th style=text-align:left>StoreBackend</th></tr></thead><tbody><tr><td style=text-align:left><strong>å­˜å‚¨ä½ç½®</strong></td><td style=text-align:left>å†…å­˜ (LangGraph State)</td><td style=text-align:left>å¤–éƒ¨æ•°æ®åº“ (BaseStore)</td></tr><tr><td style=text-align:left><strong>ç”Ÿå‘½å‘¨æœŸ</strong></td><td style=text-align:left>çŸ­ (Thread ç»“æŸå³æ¶ˆå¤±)</td><td style=text-align:left>é•¿ (æ°¸ä¹…ä¿å­˜)</td></tr><tr><td style=text-align:left><strong>é€‚ç”¨åœºæ™¯</strong></td><td style=text-align:left>ä¸´æ—¶æ–‡ä»¶ã€ä¸­é—´è‰ç¨¿</td><td style=text-align:left>ç”¨æˆ·é…ç½®ã€é•¿æœŸè®°å¿†ã€æˆå“æ–‡æ¡£</td></tr><tr><td style=text-align:left><strong>é€Ÿåº¦</strong></td><td style=text-align:left>æå¿«</td><td style=text-align:left>å–å†³äºæ•°æ®åº“ I/O</td></tr></tbody></table><h3 id=43-ç”Ÿäº§çº§æœ€ä½³å®è·µcompositebackend>4.3 ç”Ÿäº§çº§æœ€ä½³å®è·µï¼šCompositeBackend<a class=anchor href=#43-%e7%94%9f%e4%ba%a7%e7%ba%a7%e6%9c%80%e4%bd%b3%e5%ae%9e%e8%b7%b5compositebackend>#</a></h3><p>åœ¨ç”Ÿäº§ç¯å¢ƒä¸­ï¼Œæˆ‘ä»¬éœ€è¦æ··åˆä½¿ç”¨ï¼šä¸´æ—¶æ–‡ä»¶å­˜å†…å­˜ï¼Œé‡è¦æ•°æ®å­˜æ•°æ®åº“ã€‚Deep Agents æä¾›äº†åŸºäºè·¯å¾„çš„è·¯ç”±åŠŸèƒ½ã€‚</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=kn>from</span> <span class=nn>deepagents.backends</span> <span class=kn>import</span> <span class=n>CompositeBackend</span><span class=p>,</span> <span class=n>StateBackend</span><span class=p>,</span> <span class=n>StoreBackend</span>
</span></span><span class=line><span class=cl><span class=kn>from</span> <span class=nn>langgraph.store.memory</span> <span class=kn>import</span> <span class=n>InMemoryStore</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># åˆå§‹åŒ–æŒä¹…åŒ–å­˜å‚¨</span>
</span></span><span class=line><span class=cl><span class=n>store</span> <span class=o>=</span> <span class=n>InMemoryStore</span><span class=p>()</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>def</span> <span class=nf>make_backend</span><span class=p>(</span><span class=n>runtime</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=n>CompositeBackend</span><span class=p>(</span>
</span></span><span class=line><span class=cl>        <span class=c1># é»˜è®¤è·¯ç”±ï¼šæ‰€æœ‰æ™®é€šæ–‡ä»¶å­˜å†…å­˜ï¼ˆStateï¼‰ï¼Œè™½ç”ŸçŠ¹æ­»</span>
</span></span><span class=line><span class=cl>        <span class=n>default</span><span class=o>=</span><span class=n>StateBackend</span><span class=p>(</span><span class=n>runtime</span><span class=p>),</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        <span class=c1># ç‰¹æ®Šè·¯ç”±ï¼š/memories/ å¼€å¤´çš„æ–‡ä»¶ï¼Œå­˜å…¥ Storeï¼ˆæŒä¹…åŒ–ï¼‰</span>
</span></span><span class=line><span class=cl>        <span class=n>routes</span><span class=o>=</span><span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=s2>&#34;/memories/&#34;</span><span class=p>:</span> <span class=n>StoreBackend</span><span class=p>(</span><span class=n>runtime</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>agent</span> <span class=o>=</span> <span class=n>create_deep_agent</span><span class=p>(</span>
</span></span><span class=line><span class=cl>    <span class=n>store</span><span class=o>=</span><span class=n>store</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=n>backend</span><span class=o>=</span><span class=n>make_backend</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=n>system_prompt</span><span class=o>=</span><span class=s2>&#34;Save user preferences to /memories/profile.md&#34;</span>
</span></span><span class=line><span class=cl><span class=p>)</span></span></span></code></pre></div><p><strong>è®¾è®¡å“²å­¦</strong>ï¼š
é€šè¿‡æ–‡ä»¶è·¯å¾„ï¼ˆPathï¼‰æ¥åŒºåˆ†æ•°æ®çš„ç”Ÿå‘½å‘¨æœŸã€‚Agent ä¸éœ€è¦å­¦ä¹ å¤æ‚çš„æ•°æ®åº“æŒ‡ä»¤ï¼Œå®ƒåªéœ€è¦çŸ¥é“ï¼šâ€œå¦‚æœè¿™ç±»ä¿¡æ¯å¾ˆé‡è¦ï¼Œæˆ‘å°±æŠŠå®ƒå†™è¿› <code>/memories/</code> æ–‡ä»¶å¤¹â€ã€‚</p><hr><h2 id=ç¬¬5ç« cli-å·¥å…·ä¸äº¤äº’å®æˆ˜>ç¬¬5ç« ï¼šCLI å·¥å…·ä¸äº¤äº’å®æˆ˜<a class=anchor href=#%e7%ac%ac5%e7%ab%a0cli-%e5%b7%a5%e5%85%b7%e4%b8%8e%e4%ba%a4%e4%ba%92%e5%ae%9e%e6%88%98>#</a></h2><p>DeepAgents æä¾›äº†ä¸€ä¸ªå¼€ç®±å³ç”¨çš„å‘½ä»¤è¡Œå·¥å…·ï¼ˆCLIï¼‰ï¼Œå…¶ä½“éªŒæ— è®ºæ˜¯ä½œä¸º Coding Agent è¿˜æ˜¯ Research Agent éƒ½éå¸¸å‡ºè‰²ã€‚</p><h3 id=51-å®‰è£…ä¸å¯åŠ¨>5.1 å®‰è£…ä¸å¯åŠ¨<a class=anchor href=#51-%e5%ae%89%e8%a3%85%e4%b8%8e%e5%90%af%e5%8a%a8>#</a></h3><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=c1># æ¨èä½¿ç”¨ uv å·¥å…·é“¾å®‰è£…ï¼ˆéš”ç¦»ç¯å¢ƒï¼‰</span>
</span></span><span class=line><span class=cl>uv tool install deepagents-cli
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># å¯åŠ¨ CLI (äº¤äº’æ¨¡å¼)</span>
</span></span><span class=line><span class=cl>deepagents</span></span></code></pre></div><h3 id=52-æ ¸å¿ƒå‘½ä»¤å‚æ•°è¯¦è§£>5.2 æ ¸å¿ƒå‘½ä»¤å‚æ•°è¯¦è§£<a class=anchor href=#52-%e6%a0%b8%e5%bf%83%e5%91%bd%e4%bb%a4%e5%8f%82%e6%95%b0%e8%af%a6%e8%a7%a3>#</a></h3><table><thead><tr><th style=text-align:left>å‚æ•°</th><th style=text-align:left>è¯´æ˜</th><th style=text-align:left>ç¤ºä¾‹</th></tr></thead><tbody><tr><td style=text-align:left><code>--agent &lt;NAME></code></td><td style=text-align:left><strong>æœ€é‡è¦</strong>ã€‚æŒ‡å®š Agent åç§°ã€‚ä¸åŒåç§°æ‹¥æœ‰ç‹¬ç«‹çš„è®°å¿†ç©ºé—´ã€‚</td><td style=text-align:left><code>deepagents --agent my-coder</code></td></tr><tr><td style=text-align:left><code>--sandbox &lt;TYPE></code></td><td style=text-align:left>å¯ç”¨è¿œç¨‹æ²™ç®±è¿è¡Œä»£ç ï¼ˆå®‰å…¨æ¨¡å¼ï¼‰ã€‚æ”¯æŒ daytona, modalã€‚</td><td style=text-align:left><code>deepagents --sandbox daytona</code></td></tr><tr><td style=text-align:left><code>--resume</code></td><td style=text-align:left>æ¢å¤ä¸Šä¸€æ¬¡çš„ä¼šè¯ä¸Šä¸‹æ–‡ã€‚</td><td style=text-align:left><code>deepagents --resume</code></td></tr><tr><td style=text-align:left><code>--model</code></td><td style=text-align:left>æŒ‡å®šæ¨¡å‹ IDã€‚</td><td style=text-align:left><code>deepagents --model claude-3-5-sonnet</code></td></tr></tbody></table><h3 id=53-äº¤äº’å¼æŒ‡ä»¤-slash-commands>5.3 äº¤äº’å¼æŒ‡ä»¤ (Slash Commands)<a class=anchor href=#53-%e4%ba%a4%e4%ba%92%e5%bc%8f%e6%8c%87%e4%bb%a4-slash-commands>#</a></h3><p>äº¤äº’æ¨¡å¼ä¸‹æ”¯æŒä»¥ä¸‹æŒ‡ä»¤ï¼š</p><ul><li><code>/clear</code>: æ¸…ç©ºå½“å‰å¯¹è¯å†å²ï¼ˆToken å‡è´Ÿï¼‰ã€‚</li><li><code>/tokens</code>: æŸ¥çœ‹å½“å‰ Token ä½¿ç”¨é‡ç»Ÿè®¡ã€‚</li><li><code>/threads</code>: åˆ—å‡ºå†å²ä¼šè¯åˆ—è¡¨ï¼Œæ–¹ä¾¿åˆ‡æ¢ã€‚</li><li><code>/exit</code>: ä¿å­˜çŠ¶æ€å¹¶é€€å‡ºã€‚</li></ul><h3 id=54-æ‰‹åŠ¨å¹²é¢„è®°å¿†-manual-memory-intervention>5.4 æ‰‹åŠ¨å¹²é¢„è®°å¿† (Manual Memory Intervention)<a class=anchor href=#54-%e6%89%8b%e5%8a%a8%e5%b9%b2%e9%a2%84%e8%ae%b0%e5%bf%86-manual-memory-intervention>#</a></h3><p>ç”±äº Deep Agents ä½¿ç”¨æ–‡ä»¶ç³»ç»Ÿç®¡ç†è®°å¿†ï¼Œä½ å¯ä»¥ç›´æ¥åœ¨æœ¬åœ°æ–‡ä»¶ç³»ç»Ÿä¸­å¹²é¢„ Agent çš„é•¿æœŸè®°å¿†ã€‚</p><ul><li><strong>è®°å¿†ä½ç½®</strong>ï¼š<code>~/.deepagents/{AGENT_NAME}/memories/</code></li><li><strong>æ“ä½œæ–¹å¼</strong>ï¼šä½ å¯ä»¥ç›´æ¥ç”¨ VS Code æˆ– Vim ç¼–è¾‘ç›®å½•ä¸‹çš„ <code>.md</code> æ–‡ä»¶ã€‚ä¸‹æ¬¡ Agent å¯åŠ¨æ—¶ï¼Œä¼šè‡ªåŠ¨è¯»å–ä½ ä¿®æ”¹åçš„å†…å®¹ã€‚è¿™æ˜¯ä¸€æ¡éå¸¸é«˜æ•ˆçš„â€œä¸Šå¸é€šé“â€ã€‚</li></ul><hr><h2 id=ç¬¬6ç« å®‰å…¨æœºåˆ¶human-in-the-loop>ç¬¬6ç« ï¼šå®‰å…¨æœºåˆ¶ï¼šHuman-in-the-Loop<a class=anchor href=#%e7%ac%ac6%e7%ab%a0%e5%ae%89%e5%85%a8%e6%9c%ba%e5%88%b6human-in-the-loop>#</a></h2><p>åœ¨ç”Ÿäº§ç¯å¢ƒä¸­ï¼Œè®© AI è‡ªåŠ¨æ‰§è¡Œ <code>write_file</code> æˆ– <code>internet_search</code> å¯èƒ½å¸¦æ¥é£é™©ã€‚Deep Agents é›†æˆäº† LangGraph çš„ <strong>Checkpointer</strong> æœºåˆ¶ï¼Œå®ç°äº†ç²¾ç»†çš„äººå·¥ä»‹å…¥ã€‚</p><h3 id=61-æ‹¦æˆªå±é™©æ“ä½œ>6.1 æ‹¦æˆªå±é™©æ“ä½œ<a class=anchor href=#61-%e6%8b%a6%e6%88%aa%e5%8d%b1%e9%99%a9%e6%93%8d%e4%bd%9c>#</a></h3><p>æˆ‘ä»¬å¯ä»¥é…ç½® <code>interrupt_on</code> å‚æ•°ï¼ŒæŒ‡å®šå“ªäº›å·¥å…·åœ¨æ‰§è¡Œå‰å¿…é¡»æš‚åœã€‚</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=kn>from</span> <span class=nn>langgraph.checkpoint.memory</span> <span class=kn>import</span> <span class=n>MemorySaver</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 1. å¿…é¡»å¯ç”¨ Checkpointer æ‰èƒ½ä¿å­˜æš‚åœæ—¶çš„çŠ¶æ€</span>
</span></span><span class=line><span class=cl><span class=n>checkpointer</span> <span class=o>=</span> <span class=n>MemorySaver</span><span class=p>()</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 2. åˆ›å»º Agentï¼Œæ‹¦æˆªå†™å…¥æ“ä½œ</span>
</span></span><span class=line><span class=cl><span class=n>agent</span> <span class=o>=</span> <span class=n>create_deep_agent</span><span class=p>(</span>
</span></span><span class=line><span class=cl>    <span class=n>tools</span><span class=o>=</span><span class=p>[</span><span class=n>internet_search</span><span class=p>],</span>
</span></span><span class=line><span class=cl>    <span class=n>interrupt_on</span><span class=o>=</span><span class=p>[</span><span class=s2>&#34;write_file&#34;</span><span class=p>,</span> <span class=s2>&#34;edit_file&#34;</span><span class=p>],</span>  <span class=c1># &lt;--- æ‹¦æˆªé…ç½®</span>
</span></span><span class=line><span class=cl>    <span class=n>checkpointer</span><span class=o>=</span><span class=n>checkpointer</span>
</span></span><span class=line><span class=cl><span class=p>)</span></span></span></code></pre></div><h3 id=62-å®Œæ•´çš„æ‹¦æˆª-æ¢å¤æµç¨‹>6.2 å®Œæ•´çš„æ‹¦æˆª-æ¢å¤æµç¨‹<a class=anchor href=#62-%e5%ae%8c%e6%95%b4%e7%9a%84%e6%8b%a6%e6%88%aa-%e6%81%a2%e5%a4%8d%e6%b5%81%e7%a8%8b>#</a></h3><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=kn>from</span> <span class=nn>langchain_core.messages</span> <span class=kn>import</span> <span class=n>HumanMessage</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>config</span> <span class=o>=</span> <span class=p>{</span><span class=s2>&#34;configurable&#34;</span><span class=p>:</span> <span class=p>{</span><span class=s2>&#34;thread_id&#34;</span><span class=p>:</span> <span class=s2>&#34;safe-thread-1&#34;</span><span class=p>}}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># --- æ­¥éª¤ 1: è§¦å‘æ‰§è¡Œ ---</span>
</span></span><span class=line><span class=cl><span class=c1># å‡è®¾ Agent å†³å®šè°ƒç”¨ write_file(&#34;virus.py&#34;, ...)</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=s2>&#34;--- Round 1: Agent Running ---&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=c1># è¿™é‡Œçš„ stream_mode=&#34;values&#34; ä¼šåœ¨æš‚åœå‰åœæ­¢</span>
</span></span><span class=line><span class=cl><span class=k>for</span> <span class=n>event</span> <span class=ow>in</span> <span class=n>agent</span><span class=o>.</span><span class=n>stream</span><span class=p>(</span>
</span></span><span class=line><span class=cl>    <span class=p>{</span><span class=s2>&#34;messages&#34;</span><span class=p>:</span> <span class=p>[</span><span class=n>HumanMessage</span><span class=p>(</span><span class=n>content</span><span class=o>=</span><span class=s2>&#34;å†™ä¸€ä¸ª Python è„šæœ¬&#34;</span><span class=p>)]},</span>
</span></span><span class=line><span class=cl>    <span class=n>config</span>
</span></span><span class=line><span class=cl><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=k>pass</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># --- æ­¥éª¤ 2: æ£€æŸ¥çŠ¶æ€ ---</span>
</span></span><span class=line><span class=cl><span class=n>state</span> <span class=o>=</span> <span class=n>agent</span><span class=o>.</span><span class=n>get_state</span><span class=p>(</span><span class=n>config</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=k>if</span> <span class=n>state</span><span class=o>.</span><span class=n>next</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&#34;âš ï¸  PAUSED. Next action: </span><span class=si>{</span><span class=n>state</span><span class=o>.</span><span class=n>next</span><span class=si>}</span><span class=s2>&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=c1># è¿™é‡Œå¯ä»¥åŠ å…¥äººå·¥å®¡æ ¸é€»è¾‘ï¼š</span>
</span></span><span class=line><span class=cl>    <span class=c1># user_input = input(&#34;Allow this action? (y/n)&#34;)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=c1># --- æ­¥éª¤ 3: æ¢å¤æ‰§è¡Œ ---</span>
</span></span><span class=line><span class=cl>    <span class=c1># ä¼ å…¥ None è¡¨ç¤º&#34;æ”¾è¡Œ&#34;ï¼Œç»§ç»­æ‰§è¡Œè¢«æš‚åœçš„æ“ä½œ</span>
</span></span><span class=line><span class=cl>    <span class=nb>print</span><span class=p>(</span><span class=s2>&#34;</span><span class=se>\n</span><span class=s2>âœ… Resuming execution...&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=k>for</span> <span class=n>event</span> <span class=ow>in</span> <span class=n>agent</span><span class=o>.</span><span class=n>stream</span><span class=p>(</span><span class=kc>None</span><span class=p>,</span> <span class=n>config</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=nb>print</span><span class=p>(</span><span class=n>event</span><span class=p>)</span></span></span></code></pre></div><p>è¿™ä¸€æœºåˆ¶ç¡®ä¿äº† Agent æ°¸è¿œä¸ä¼šåœ¨äººç±»ä¸çŸ¥æƒ…çš„æƒ…å†µä¸‹ä¿®æ”¹å…³é”®ä»£ç æˆ–æ•°æ®ã€‚</p><hr><h2 id=ç¬¬7ç« è¿›é˜¶å®šåˆ¶å­æ™ºèƒ½ä½“å·¥å‚>ç¬¬7ç« ï¼šè¿›é˜¶å®šåˆ¶ï¼šå­æ™ºèƒ½ä½“å·¥å‚<a class=anchor href=#%e7%ac%ac7%e7%ab%a0%e8%bf%9b%e9%98%b6%e5%ae%9a%e5%88%b6%e5%ad%90%e6%99%ba%e8%83%bd%e4%bd%93%e5%b7%a5%e5%8e%82>#</a></h2><p>å¦‚ä½•æ„å»ºæ›´å¼ºå¤§çš„ Agentï¼Ÿç­”æ¡ˆæ˜¯å®šåˆ¶åŒ–å­æ™ºèƒ½ä½“ã€‚æˆ‘ä»¬æ¨èä½¿ç”¨<strong>å­—å…¸é…ç½®æ¨¡å¼</strong>ï¼Œå®ƒæœ€ç®€æ´ä¸”æ˜“äºç»´æŠ¤ã€‚</p><h3 id=71-å­—å…¸é…ç½®æ¨¡å¼æ¨è>7.1 å­—å…¸é…ç½®æ¨¡å¼ï¼ˆæ¨èï¼‰<a class=anchor href=#71-%e5%ad%97%e5%85%b8%e9%85%8d%e7%bd%ae%e6%a8%a1%e5%bc%8f%e6%8e%a8%e8%8d%90>#</a></h3><p>è¿™æ˜¯å®šä¹‰ Subagent æœ€ç®€å•çš„æ–¹å¼ã€‚åªéœ€æä¾›ä¸€ä¸ªé…ç½®å­—å…¸ï¼ŒDeep Agents ä¼šè‡ªåŠ¨å¤„ç†ä¸Šä¸‹æ–‡éš”ç¦»å’Œè·¯ç”±ã€‚</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=c1># å®šä¹‰å­ Agent é…ç½®</span>
</span></span><span class=line><span class=cl><span class=n>coder_agent_config</span> <span class=o>=</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;name&#34;</span><span class=p>:</span> <span class=s2>&#34;python_coder&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;description&#34;</span><span class=p>:</span> <span class=s2>&#34;A specialist in Python coding tasks.&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;system_prompt&#34;</span><span class=p>:</span> <span class=s2>&#34;You are a senior Python engineer. Write type-safe code...&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;tools&#34;</span><span class=p>:</span> <span class=p>[</span><span class=n>read_file</span><span class=p>,</span> <span class=n>write_file</span><span class=p>],</span> <span class=c1># å­ Agent å¯ä»¥æœ‰ä¸“å±å·¥å…·é›†</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;model&#34;</span><span class=p>:</span> <span class=s2>&#34;claude-3-5-sonnet-20241022&#34;</span><span class=p>,</span> <span class=c1># å­ Agent å¯ä»¥ç”¨æ›´å¼ºçš„æ¨¡å‹</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># æŒ‚è½½åˆ°ä¸» Agent</span>
</span></span><span class=line><span class=cl><span class=n>main_agent</span> <span class=o>=</span> <span class=n>create_deep_agent</span><span class=p>(</span>
</span></span><span class=line><span class=cl>    <span class=n>model</span><span class=o>=</span><span class=s2>&#34;gpt-4o&#34;</span><span class=p>,</span> <span class=c1># ä¸» Agent ç”¨ä¾¿å®œæ¨¡å‹åšè°ƒåº¦</span>
</span></span><span class=line><span class=cl>    <span class=n>subagents</span><span class=o>=</span><span class=p>[</span><span class=n>coder_agent_config</span><span class=p>]</span>
</span></span><span class=line><span class=cl><span class=p>)</span></span></span></code></pre></div><h3 id=72-ç¼–è¯‘å›¾æ¨¡å¼é«˜çº§>7.2 ç¼–è¯‘å›¾æ¨¡å¼ï¼ˆé«˜çº§ï¼‰<a class=anchor href=#72-%e7%bc%96%e8%af%91%e5%9b%be%e6%a8%a1%e5%bc%8f%e9%ab%98%e7%ba%a7>#</a></h3><p>å¦‚æœä½ å·²ç»æœ‰ä¸€ä¸ªéå¸¸å¤æ‚çš„ LangGraph å›¾ï¼ˆæ¯”å¦‚ä¸€ä¸ªåŒ…å« RAGã€å‘é‡åº“æ£€ç´¢çš„å›¾ï¼‰ï¼Œä½ å¯ä»¥æŠŠå®ƒç›´æ¥åŒ…è£…æˆä¸€ä¸ª Subagentã€‚</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=kn>from</span> <span class=nn>deepagents</span> <span class=kn>import</span> <span class=n>CompiledSubAgent</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># å‡è®¾ custom_graph æ˜¯ä¸€ä¸ªç¼–è¯‘å¥½çš„ LangGraph CompiledGraph</span>
</span></span><span class=line><span class=cl><span class=n>subagent</span> <span class=o>=</span> <span class=n>CompiledSubAgent</span><span class=p>(</span>
</span></span><span class=line><span class=cl>    <span class=n>name</span><span class=o>=</span><span class=s2>&#34;legal_advisor&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=n>description</span><span class=o>=</span><span class=s2>&#34;Consults the legal vector database.&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=n>runnable</span><span class=o>=</span><span class=n>custom_graph</span>
</span></span><span class=line><span class=cl><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>main_agent</span> <span class=o>=</span> <span class=n>create_deep_agent</span><span class=p>(</span><span class=n>subagents</span><span class=o>=</span><span class=p>[</span><span class=n>subagent</span><span class=p>])</span></span></span></code></pre></div><h3 id=73-å­ä»£ç†çš„é«˜çº§é€šä¿¡>7.3 å­ä»£ç†çš„é«˜çº§é€šä¿¡<a class=anchor href=#73-%e5%ad%90%e4%bb%a3%e7%90%86%e7%9a%84%e9%ab%98%e7%ba%a7%e9%80%9a%e4%bf%a1>#</a></h3><p>ä¸» Agent ä¸ä»…èƒ½ç»™å­ Agent åˆ†é…ä»»åŠ¡ï¼Œè¿˜èƒ½é€šè¿‡ Prompt éšå¼ä¼ é€’ä¸Šä¸‹æ–‡ã€‚</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=c1># ä¸» Agent æ€è€ƒ</span>
</span></span><span class=line><span class=cl><span class=s2>&#34;æˆ‘éœ€è¦åˆ†æ user_data.csvã€‚æˆ‘ä¼šæŠŠ schema ä¼ ç»™å­ä»£ç†ã€‚&#34;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># ä¸» Agent è°ƒç”¨å·¥å…·</span>
</span></span><span class=line><span class=cl><span class=n>task</span><span class=p>(</span>
</span></span><span class=line><span class=cl>    <span class=n>name</span><span class=o>=</span><span class=s2>&#34;data_analyst&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=n>goal</span><span class=o>=</span><span class=s2>&#34;Analyze user_data.csv. Note: The schema includes &#39;id&#39;, &#39;login_time&#39;.&#34;</span>
</span></span><span class=line><span class=cl><span class=p>)</span></span></span></code></pre></div><p>å­ Agent å¯åŠ¨æ—¶ï¼Œ<code>goal</code> å­—æ®µçš„å†…å®¹ä¼šè¢«æ³¨å…¥åˆ°å®ƒçš„ System Prompt ä¸­ï¼Œä»è€Œå®ç°â€œä¸Šä¸‹æ–‡ä¼ é€’â€ã€‚</p><hr><h2 id=ç¬¬8ç« æœ€ä½³å®è·µä¸æ€»ç»“>ç¬¬8ç« ï¼šæœ€ä½³å®è·µä¸æ€»ç»“<a class=anchor href=#%e7%ac%ac8%e7%ab%a0%e6%9c%80%e4%bd%b3%e5%ae%9e%e8%b7%b5%e4%b8%8e%e6%80%bb%e7%bb%93>#</a></h2><h3 id=81-æ¶æ„è®¾è®¡åŸåˆ™>8.1 æ¶æ„è®¾è®¡åŸåˆ™<a class=anchor href=#81-%e6%9e%b6%e6%9e%84%e8%ae%be%e8%ae%a1%e5%8e%9f%e5%88%99>#</a></h3><ol><li><p><strong>Memory-First Protocolï¼ˆå†…å­˜ä¼˜å…ˆï¼‰</strong>ï¼š
åœ¨ Prompt ä¸­æ˜ç¡®æŒ‡ç¤º Agentï¼šâ€œåœ¨å›ç­”é—®é¢˜å‰ï¼Œå…ˆæ£€æŸ¥ <code>/memories/</code> ç›®å½•ä¸‹çš„ç›¸å…³æ–‡ä»¶â€ã€‚è¿™èƒ½å¤§å¹…æå‡ä¸ªæ€§åŒ–ä½“éªŒã€‚</p></li><li><p><strong>Context Quarantineï¼ˆä¸Šä¸‹æ–‡éš”ç¦»ï¼‰</strong>ï¼š
åªè¦ä»»åŠ¡æ¶‰åŠâ€œè¯»å–å¤§é‡æ— å…³æ•°æ®â€æˆ–â€œæ‰§è¡Œè¶…è¿‡ 5 æ­¥çš„å°è¯•â€ï¼Œå°±åšå†³ä½¿ç”¨ Subagentã€‚<strong>ä¿æŒä¸» Agent çš„ Context å¹²å‡€æ˜¯é•¿æœŸè¿è¡Œå¹¶ä¿æŒé«˜æ™ºå•†çš„å…³é”®ã€‚</strong></p></li><li><p><strong>General Purpose Agent</strong>ï¼š
å¦‚æœä½ æ‡’å¾—é…ç½®ä¸“é—¨çš„å­ Agentï¼Œå¯ä»¥ç›´æ¥åœ¨ Prompt å‘Šè¯‰ä¸» Agentï¼šâ€œé‡åˆ°å¤æ‚ä»»åŠ¡ï¼Œè¯·è°ƒç”¨ <code>task(name='general-purpose', ...)</code>â€ã€‚ç³»ç»Ÿå†…ç½®äº†è¿™ä¸ªé€šç”¨åˆ†èº«ï¼Œå¯ä»¥å¸®ä½ åˆ†æ‹…è„æ´»ã€‚</p></li></ol><h3 id=82-æœ¬ç« å°ç»“>8.2 æœ¬ç« å°ç»“<a class=anchor href=#82-%e6%9c%ac%e7%ab%a0%e5%b0%8f%e7%bb%93>#</a></h3><p>Deep Agents ä¸ä»…ä»…æ˜¯ä¸€ä¸ªåº“ï¼Œå®ƒæ˜¯æ„å»º <strong>AGI åº”ç”¨çš„æ ‡å‡†è“å›¾</strong>ã€‚</p><ul><li><strong>Layer 1: Planning</strong> -> è§£å†³â€œæ€ä¹ˆåšâ€çš„é—®é¢˜ã€‚</li><li><strong>Layer 2: FileSystem</strong> -> è§£å†³â€œè®°ä¸ä½â€çš„é—®é¢˜ã€‚</li><li><strong>Layer 3: Subagents</strong> -> è§£å†³â€œå¹²ä¸åŠ¨â€çš„é—®é¢˜ã€‚</li></ul><h3 id=83-æ€è€ƒä¸ç»ƒä¹ >8.3 æ€è€ƒä¸ç»ƒä¹ <a class=anchor href=#83-%e6%80%9d%e8%80%83%e4%b8%8e%e7%bb%83%e4%b9%a0>#</a></h3><ol><li><strong>ç»ƒä¹  1</strong>ï¼šå°è¯•ä¿®æ”¹ç¬¬ 2 ç« çš„ä»£ç ï¼Œå¢åŠ ä¸€ä¸ª <code>files_list</code> å·¥å…·ï¼Œè®© Agent å¯ä»¥åˆ—å‡ºå½“å‰ç›®å½•ä¸‹çš„æ–‡ä»¶ã€‚</li><li><strong>ç»ƒä¹  2</strong>ï¼šé…ç½® <code>CompositeBackend</code>ï¼Œè®© Agent å°†ä½ çš„åå­—å†™å…¥ <code>/memories/name.txt</code>ï¼Œé‡å¯ç¨‹åºåï¼ŒéªŒè¯å®ƒæ˜¯å¦è¿˜è®°å¾—ä½ çš„åå­—ã€‚</li><li><strong>æ€è€ƒé¢˜</strong>ï¼šä¸ºä»€ä¹ˆ Deep Agents é€‰æ‹©ç”¨â€œæ–‡ä»¶ç³»ç»Ÿâ€è€Œä¸æ˜¯â€œå‘é‡æ•°æ®åº“â€æ¥ä½œä¸ºä¸»è¦çš„ Context å¸è½½æœºåˆ¶ï¼Ÿå®ƒä»¬å„è‡ªçš„ä¼˜ç¼ºç‚¹æ˜¯ä»€ä¹ˆï¼Ÿ</li></ol></article><div style="margin-top:2rem;border-top:1px solid #e5e7eb;padding-top:1rem;font-size:.85rem;color:#6b7280;text-align:center">[ç»Ÿè®¡ç»„ä»¶ä»…åœ¨ç”Ÿäº§ç¯å¢ƒæ˜¾ç¤º]</div><div class=giscus style=margin-top:2rem></div><script src=https://giscus.app/client.js data-repo=LordFoxFairy/LordFoxFairy.github.io data-repo-id=R_kgDOQ-JRGA data-category=Announcements data-category-id=DIC_kwDOQ-JRGM4C1PDC data-mapping=pathname data-strict=0 data-reactions-enabled=1 data-emit-metadata=0 data-input-position=bottom data-theme=preferred_color_scheme data-lang=zh-CN data-loading=lazy crossorigin=anonymous async></script><footer class=book-footer><div class="flex flex-wrap justify-between"><div></div><div></div></div><div class="flex flex-wrap justify-between"><span><a href=/notebooks/langchain%E7%AC%94%E8%AE%B0/%E7%AC%AC%E5%85%AD%E7%AF%87-%E6%96%87%E6%A1%A3%E5%A4%84%E7%90%86%E4%B8%8E%E6%95%B0%E6%8D%AE%E6%B8%85%E6%B4%97/ class="flex align-center"><img src=/icons/backward.svg class=book-icon alt=Backward>
<span>ç¬¬å…­ç¯‡ æ–‡æ¡£å¤„ç†ä¸æ•°æ®æ¸…æ´—</span>
</a></span><span><a href=/notebooks/langchain%E7%AC%94%E8%AE%B0/%E7%AC%AC%E5%85%AB%E7%AF%87-middleware-%E5%B7%A5%E7%A8%8B%E5%8C%96/ class="flex align-center"><span>ç¬¬å…«ç¯‡ Middleware å·¥ç¨‹åŒ–</span>
<img src=/icons/forward.svg class=book-icon alt=Forward></a></span></div><div class=book-comments></div><script>(function(){document.querySelectorAll("pre:has(code)").forEach(e=>{e.addEventListener("click",e.focus),e.addEventListener("copy",function(t){if(t.preventDefault(),navigator.clipboard){const t=window.getSelection().toString()||e.textContent;navigator.clipboard.writeText(t)}})})})()</script></footer><label for=menu-control class="hidden book-menu-overlay"></label></div><aside class=book-toc><div class=book-toc-content><nav id=TableOfContents><ul><li><a href=#-å‰ç½®å‡†å¤‡>ğŸ“‹ å‰ç½®å‡†å¤‡</a><ul><li><a href=#ç¯å¢ƒé…ç½®>ç¯å¢ƒé…ç½®</a><ul><li><a href=#1-å®‰è£…ä¾èµ–>1. å®‰è£…ä¾èµ–</a></li><li><a href=#2-ç¯å¢ƒå˜é‡é…ç½®>2. ç¯å¢ƒå˜é‡é…ç½®</a></li></ul></li><li><a href=#å‰ç½®çŸ¥è¯†>å‰ç½®çŸ¥è¯†</a></li></ul></li><li><a href=#ç¬¬1ç« deep-agents-æ ¸å¿ƒæ¶æ„>ç¬¬1ç« ï¼šDeep Agents æ ¸å¿ƒæ¶æ„</a><ul><li><a href=#11-ä»€ä¹ˆæ˜¯-agent-harness>1.1 ä»€ä¹ˆæ˜¯ Agent Harnessï¼Ÿ</a></li><li><a href=#12-ä¸‰å¤§æ ¸å¿ƒèƒ½åŠ›è§£æ>1.2 ä¸‰å¤§æ ¸å¿ƒèƒ½åŠ›è§£æ</a></li><li><a href=#13-æŠ€æœ¯é€‰å‹å†³ç­–æ ‘>1.3 æŠ€æœ¯é€‰å‹å†³ç­–æ ‘</a></li></ul></li><li><a href=#ç¬¬2ç« å¿«é€Ÿä¸Šæ‰‹æ„å»º-deep-research-agent>ç¬¬2ç« ï¼šå¿«é€Ÿä¸Šæ‰‹ï¼šæ„å»º Deep Research Agent</a><ul><li><a href=#21-å®šä¹‰æ ¸å¿ƒå·¥å…·>2.1 å®šä¹‰æ ¸å¿ƒå·¥å…·</a></li><li><a href=#22-æ„å»º-deep-agent>2.2 æ„å»º Deep Agent</a></li><li><a href=#23-æ·±åº¦è¿è¡Œåˆ†æ-execution-anatomy>2.3 æ·±åº¦è¿è¡Œåˆ†æ (Execution Anatomy)</a><ul><li><a href=#ç¬¬ä¸€é˜¶æ®µå¼ºåˆ¶è§„åˆ’-the-planning-phase>ç¬¬ä¸€é˜¶æ®µï¼šå¼ºåˆ¶è§„åˆ’ (The Planning Phase)</a></li><li><a href=#ç¬¬äºŒé˜¶æ®µæ‰§è¡Œä¸ä¸Šä¸‹æ–‡å¸è½½-execution--eviction>ç¬¬äºŒé˜¶æ®µï¼šæ‰§è¡Œä¸ä¸Šä¸‹æ–‡å¸è½½ (Execution & Eviction)</a></li><li><a href=#ç¬¬ä¸‰é˜¶æ®µåˆæˆä¸äº¤ä»˜-synthesis>ç¬¬ä¸‰é˜¶æ®µï¼šåˆæˆä¸äº¤ä»˜ (Synthesis)</a></li></ul></li></ul></li><li><a href=#ç¬¬3ç« æ ¸å¿ƒæœºåˆ¶æ·±åº¦è§£æ>ç¬¬3ç« ï¼šæ ¸å¿ƒæœºåˆ¶æ·±åº¦è§£æ</a><ul><li><a href=#31-è§„åˆ’ç³»ç»Ÿtodolistmiddleware>3.1 è§„åˆ’ç³»ç»Ÿï¼šTodoListMiddleware</a></li><li><a href=#32-è®°å¿†ç³»ç»Ÿcontext-eviction-åŸç†>3.2 è®°å¿†ç³»ç»Ÿï¼šContext Eviction åŸç†</a></li><li><a href=#33-åˆ†æ²»ç³»ç»Ÿsubagent-spawning>3.3 åˆ†æ²»ç³»ç»Ÿï¼šSubAgent Spawning</a></li><li><a href=#34-è‡ªæˆ‘ä¿®æ­£å¾ªç¯-self-correction-loop>3.4 è‡ªæˆ‘ä¿®æ­£å¾ªç¯ (Self-Correction Loop)</a></li></ul></li><li><a href=#ç¬¬4ç« å­˜å‚¨åç«¯å·¥ç¨‹åŒ–>ç¬¬4ç« ï¼šå­˜å‚¨åç«¯å·¥ç¨‹åŒ–</a><ul><li><a href=#41-åç«¯æ¶æ„å…¨æ™¯>4.1 åç«¯æ¶æ„å…¨æ™¯</a></li><li><a href=#42-statebackend-vs-storebackend>4.2 StateBackend vs StoreBackend</a></li><li><a href=#43-ç”Ÿäº§çº§æœ€ä½³å®è·µcompositebackend>4.3 ç”Ÿäº§çº§æœ€ä½³å®è·µï¼šCompositeBackend</a></li></ul></li><li><a href=#ç¬¬5ç« cli-å·¥å…·ä¸äº¤äº’å®æˆ˜>ç¬¬5ç« ï¼šCLI å·¥å…·ä¸äº¤äº’å®æˆ˜</a><ul><li><a href=#51-å®‰è£…ä¸å¯åŠ¨>5.1 å®‰è£…ä¸å¯åŠ¨</a></li><li><a href=#52-æ ¸å¿ƒå‘½ä»¤å‚æ•°è¯¦è§£>5.2 æ ¸å¿ƒå‘½ä»¤å‚æ•°è¯¦è§£</a></li><li><a href=#53-äº¤äº’å¼æŒ‡ä»¤-slash-commands>5.3 äº¤äº’å¼æŒ‡ä»¤ (Slash Commands)</a></li><li><a href=#54-æ‰‹åŠ¨å¹²é¢„è®°å¿†-manual-memory-intervention>5.4 æ‰‹åŠ¨å¹²é¢„è®°å¿† (Manual Memory Intervention)</a></li></ul></li><li><a href=#ç¬¬6ç« å®‰å…¨æœºåˆ¶human-in-the-loop>ç¬¬6ç« ï¼šå®‰å…¨æœºåˆ¶ï¼šHuman-in-the-Loop</a><ul><li><a href=#61-æ‹¦æˆªå±é™©æ“ä½œ>6.1 æ‹¦æˆªå±é™©æ“ä½œ</a></li><li><a href=#62-å®Œæ•´çš„æ‹¦æˆª-æ¢å¤æµç¨‹>6.2 å®Œæ•´çš„æ‹¦æˆª-æ¢å¤æµç¨‹</a></li></ul></li><li><a href=#ç¬¬7ç« è¿›é˜¶å®šåˆ¶å­æ™ºèƒ½ä½“å·¥å‚>ç¬¬7ç« ï¼šè¿›é˜¶å®šåˆ¶ï¼šå­æ™ºèƒ½ä½“å·¥å‚</a><ul><li><a href=#71-å­—å…¸é…ç½®æ¨¡å¼æ¨è>7.1 å­—å…¸é…ç½®æ¨¡å¼ï¼ˆæ¨èï¼‰</a></li><li><a href=#72-ç¼–è¯‘å›¾æ¨¡å¼é«˜çº§>7.2 ç¼–è¯‘å›¾æ¨¡å¼ï¼ˆé«˜çº§ï¼‰</a></li><li><a href=#73-å­ä»£ç†çš„é«˜çº§é€šä¿¡>7.3 å­ä»£ç†çš„é«˜çº§é€šä¿¡</a></li></ul></li><li><a href=#ç¬¬8ç« æœ€ä½³å®è·µä¸æ€»ç»“>ç¬¬8ç« ï¼šæœ€ä½³å®è·µä¸æ€»ç»“</a><ul><li><a href=#81-æ¶æ„è®¾è®¡åŸåˆ™>8.1 æ¶æ„è®¾è®¡åŸåˆ™</a></li><li><a href=#82-æœ¬ç« å°ç»“>8.2 æœ¬ç« å°ç»“</a></li><li><a href=#83-æ€è€ƒä¸ç»ƒä¹ >8.3 æ€è€ƒä¸ç»ƒä¹ </a></li></ul></li></ul></nav></div></aside></main></body></html>